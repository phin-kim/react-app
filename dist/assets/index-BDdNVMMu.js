var dw=Object.defineProperty;var mw=(n,t,e)=>t in n?dw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var It=(n,t,e)=>mw(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function gw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var og={exports:{}},uc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function pw(){if(l0)return uc;l0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return uc.Fragment=t,uc.jsx=e,uc.jsxs=e,uc}var u0;function _w(){return u0||(u0=1,og.exports=pw()),og.exports}var G=_w(),lg={exports:{}},Wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function yw(){if(c0)return Wt;c0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=x&&z[x]||z["@@iterator"],typeof z=="function"?z:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,k={};function V(z,lt,vt){this.props=z,this.context=lt,this.refs=k,this.updater=vt||R}V.prototype.isReactComponent={},V.prototype.setState=function(z,lt){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,lt,"setState")},V.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function K(){}K.prototype=V.prototype;function tt(z,lt,vt){this.props=z,this.context=lt,this.refs=k,this.updater=vt||R}var st=tt.prototype=new K;st.constructor=tt,P(st,V.prototype),st.isPureReactComponent=!0;var ut=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},ht=Object.prototype.hasOwnProperty;function B(z,lt,vt,mt,xt,St){return vt=St.ref,{$$typeof:n,type:z,key:lt,ref:vt!==void 0?vt:null,props:St}}function O(z,lt){return B(z.type,lt,void 0,void 0,void 0,z.props)}function N(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function H(z){var lt={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(vt){return lt[vt]})}var U=/\/+/g;function Z(z,lt){return typeof z=="object"&&z!==null&&z.key!=null?H(""+z.key):lt.toString(36)}function j(){}function Ut(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(j,j):(z.status="pending",z.then(function(lt){z.status==="pending"&&(z.status="fulfilled",z.value=lt)},function(lt){z.status==="pending"&&(z.status="rejected",z.reason=lt)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Ot(z,lt,vt,mt,xt){var St=typeof z;(St==="undefined"||St==="boolean")&&(z=null);var Tt=!1;if(z===null)Tt=!0;else switch(St){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(z.$$typeof){case n:case t:Tt=!0;break;case T:return Tt=z._init,Ot(Tt(z._payload),lt,vt,mt,xt)}}if(Tt)return xt=xt(z),Tt=mt===""?"."+Z(z,0):mt,ut(xt)?(vt="",Tt!=null&&(vt=Tt.replace(U,"$&/")+"/"),Ot(xt,lt,vt,"",function(ti){return ti})):xt!=null&&(N(xt)&&(xt=O(xt,vt+(xt.key==null||z&&z.key===xt.key?"":(""+xt.key).replace(U,"$&/")+"/")+Tt)),lt.push(xt)),1;Tt=0;var _e=mt===""?".":mt+":";if(ut(z))for(var ne=0;ne<z.length;ne++)mt=z[ne],St=_e+Z(mt,ne),Tt+=Ot(mt,lt,vt,St,xt);else if(ne=w(z),typeof ne=="function")for(z=ne.call(z),ne=0;!(mt=z.next()).done;)mt=mt.value,St=_e+Z(mt,ne++),Tt+=Ot(mt,lt,vt,St,xt);else if(St==="object"){if(typeof z.then=="function")return Ot(Ut(z),lt,vt,mt,xt);throw lt=String(z),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function $(z,lt,vt){if(z==null)return z;var mt=[],xt=0;return Ot(z,mt,"","",function(St){return lt.call(vt,St,xt++)}),mt}function _t(z){if(z._status===-1){var lt=z._result;lt=lt(),lt.then(function(vt){(z._status===0||z._status===-1)&&(z._status=1,z._result=vt)},function(vt){(z._status===0||z._status===-1)&&(z._status=2,z._result=vt)}),z._status===-1&&(z._status=0,z._result=lt)}if(z._status===1)return z._result.default;throw z._result}var dt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var lt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(lt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function kt(){}return Wt.Children={map:$,forEach:function(z,lt,vt){$(z,function(){lt.apply(this,arguments)},vt)},count:function(z){var lt=0;return $(z,function(){lt++}),lt},toArray:function(z){return $(z,function(lt){return lt})||[]},only:function(z){if(!N(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Wt.Component=V,Wt.Fragment=e,Wt.Profiler=a,Wt.PureComponent=tt,Wt.StrictMode=i,Wt.Suspense=g,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return nt.H.useMemoCache(z)}},Wt.cache=function(z){return function(){return z.apply(null,arguments)}},Wt.cloneElement=function(z,lt,vt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var mt=P({},z.props),xt=z.key,St=void 0;if(lt!=null)for(Tt in lt.ref!==void 0&&(St=void 0),lt.key!==void 0&&(xt=""+lt.key),lt)!ht.call(lt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&lt.ref===void 0||(mt[Tt]=lt[Tt]);var Tt=arguments.length-2;if(Tt===1)mt.children=vt;else if(1<Tt){for(var _e=Array(Tt),ne=0;ne<Tt;ne++)_e[ne]=arguments[ne+2];mt.children=_e}return B(z.type,xt,void 0,void 0,St,mt)},Wt.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Wt.createElement=function(z,lt,vt){var mt,xt={},St=null;if(lt!=null)for(mt in lt.key!==void 0&&(St=""+lt.key),lt)ht.call(lt,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(xt[mt]=lt[mt]);var Tt=arguments.length-2;if(Tt===1)xt.children=vt;else if(1<Tt){for(var _e=Array(Tt),ne=0;ne<Tt;ne++)_e[ne]=arguments[ne+2];xt.children=_e}if(z&&z.defaultProps)for(mt in Tt=z.defaultProps,Tt)xt[mt]===void 0&&(xt[mt]=Tt[mt]);return B(z,St,void 0,void 0,null,xt)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(z){return{$$typeof:d,render:z}},Wt.isValidElement=N,Wt.lazy=function(z){return{$$typeof:T,_payload:{_status:-1,_result:z},_init:_t}},Wt.memo=function(z,lt){return{$$typeof:y,type:z,compare:lt===void 0?null:lt}},Wt.startTransition=function(z){var lt=nt.T,vt={};nt.T=vt;try{var mt=z(),xt=nt.S;xt!==null&&xt(vt,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(kt,dt)}catch(St){dt(St)}finally{nt.T=lt}},Wt.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},Wt.use=function(z){return nt.H.use(z)},Wt.useActionState=function(z,lt,vt){return nt.H.useActionState(z,lt,vt)},Wt.useCallback=function(z,lt){return nt.H.useCallback(z,lt)},Wt.useContext=function(z){return nt.H.useContext(z)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(z,lt){return nt.H.useDeferredValue(z,lt)},Wt.useEffect=function(z,lt,vt){var mt=nt.H;if(typeof vt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return mt.useEffect(z,lt)},Wt.useId=function(){return nt.H.useId()},Wt.useImperativeHandle=function(z,lt,vt){return nt.H.useImperativeHandle(z,lt,vt)},Wt.useInsertionEffect=function(z,lt){return nt.H.useInsertionEffect(z,lt)},Wt.useLayoutEffect=function(z,lt){return nt.H.useLayoutEffect(z,lt)},Wt.useMemo=function(z,lt){return nt.H.useMemo(z,lt)},Wt.useOptimistic=function(z,lt){return nt.H.useOptimistic(z,lt)},Wt.useReducer=function(z,lt,vt){return nt.H.useReducer(z,lt,vt)},Wt.useRef=function(z){return nt.H.useRef(z)},Wt.useState=function(z){return nt.H.useState(z)},Wt.useSyncExternalStore=function(z,lt,vt){return nt.H.useSyncExternalStore(z,lt,vt)},Wt.useTransition=function(){return nt.H.useTransition()},Wt.version="19.1.0",Wt}var h0;function _p(){return h0||(h0=1,lg.exports=yw()),lg.exports}var De=_p();const QT=gw(De);var ug={exports:{}},cc={},cg={exports:{}},hg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function vw(){return f0||(f0=1,function(n){function t($,_t){var dt=$.length;$.push(_t);t:for(;0<dt;){var kt=dt-1>>>1,z=$[kt];if(0<a(z,_t))$[kt]=_t,$[dt]=z,dt=kt;else break t}}function e($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var _t=$[0],dt=$.pop();if(dt!==_t){$[0]=dt;t:for(var kt=0,z=$.length,lt=z>>>1;kt<lt;){var vt=2*(kt+1)-1,mt=$[vt],xt=vt+1,St=$[xt];if(0>a(mt,dt))xt<z&&0>a(St,mt)?($[kt]=St,$[xt]=dt,kt=xt):($[kt]=mt,$[vt]=dt,kt=vt);else if(xt<z&&0>a(St,dt))$[kt]=St,$[xt]=dt,kt=xt;else break t}}return _t}function a($,_t){var dt=$.sortIndex-_t.sortIndex;return dt!==0?dt:$.id-_t.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var g=[],y=[],T=1,x=null,w=3,R=!1,P=!1,k=!1,V=!1,K=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function ut($){for(var _t=e(y);_t!==null;){if(_t.callback===null)i(y);else if(_t.startTime<=$)i(y),_t.sortIndex=_t.expirationTime,t(g,_t);else break;_t=e(y)}}function nt($){if(k=!1,ut($),!P)if(e(g)!==null)P=!0,ht||(ht=!0,Z());else{var _t=e(y);_t!==null&&Ot(nt,_t.startTime-$)}}var ht=!1,B=-1,O=5,N=-1;function H(){return V?!0:!(n.unstable_now()-N<O)}function U(){if(V=!1,ht){var $=n.unstable_now();N=$;var _t=!0;try{t:{P=!1,k&&(k=!1,tt(B),B=-1),R=!0;var dt=w;try{e:{for(ut($),x=e(g);x!==null&&!(x.expirationTime>$&&H());){var kt=x.callback;if(typeof kt=="function"){x.callback=null,w=x.priorityLevel;var z=kt(x.expirationTime<=$);if($=n.unstable_now(),typeof z=="function"){x.callback=z,ut($),_t=!0;break e}x===e(g)&&i(g),ut($)}else i(g);x=e(g)}if(x!==null)_t=!0;else{var lt=e(y);lt!==null&&Ot(nt,lt.startTime-$),_t=!1}}break t}finally{x=null,w=dt,R=!1}_t=void 0}}finally{_t?Z():ht=!1}}}var Z;if(typeof st=="function")Z=function(){st(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Ut=j.port2;j.port1.onmessage=U,Z=function(){Ut.postMessage(null)}}else Z=function(){K(U,0)};function Ot($,_t){B=K(function(){$(n.unstable_now())},_t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function($){switch(w){case 1:case 2:case 3:var _t=3;break;default:_t=w}var dt=w;w=_t;try{return $()}finally{w=dt}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function($,_t){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var dt=w;w=$;try{return _t()}finally{w=dt}},n.unstable_scheduleCallback=function($,_t,dt){var kt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?kt+dt:kt):dt=kt,$){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=dt+z,$={id:T++,callback:_t,priorityLevel:$,startTime:dt,expirationTime:z,sortIndex:-1},dt>kt?($.sortIndex=dt,t(y,$),e(g)===null&&$===e(y)&&(k?(tt(B),B=-1):k=!0,Ot(nt,dt-kt))):($.sortIndex=z,t(g,$),P||R||(P=!0,ht||(ht=!0,Z()))),$},n.unstable_shouldYield=H,n.unstable_wrapCallback=function($){var _t=w;return function(){var dt=w;w=_t;try{return $.apply(this,arguments)}finally{w=dt}}}}(hg)),hg}var d0;function bw(){return d0||(d0=1,cg.exports=vw()),cg.exports}var fg={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function Tw(){if(m0)return Wn;m0=1;var n=_p();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,y,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:g,containerInfo:y,implementation:T}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Wn.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return l(g,y,null,T)},Wn.flushSync=function(g){var y=c.T,T=i.p;try{if(c.T=null,i.p=2,g)return g()}finally{c.T=y,i.p=T,i.d.f()}},Wn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},Wn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Wn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,x=d(T,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:R}):T==="script"&&i.d.X(g,{crossOrigin:x,integrity:w,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=d(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},Wn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,x=d(T,y.crossOrigin);i.d.L(g,T,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wn.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=d(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},Wn.requestFormReset=function(g){i.d.r(g)},Wn.unstable_batchedUpdates=function(g,y){return g(y)},Wn.useFormState=function(g,y,T){return c.H.useFormState(g,y,T)},Wn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Wn.version="19.1.0",Wn}var g0;function Ew(){if(g0)return fg.exports;g0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),fg.exports=Tw(),fg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function xw(){if(p0)return cc;p0=1;var n=bw(),t=_p(),e=Ew();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)r+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,u=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(u=r.return),s=r.return;while(s)}return r.tag===3?u:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(l(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var u=s,f=r;;){var _=u.return;if(_===null)break;var v=_.alternate;if(v===null){if(f=_.return,f!==null){u=f;continue}break}if(_.child===v.child){for(v=_.child;v;){if(v===u)return d(_),s;if(v===f)return d(_),r;v=v.sibling}throw Error(i(188))}if(u.return!==f.return)u=_,f=v;else{for(var C=!1,D=_.child;D;){if(D===u){C=!0,u=_,f=v;break}if(D===f){C=!0,f=_,u=v;break}D=D.sibling}if(!C){for(D=v.child;D;){if(D===u){C=!0,u=v,f=_;break}if(D===f){C=!0,f=v,u=_;break}D=D.sibling}if(!C)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var T=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),tt=Symbol.for("react.consumer"),st=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function Ut(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case V:return"Profiler";case k:return"StrictMode";case nt:return"Suspense";case ht:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case R:return"Portal";case st:return(s.displayName||"Context")+".Provider";case tt:return(s._context.displayName||"Context")+".Consumer";case ut:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return r=s.displayName||null,r!==null?r:Ut(s.type)||"Memo";case O:r=s._payload,s=s._init;try{return Ut(s(r))}catch{}}return null}var Ot=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},kt=[],z=-1;function lt(s){return{current:s}}function vt(s){0>z||(s.current=kt[z],kt[z]=null,z--)}function mt(s,r){z++,kt[z]=s.current,s.current=r}var xt=lt(null),St=lt(null),Tt=lt(null),_e=lt(null);function ne(s,r){switch(mt(Tt,r),mt(St,s),mt(xt,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Nv(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Nv(r),s=Vv(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}vt(xt),mt(xt,s)}function ti(){vt(xt),vt(St),vt(Tt)}function li(s){s.memoizedState!==null&&mt(_e,s);var r=xt.current,u=Vv(r,s.type);r!==u&&(mt(St,s),mt(xt,u))}function Pt(s){St.current===s&&(vt(xt),vt(St)),_e.current===s&&(vt(_e),sc._currentValue=dt)}var Qt=Object.prototype.hasOwnProperty,Te=n.unstable_scheduleCallback,dn=n.unstable_cancelCallback,an=n.unstable_shouldYield,ui=n.unstable_requestPaint,En=n.unstable_now,Zi=n.unstable_getCurrentPriorityLevel,oo=n.unstable_ImmediatePriority,hr=n.unstable_UserBlockingPriority,ms=n.unstable_NormalPriority,cl=n.unstable_LowPriority,fr=n.unstable_IdlePriority,lo=n.log,hl=n.unstable_setDisableYieldValue,Le=null,me=null;function Fn(s){if(typeof lo=="function"&&hl(s),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(Le,s)}catch{}}var xn=Math.clz32?Math.clz32:dr,uo=Math.log,fl=Math.LN2;function dr(s){return s>>>=0,s===0?32:31-(uo(s)/fl|0)|0}var ks=256,gs=4194304;function ci(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Gr(s,r,u){var f=s.pendingLanes;if(f===0)return 0;var _=0,v=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var D=f&134217727;return D!==0?(f=D&~v,f!==0?_=ci(f):(C&=D,C!==0?_=ci(C):u||(u=D&~s,u!==0&&(_=ci(u))))):(D=f&~v,D!==0?_=ci(D):C!==0?_=ci(C):u||(u=f&~s,u!==0&&(_=ci(u)))),_===0?0:r!==0&&r!==_&&(r&v)===0&&(v=_&-_,u=r&-r,v>=u||v===32&&(u&4194048)!==0)?r:_}function Si(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function co(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(){var s=ks;return ks<<=1,(ks&4194048)===0&&(ks=256),s}function Yr(){var s=gs;return gs<<=1,(gs&62914560)===0&&(gs=4194304),s}function Gi(s){for(var r=[],u=0;31>u;u++)r.push(s);return r}function Yi(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function fo(s,r,u,f,_,v){var C=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var D=s.entanglements,q=s.expirationTimes,et=s.hiddenUpdates;for(u=C&~u;0<u;){var ct=31-xn(u),gt=1<<ct;D[ct]=0,q[ct]=-1;var it=et[ct];if(it!==null)for(et[ct]=null,ct=0;ct<it.length;ct++){var rt=it[ct];rt!==null&&(rt.lane&=-536870913)}u&=~gt}f!==0&&Ki(s,f,0),v!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=v&~(C&~r))}function Ki(s,r,u){s.pendingLanes|=r,s.suspendedLanes&=~r;var f=31-xn(r);s.entangledLanes|=r,s.entanglements[f]=s.entanglements[f]|1073741824|u&4194090}function mo(s,r){var u=s.entangledLanes|=r;for(s=s.entanglements;u;){var f=31-xn(u),_=1<<f;_&r|s[f]&r&&(s[f]|=r),u&=~_}}function Ns(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Kr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Vs(){var s=_t.p;return s!==0?s:(s=window.event,s===void 0?32:n0(s.type))}function Xr(s,r){var u=_t.p;try{return _t.p=s,r()}finally{_t.p=u}}var ke=Math.random().toString(36).slice(2),Je="__reactFiber$"+ke,Xe="__reactProps$"+ke,hi="__reactContainer$"+ke,qn="__reactEvents$"+ke,Dt="__reactListeners$"+ke,ps="__reactHandles$"+ke,go="__reactResources$"+ke,zs="__reactMarker$"+ke;function _s(s){delete s[Je],delete s[Xe],delete s[qn],delete s[Dt],delete s[ps]}function wi(s){var r=s[Je];if(r)return r;for(var u=s.parentNode;u;){if(r=u[hi]||u[Je]){if(u=r.alternate,r.child!==null||u!==null&&u.child!==null)for(s=Uv(s);s!==null;){if(u=s[Je])return u;s=Uv(s)}return r}s=u,u=s.parentNode}return null}function Ai(s){if(s=s[Je]||s[hi]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function Ln(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Sn(s){var r=s[go];return r||(r=s[go]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ze(s){s[zs]=!0}var po=new Set,Wr={};function Ci(s,r){Xi(s,r),Xi(s+"Capture",r)}function Xi(s,r){for(Wr[s]=r,s=0;s<r.length;s++)po.add(r[s])}var dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mr={},gr={};function ml(s){return Qt.call(gr,s)?!0:Qt.call(mr,s)?!1:dl.test(s)?gr[s]=!0:(mr[s]=!0,!1)}function Bs(s,r,u){if(ml(r))if(u===null)s.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var f=r.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+u)}}function Wi(s,r,u){if(u===null)s.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+u)}}function mn(s,r,u,f){if(f===null)s.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(r,u,""+f)}}var ys,js;function Qi(s){if(ys===void 0)try{throw Error()}catch(u){var r=u.stack.trim().match(/\n( *(at )?)/);ys=r&&r[1]||"",js=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+s+js}var pr=!1;function $i(s,r){if(!s||pr)return"";pr=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(r){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(rt){var it=rt}Reflect.construct(s,[],gt)}else{try{gt.call()}catch(rt){it=rt}s.call(gt.prototype)}}else{try{throw Error()}catch(rt){it=rt}(gt=s())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(rt){if(rt&&it&&typeof rt.stack=="string")return[rt.stack,it.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),C=v[0],D=v[1];if(C&&D){var q=C.split(`
`),et=D.split(`
`);for(_=f=0;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;for(;_<et.length&&!et[_].includes("DetermineComponentFrameRoot");)_++;if(f===q.length||_===et.length)for(f=q.length-1,_=et.length-1;1<=f&&0<=_&&q[f]!==et[_];)_--;for(;1<=f&&0<=_;f--,_--)if(q[f]!==et[_]){if(f!==1||_!==1)do if(f--,_--,0>_||q[f]!==et[_]){var ct=`
`+q[f].replace(" at new "," at ");return s.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",s.displayName)),ct}while(1<=f&&0<=_);break}}}finally{pr=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?Qi(u):""}function te(s){switch(s.tag){case 26:case 27:case 5:return Qi(s.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return $i(s.type,!1);case 11:return $i(s.type.render,!1);case 1:return $i(s.type,!0);case 31:return Qi("Activity");default:return""}}function ye(s){try{var r="";do r+=te(s),s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function on(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ji(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Us(s){var r=Ji(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),f=""+s[r];if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var _=u.get,v=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return _.call(this)},set:function(C){f=""+C,v.call(this,C)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Hs(s){s._valueTracker||(s._valueTracker=Us(s))}function Gt(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var u=r.getValue(),f="";return s&&(f=Ji(s)?s.checked?"true":"false":s.value),s=f,s!==u?(r.setValue(s),!0):!1}function Ee(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var _o=/[\n"\\]/g;function je(s){return s.replace(_o,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ne(s,r,u,f,_,v,C,D){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),r!=null?C==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+on(r)):s.value!==""+on(r)&&(s.value=""+on(r)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),r!=null?Ri(s,C,on(r)):u!=null?Ri(s,C,on(u)):f!=null&&s.removeAttribute("value"),_==null&&v!=null&&(s.defaultChecked=!!v),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.name=""+on(D):s.removeAttribute("name")}function _r(s,r,u,f,_,v,C,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),r!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||r!=null))return;u=u!=null?""+on(u):"",r=r!=null?""+on(r):u,D||r===s.value||(s.value=r),s.defaultValue=r}f=f??_,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=D?s.checked:!!f,s.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C)}function Ri(s,r,u){r==="number"&&Ee(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function kn(s,r,u,f){if(s=s.options,r){r={};for(var _=0;_<u.length;_++)r["$"+u[_]]=!0;for(u=0;u<s.length;u++)_=r.hasOwnProperty("$"+s[u].value),s[u].selected!==_&&(s[u].selected=_),_&&f&&(s[u].defaultSelected=!0)}else{for(u=""+on(u),r=null,_=0;_<s.length;_++){if(s[_].value===u){s[_].selected=!0,f&&(s[_].defaultSelected=!0);return}r!==null||s[_].disabled||(r=s[_])}r!==null&&(r.selected=!0)}}function Ht(s,r,u){if(r!=null&&(r=""+on(r),r!==s.value&&(s.value=r),u==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=u!=null?""+on(u):""}function ei(s,r,u,f){if(r==null){if(f!=null){if(u!=null)throw Error(i(92));if(Ot(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),r=u}u=on(r),s.defaultValue=u,f=s.textContent,f===u&&f!==""&&f!==null&&(s.value=f)}function wn(s,r){if(r){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=r;return}}s.textContent=r}var Mi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qr(s,r,u){var f=r.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":f?s.setProperty(r,u):typeof u!="number"||u===0||Mi.has(r)?r==="float"?s.cssFloat=u:s[r]=(""+u).trim():s[r]=u+"px"}function vs(s,r,u){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||r!=null&&r.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var _ in r)f=r[_],r.hasOwnProperty(_)&&u[_]!==f&&Qr(s,_,f)}else for(var v in r)r.hasOwnProperty(v)&&Qr(s,v,r[v])}function yr(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$r=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(s){return $r.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Di=null;function Nn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ts=null,Ii=null;function vo(s){var r=Ai(s);if(r&&(s=r.stateNode)){var u=s[Xe]||null;t:switch(s=r.stateNode,r.type){case"input":if(Ne(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),r=u.name,u.type==="radio"&&r!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+je(""+r)+'"][type="radio"]'),r=0;r<u.length;r++){var f=u[r];if(f!==s&&f.form===s.form){var _=f[Xe]||null;if(!_)throw Error(i(90));Ne(f,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(r=0;r<u.length;r++)f=u[r],f.form===s.form&&Gt(f)}break t;case"textarea":Ht(s,u.value,u.defaultValue);break t;case"select":r=u.value,r!=null&&kn(s,!!u.multiple,r,!1)}}}var Vt=!1;function ni(s,r,u){if(Vt)return s(r,u);Vt=!0;try{var f=s(r);return f}finally{if(Vt=!1,(ts!==null||Ii!==null)&&(zh(),ts&&(r=ts,s=Ii,Ii=ts=null,vo(r),s)))for(r=0;r<s.length;r++)vo(s[r])}}function ue(s,r){var u=s.stateNode;if(u===null)return null;var f=u[Xe]||null;if(f===null)return null;u=f[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break t;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(i(231,r,typeof u));return u}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zn=!1;if(fi)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{Zn=!1}var di=null,Gn=null,Oi=null;function Ts(){if(Oi)return Oi;var s,r=Gn,u=r.length,f,_="value"in di?di.value:di.textContent,v=_.length;for(s=0;s<u&&r[s]===_[s];s++);var C=u-s;for(f=1;f<=C&&r[u-f]===_[v-f];f++);return Oi=_.slice(s,1<f?1-f:void 0)}function Ae(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function An(){return!0}function Jr(){return!1}function tn(s){function r(u,f,_,v,C){this._reactName=u,this._targetInst=_,this.type=f,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(u=s[D],this[D]=u?u(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?An:Jr,this.isPropagationStopped=Jr,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=An)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=An)},persist:function(){},isPersistent:An}),r}var ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vr=tn(ge),Es=T({},ge,{view:0,detail:0}),gl=tn(Es),br,Xt,es,gn=T({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==es&&(es&&s.type==="mousemove"?(br=s.screenX-es.screenX,Xt=s.screenY-es.screenY):Xt=br=0,es=s),br)},movementY:function(s){return"movementY"in s?s.movementY:Xt}}),Cn=tn(gn),bo=T({},gn,{dataTransfer:0}),Tu=tn(bo),xs=T({},Es,{relatedTarget:0}),ta=tn(xs),ea=T({},ge,{animationName:0,elapsedTime:0,pseudoElement:0}),na=tn(ea),pl=T({},ge,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),qs=tn(pl),Eu=T({},ge,{data:0}),Yn=tn(Eu),Tr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},To={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ia(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Pi[s])?!!r[s]:!1}function Zs(){return ia}var sa=T({},Es,{key:function(s){if(s.key){var r=Tr[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Ae(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?To[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(s){return s.type==="keypress"?Ae(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ae(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ra=tn(sa),Eo=T({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aa=tn(Eo),Ss=T({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),_l=tn(Ss),oa=T({},ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),yl=tn(oa),xo=T({},gn,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Er=tn(xo),ln=T({},ge,{newState:0,oldState:0}),ns=tn(ln),vl=[9,13,27,32],Kn=fi&&"CompositionEvent"in window,m=null;fi&&"documentMode"in document&&(m=document.documentMode);var E=fi&&"TextEvent"in window&&!m,A=fi&&(!Kn||m&&8<m&&11>=m),I=" ",W=!1;function ot(s,r){switch(s){case"keyup":return vl.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Et(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ae=!1;function We(s,r){switch(s){case"compositionend":return Et(r);case"keypress":return r.which!==32?null:(W=!0,I);case"textInput":return s=r.data,s===I&&W?null:s;default:return null}}function oe(s,r){if(ae)return s==="compositionend"||!Kn&&ot(s,r)?(s=Ts(),Oi=Gn=di=null,ae=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return A&&r.locale!=="ko"?null:r.data;default:return null}}var ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!ve[s.type]:r==="textarea"}function ws(s,r,u,f){ts?Ii?Ii.push(f):Ii=[f]:ts=f,r=qh(r,"onChange"),0<r.length&&(u=new vr("onChange","change",null,u,f),s.push({event:u,listeners:r}))}var Ie=null,is=null;function ss(s){Iv(s,0)}function bl(s){var r=Ln(s);if(Gt(r))return s}function la(s,r){if(s==="change")return r}var xu=!1;if(fi){var ua;if(fi){var Su="oninput"in document;if(!Su){var As=document.createElement("div");As.setAttribute("oninput","return;"),Su=typeof As.oninput=="function"}ua=Su}else ua=!1;xu=ua&&(!document.documentMode||9<document.documentMode)}function So(){Ie&&(Ie.detachEvent("onpropertychange",ih),is=Ie=null)}function ih(s){if(s.propertyName==="value"&&bl(is)){var r=[];ws(r,is,s,Nn(s)),ni(ss,r)}}function wu(s,r,u){s==="focusin"?(So(),Ie=r,is=u,Ie.attachEvent("onpropertychange",ih)):s==="focusout"&&So()}function Id(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bl(is)}function Cs(s,r){if(s==="click")return bl(r)}function Od(s,r){if(s==="input"||s==="change")return bl(r)}function ca(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var ii=typeof Object.is=="function"?Object.is:ca;function si(s,r){if(ii(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var u=Object.keys(s),f=Object.keys(r);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var _=u[f];if(!Qt.call(r,_)||!ii(s[_],r[_]))return!1}return!0}function wo(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Au(s,r){var u=wo(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=r&&f>=r)return{node:u,offset:r-s};s=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=wo(u)}}function Tl(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Tl(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Ao(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Ee(s.document);r instanceof s.HTMLIFrameElement;){try{var u=typeof r.contentWindow.location.href=="string"}catch{u=!1}if(u)s=r.contentWindow;else break;r=Ee(s.document)}return r}function Co(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var El=fi&&"documentMode"in document&&11>=document.documentMode,Li=null,ha=null,xr=null,xl=!1;function sh(s,r,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;xl||Li==null||Li!==Ee(f)||(f=Li,"selectionStart"in f&&Co(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),xr&&si(xr,f)||(xr=f,f=qh(ha,"onSelect"),0<f.length&&(r=new vr("onSelect","select",null,r,u),s.push({event:r,listeners:f}),r.target=Li)))}function rs(s,r){var u={};return u[s.toLowerCase()]=r.toLowerCase(),u["Webkit"+s]="webkit"+r,u["Moz"+s]="moz"+r,u}var fa={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionrun:rs("Transition","TransitionRun"),transitionstart:rs("Transition","TransitionStart"),transitioncancel:rs("Transition","TransitionCancel"),transitionend:rs("Transition","TransitionEnd")},Sl={},rh={};fi&&(rh=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Gs(s){if(Sl[s])return Sl[s];if(!fa[s])return s;var r=fa[s],u;for(u in r)if(r.hasOwnProperty(u)&&u in rh)return Sl[s]=r[u];return s}var ah=Gs("animationend"),ki=Gs("animationiteration"),Ro=Gs("animationstart"),Pd=Gs("transitionrun"),wl=Gs("transitionstart"),Ld=Gs("transitioncancel"),Cu=Gs("transitionend"),oh=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sr.push("scrollEnd");function Ni(s,r){oh.set(s,r),Ci(r,[s])}var wr=new WeakMap;function ri(s,r){if(typeof s=="object"&&s!==null){var u=wr.get(s);return u!==void 0?u:(r={value:s,source:r,stack:ye(r)},wr.set(s,r),r)}return{value:s,source:r,stack:ye(r)}}var ai=[],da=0,Vi=0;function Mo(){for(var s=da,r=Vi=da=0;r<s;){var u=ai[r];ai[r++]=null;var f=ai[r];ai[r++]=null;var _=ai[r];ai[r++]=null;var v=ai[r];if(ai[r++]=null,f!==null&&_!==null){var C=f.pending;C===null?_.next=_:(_.next=C.next,C.next=_),f.pending=_}v!==0&&Io(u,_,v)}}function Do(s,r,u,f){ai[da++]=s,ai[da++]=r,ai[da++]=u,ai[da++]=f,Vi|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function Ar(s,r,u,f){return Do(s,r,u,f),Ys(s)}function ma(s,r){return Do(s,null,null,r),Ys(s)}function Io(s,r,u){s.lanes|=u;var f=s.alternate;f!==null&&(f.lanes|=u);for(var _=!1,v=s.return;v!==null;)v.childLanes|=u,f=v.alternate,f!==null&&(f.childLanes|=u),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(_=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,_&&r!==null&&(_=31-xn(u),s=v.hiddenUpdates,f=s[_],f===null?s[_]=[r]:f.push(r),r.lane=u|536870912),v):null}function Ys(s){if(50<Wu)throw Wu=0,Im=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Cr={};function lh(s,r,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(s,r,u,f){return new lh(s,r,u,f)}function Al(s){return s=s.prototype,!(!s||!s.isReactComponent)}function as(s,r){var u=s.alternate;return u===null?(u=oi(s.tag,r,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=r,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,r=s.dependencies,u.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function Ru(s,r){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,r=u.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Oo(s,r,u,f,_,v){var C=0;if(f=s,typeof s=="function")Al(s)&&(C=1);else if(typeof s=="string")C=tw(s,u,xt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case N:return s=oi(31,u,r,_),s.elementType=N,s.lanes=v,s;case P:return Ks(u.children,_,v,r);case k:C=8,_|=24;break;case V:return s=oi(12,u,r,_|2),s.elementType=V,s.lanes=v,s;case nt:return s=oi(13,u,r,_),s.elementType=nt,s.lanes=v,s;case ht:return s=oi(19,u,r,_),s.elementType=ht,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:case st:C=10;break t;case tt:C=9;break t;case ut:C=11;break t;case B:C=14;break t;case O:C=16,f=null;break t}C=29,u=Error(i(130,s===null?"null":typeof s,"")),f=null}return r=oi(C,u,r,_),r.elementType=s,r.type=f,r.lanes=v,r}function Ks(s,r,u,f){return s=oi(7,s,f,r),s.lanes=u,s}function Mu(s,r,u){return s=oi(6,s,null,r),s.lanes=u,s}function Cl(s,r,u){return r=oi(4,s.children!==null?s.children:[],s.key,r),r.lanes=u,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Rr=[],ga=0,o=null,h=0,p=[],b=0,S=null,M=1,F="";function Q(s,r){Rr[ga++]=h,Rr[ga++]=o,o=s,h=r}function at(s,r,u){p[b++]=M,p[b++]=F,p[b++]=S,S=s;var f=M;s=F;var _=32-xn(f)-1;f&=~(1<<_),u+=1;var v=32-xn(r)+_;if(30<v){var C=_-_%5;v=(f&(1<<C)-1).toString(32),f>>=C,_-=C,M=1<<32-xn(r)+_|u<<_|f,F=v+s}else M=1<<v|u<<_|f,F=s}function yt(s){s.return!==null&&(Q(s,1),at(s,1,0))}function wt(s){for(;s===o;)o=Rr[--ga],Rr[ga]=null,h=Rr[--ga],Rr[ga]=null;for(;s===S;)S=p[--b],p[b]=null,F=p[--b],p[b]=null,M=p[--b],p[b]=null}var Ct=null,Mt=null,Zt=!1,ze=null,Ge=!1,Rn=Error(i(519));function mi(s){var r=Error(i(418,""));throw _a(ri(r,s)),Rn}function uh(s){var r=s.stateNode,u=s.type,f=s.memoizedProps;switch(r[Je]=s,r[Xe]=f,u){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(u=0;u<$u.length;u++)se($u[u],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":se("invalid",r),_r(r,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Hs(r);break;case"select":se("invalid",r);break;case"textarea":se("invalid",r),ei(r,f.value,f.defaultValue,f.children),Hs(r)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||r.textContent===""+u||f.suppressHydrationWarning===!0||kv(r.textContent,u)?(f.popover!=null&&(se("beforetoggle",r),se("toggle",r)),f.onScroll!=null&&se("scroll",r),f.onScrollEnd!=null&&se("scrollend",r),f.onClick!=null&&(r.onclick=Zh),r=!0):r=!1,r||mi(s)}function ch(s){for(Ct=s.return;Ct;)switch(Ct.tag){case 5:case 13:Ge=!1;return;case 27:case 3:Ge=!0;return;default:Ct=Ct.return}}function Po(s){if(s!==Ct)return!1;if(!Zt)return ch(s),Zt=!0,!1;var r=s.tag,u;if((u=r!==3&&r!==27)&&((u=r===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Ym(s.type,s.memoizedProps)),u=!u),u&&Mt&&mi(s),ch(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(r===0){Mt=Is(s.nextSibling);break t}r--}else u!=="$"&&u!=="$!"&&u!=="$?"||r++;s=s.nextSibling}Mt=null}}else r===27?(r=Mt,Oa(s.type)?(s=Qm,Qm=null,Mt=s):Mt=r):Mt=Ct?Is(s.stateNode.nextSibling):null;return!0}function pa(){Mt=Ct=null,Zt=!1}function hh(){var s=ze;return s!==null&&(_i===null?_i=s:_i.push.apply(_i,s),ze=null),s}function _a(s){ze===null?ze=[s]:ze.push(s)}var He=lt(null),os=null,Rs=null;function Xs(s,r,u){mt(He,r._currentValue),r._currentValue=u}function Ms(s){s._currentValue=He.current,vt(He)}function Lo(s,r,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),s===u)break;s=s.return}}function Rl(s,r,u,f){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var v=_.dependencies;if(v!==null){var C=_.child;v=v.firstContext;t:for(;v!==null;){var D=v;v=_;for(var q=0;q<r.length;q++)if(D.context===r[q]){v.lanes|=u,D=v.alternate,D!==null&&(D.lanes|=u),Lo(v.return,u,s),f||(C=null);break t}v=D.next}}else if(_.tag===18){if(C=_.return,C===null)throw Error(i(341));C.lanes|=u,v=C.alternate,v!==null&&(v.lanes|=u),Lo(C,u,s),C=null}else C=_.child;if(C!==null)C.return=_;else for(C=_;C!==null;){if(C===s){C=null;break}if(_=C.sibling,_!==null){_.return=C.return,C=_;break}C=C.return}_=C}}function ko(s,r,u,f){s=null;for(var _=r,v=!1;_!==null;){if(!v){if((_.flags&524288)!==0)v=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var C=_.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var D=_.type;ii(_.pendingProps.value,C.value)||(s!==null?s.push(D):s=[D])}}else if(_===_e.current){if(C=_.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(sc):s=[sc])}_=_.return}s!==null&&Rl(r,s,u,f),r.flags|=262144}function fh(s){for(s=s.firstContext;s!==null;){if(!ii(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function No(s){os=s,Rs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Xn(s){return T_(os,s)}function dh(s,r){return os===null&&No(s),T_(s,r)}function T_(s,r){var u=r._currentValue;if(r={context:r,memoizedValue:u,next:null},Rs===null){if(s===null)throw Error(i(308));Rs=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Rs=Rs.next=r;return u}var J1=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(u,f){s.push(f)}};this.abort=function(){r.aborted=!0,s.forEach(function(u){return u()})}},tS=n.unstable_scheduleCallback,eS=n.unstable_NormalPriority,pn={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kd(){return{controller:new J1,data:new Map,refCount:0}}function Du(s){s.refCount--,s.refCount===0&&tS(eS,function(){s.controller.abort()})}var Iu=null,Nd=0,Ml=0,Dl=null;function nS(s,r){if(Iu===null){var u=Iu=[];Nd=0,Ml=zm(),Dl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Nd++,r.then(E_,E_),r}function E_(){if(--Nd===0&&Iu!==null){Dl!==null&&(Dl.status="fulfilled");var s=Iu;Iu=null,Ml=0,Dl=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function iS(s,r){var u=[],f={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return s.then(function(){f.status="fulfilled",f.value=r;for(var _=0;_<u.length;_++)(0,u[_])(r)},function(_){for(f.status="rejected",f.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),f}var x_=$.S;$.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&nS(s,r),x_!==null&&x_(s,r)};var Vo=lt(null);function Vd(){var s=Vo.current;return s!==null?s:Be.pooledCache}function mh(s,r){r===null?mt(Vo,Vo.current):mt(Vo,r.pool)}function S_(){var s=Vd();return s===null?null:{parent:pn._currentValue,pool:s}}var Ou=Error(i(460)),w_=Error(i(474)),gh=Error(i(542)),zd={then:function(){}};function A_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ph(){}function C_(s,r,u){switch(u=s[u],u===void 0?s.push(r):u!==r&&(r.then(ph,ph),r=u),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,M_(s),s;default:if(typeof r.status=="string")r.then(ph,ph);else{if(s=Be,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(f){if(r.status==="pending"){var _=r;_.status="fulfilled",_.value=f}},function(f){if(r.status==="pending"){var _=r;_.status="rejected",_.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,M_(s),s}throw Pu=r,Ou}}var Pu=null;function R_(){if(Pu===null)throw Error(i(459));var s=Pu;return Pu=null,s}function M_(s){if(s===Ou||s===gh)throw Error(i(483))}var ya=!1;function Bd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function va(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ba(s,r,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(xe&2)!==0){var _=f.pending;return _===null?r.next=r:(r.next=_.next,_.next=r),f.pending=r,r=Ys(s),Io(s,null,u),r}return Do(s,f,r,u),Ys(s)}function Lu(s,r,u){if(r=r.updateQueue,r!==null&&(r=r.shared,(u&4194048)!==0)){var f=r.lanes;f&=s.pendingLanes,u|=f,r.lanes=u,mo(s,u)}}function Ud(s,r){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var _=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?_=v=C:v=v.next=C,u=u.next}while(u!==null);v===null?_=v=r:v=v.next=r}else _=v=r;u={baseState:f.baseState,firstBaseUpdate:_,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=r:s.next=r,u.lastBaseUpdate=r}var Hd=!1;function ku(){if(Hd){var s=Dl;if(s!==null)throw s}}function Nu(s,r,u,f){Hd=!1;var _=s.updateQueue;ya=!1;var v=_.firstBaseUpdate,C=_.lastBaseUpdate,D=_.shared.pending;if(D!==null){_.shared.pending=null;var q=D,et=q.next;q.next=null,C===null?v=et:C.next=et,C=q;var ct=s.alternate;ct!==null&&(ct=ct.updateQueue,D=ct.lastBaseUpdate,D!==C&&(D===null?ct.firstBaseUpdate=et:D.next=et,ct.lastBaseUpdate=q))}if(v!==null){var gt=_.baseState;C=0,ct=et=q=null,D=v;do{var it=D.lane&-536870913,rt=it!==D.lane;if(rt?(ce&it)===it:(f&it)===it){it!==0&&it===Ml&&(Hd=!0),ct!==null&&(ct=ct.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});t:{var qt=s,Bt=D;it=r;var Me=u;switch(Bt.tag){case 1:if(qt=Bt.payload,typeof qt=="function"){gt=qt.call(Me,gt,it);break t}gt=qt;break t;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=Bt.payload,it=typeof qt=="function"?qt.call(Me,gt,it):qt,it==null)break t;gt=T({},gt,it);break t;case 2:ya=!0}}it=D.callback,it!==null&&(s.flags|=64,rt&&(s.flags|=8192),rt=_.callbacks,rt===null?_.callbacks=[it]:rt.push(it))}else rt={lane:it,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ct===null?(et=ct=rt,q=gt):ct=ct.next=rt,C|=it;if(D=D.next,D===null){if(D=_.shared.pending,D===null)break;rt=D,D=rt.next,rt.next=null,_.lastBaseUpdate=rt,_.shared.pending=null}}while(!0);ct===null&&(q=gt),_.baseState=q,_.firstBaseUpdate=et,_.lastBaseUpdate=ct,v===null&&(_.shared.lanes=0),Ra|=C,s.lanes=C,s.memoizedState=gt}}function D_(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function I_(s,r){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)D_(u[s],r)}var Il=lt(null),_h=lt(0);function O_(s,r){s=kr,mt(_h,s),mt(Il,r),kr=s|r.baseLanes}function Fd(){mt(_h,kr),mt(Il,Il.current)}function qd(){kr=_h.current,vt(Il),vt(_h)}var Ta=0,$t=null,Ce=null,un=null,yh=!1,Ol=!1,zo=!1,vh=0,Vu=0,Pl=null,sS=0;function en(){throw Error(i(321))}function Zd(s,r){if(r===null)return!1;for(var u=0;u<r.length&&u<s.length;u++)if(!ii(s[u],r[u]))return!1;return!0}function Gd(s,r,u,f,_,v){return Ta=v,$t=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=s===null||s.memoizedState===null?gy:py,zo=!1,v=u(f,_),zo=!1,Ol&&(v=L_(r,u,f,_)),P_(s),v}function P_(s){$.H=wh;var r=Ce!==null&&Ce.next!==null;if(Ta=0,un=Ce=$t=null,yh=!1,Vu=0,Pl=null,r)throw Error(i(300));s===null||Mn||(s=s.dependencies,s!==null&&fh(s)&&(Mn=!0))}function L_(s,r,u,f){$t=s;var _=0;do{if(Ol&&(Pl=null),Vu=0,Ol=!1,25<=_)throw Error(i(301));if(_+=1,un=Ce=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=hS,v=r(u,f)}while(Ol);return v}function rS(){var s=$.H,r=s.useState()[0];return r=typeof r.then=="function"?zu(r):r,s=s.useState()[0],(Ce!==null?Ce.memoizedState:null)!==s&&($t.flags|=1024),r}function Yd(){var s=vh!==0;return vh=0,s}function Kd(s,r,u){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~u}function Xd(s){if(yh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}yh=!1}Ta=0,un=Ce=$t=null,Ol=!1,Vu=vh=0,Pl=null}function gi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?$t.memoizedState=un=s:un=un.next=s,un}function cn(){if(Ce===null){var s=$t.alternate;s=s!==null?s.memoizedState:null}else s=Ce.next;var r=un===null?$t.memoizedState:un.next;if(r!==null)un=r,Ce=s;else{if(s===null)throw $t.alternate===null?Error(i(467)):Error(i(310));Ce=s,s={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},un===null?$t.memoizedState=un=s:un=un.next=s}return un}function Wd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zu(s){var r=Vu;return Vu+=1,Pl===null&&(Pl=[]),s=C_(Pl,s,r),r=$t,(un===null?r.memoizedState:un.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?gy:py),s}function bh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return zu(s);if(s.$$typeof===st)return Xn(s)}throw Error(i(438,String(s)))}function Qd(s){var r=null,u=$t.updateQueue;if(u!==null&&(r=u.memoCache),r==null){var f=$t.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(r={data:f.data.map(function(_){return _.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),u===null&&(u=Wd(),$t.updateQueue=u),u.memoCache=r,u=r.data[r.index],u===void 0)for(u=r.data[r.index]=Array(s),f=0;f<s;f++)u[f]=H;return r.index++,u}function Mr(s,r){return typeof r=="function"?r(s):r}function Th(s){var r=cn();return $d(r,Ce,s)}function $d(s,r,u){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var _=s.baseQueue,v=f.pending;if(v!==null){if(_!==null){var C=_.next;_.next=v.next,v.next=C}r.baseQueue=_=v,f.pending=null}if(v=s.baseState,_===null)s.memoizedState=v;else{r=_.next;var D=C=null,q=null,et=r,ct=!1;do{var gt=et.lane&-536870913;if(gt!==et.lane?(ce&gt)===gt:(Ta&gt)===gt){var it=et.revertLane;if(it===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),gt===Ml&&(ct=!0);else if((Ta&it)===it){et=et.next,it===Ml&&(ct=!0);continue}else gt={lane:0,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},q===null?(D=q=gt,C=v):q=q.next=gt,$t.lanes|=it,Ra|=it;gt=et.action,zo&&u(v,gt),v=et.hasEagerState?et.eagerState:u(v,gt)}else it={lane:gt,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},q===null?(D=q=it,C=v):q=q.next=it,$t.lanes|=gt,Ra|=gt;et=et.next}while(et!==null&&et!==r);if(q===null?C=v:q.next=D,!ii(v,s.memoizedState)&&(Mn=!0,ct&&(u=Dl,u!==null)))throw u;s.memoizedState=v,s.baseState=C,s.baseQueue=q,f.lastRenderedState=v}return _===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function Jd(s){var r=cn(),u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var f=u.dispatch,_=u.pending,v=r.memoizedState;if(_!==null){u.pending=null;var C=_=_.next;do v=s(v,C.action),C=C.next;while(C!==_);ii(v,r.memoizedState)||(Mn=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),u.lastRenderedState=v}return[v,f]}function k_(s,r,u){var f=$t,_=cn(),v=Zt;if(v){if(u===void 0)throw Error(i(407));u=u()}else u=r();var C=!ii((Ce||_).memoizedState,u);C&&(_.memoizedState=u,Mn=!0),_=_.queue;var D=z_.bind(null,f,_,s);if(Bu(2048,8,D,[s]),_.getSnapshot!==r||C||un!==null&&un.memoizedState.tag&1){if(f.flags|=2048,Ll(9,Eh(),V_.bind(null,f,_,u,r),null),Be===null)throw Error(i(349));v||(Ta&124)!==0||N_(f,r,u)}return u}function N_(s,r,u){s.flags|=16384,s={getSnapshot:r,value:u},r=$t.updateQueue,r===null?(r=Wd(),$t.updateQueue=r,r.stores=[s]):(u=r.stores,u===null?r.stores=[s]:u.push(s))}function V_(s,r,u,f){r.value=u,r.getSnapshot=f,B_(r)&&j_(s)}function z_(s,r,u){return u(function(){B_(r)&&j_(s)})}function B_(s){var r=s.getSnapshot;s=s.value;try{var u=r();return!ii(s,u)}catch{return!0}}function j_(s){var r=ma(s,2);r!==null&&Hi(r,s,2)}function tm(s){var r=gi();if(typeof s=="function"){var u=s;if(s=u(),zo){Fn(!0);try{u()}finally{Fn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:s},r}function U_(s,r,u,f){return s.baseState=u,$d(s,Ce,typeof f=="function"?f:Mr)}function aS(s,r,u,f,_){if(Sh(s))throw Error(i(485));if(s=r.action,s!==null){var v={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};$.T!==null?u(!0):v.isTransition=!1,f(v),u=r.pending,u===null?(v.next=r.pending=v,H_(r,v)):(v.next=u.next,r.pending=u.next=v)}}function H_(s,r){var u=r.action,f=r.payload,_=s.state;if(r.isTransition){var v=$.T,C={};$.T=C;try{var D=u(_,f),q=$.S;q!==null&&q(C,D),F_(s,r,D)}catch(et){em(s,r,et)}finally{$.T=v}}else try{v=u(_,f),F_(s,r,v)}catch(et){em(s,r,et)}}function F_(s,r,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){q_(s,r,f)},function(f){return em(s,r,f)}):q_(s,r,u)}function q_(s,r,u){r.status="fulfilled",r.value=u,Z_(r),s.state=u,r=s.pending,r!==null&&(u=r.next,u===r?s.pending=null:(u=u.next,r.next=u,H_(s,u)))}function em(s,r,u){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do r.status="rejected",r.reason=u,Z_(r),r=r.next;while(r!==f)}s.action=null}function Z_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function G_(s,r){return r}function Y_(s,r){if(Zt){var u=Be.formState;if(u!==null){t:{var f=$t;if(Zt){if(Mt){e:{for(var _=Mt,v=Ge;_.nodeType!==8;){if(!v){_=null;break e}if(_=Is(_.nextSibling),_===null){_=null;break e}}v=_.data,_=v==="F!"||v==="F"?_:null}if(_){Mt=Is(_.nextSibling),f=_.data==="F!";break t}}mi(f)}f=!1}f&&(r=u[0])}}return u=gi(),u.memoizedState=u.baseState=r,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G_,lastRenderedState:r},u.queue=f,u=fy.bind(null,$t,f),f.dispatch=u,f=tm(!1),v=am.bind(null,$t,!1,f.queue),f=gi(),_={state:r,dispatch:null,action:s,pending:null},f.queue=_,u=aS.bind(null,$t,_,v,u),_.dispatch=u,f.memoizedState=s,[r,u,!1]}function K_(s){var r=cn();return X_(r,Ce,s)}function X_(s,r,u){if(r=$d(s,r,G_)[0],s=Th(Mr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var f=zu(r)}catch(C){throw C===Ou?gh:C}else f=r;r=cn();var _=r.queue,v=_.dispatch;return u!==r.memoizedState&&($t.flags|=2048,Ll(9,Eh(),oS.bind(null,_,u),null)),[f,v,s]}function oS(s,r){s.action=r}function W_(s){var r=cn(),u=Ce;if(u!==null)return X_(r,u,s);cn(),r=r.memoizedState,u=cn();var f=u.queue.dispatch;return u.memoizedState=s,[r,f,!1]}function Ll(s,r,u,f){return s={tag:s,create:u,deps:f,inst:r,next:null},r=$t.updateQueue,r===null&&(r=Wd(),$t.updateQueue=r),u=r.lastEffect,u===null?r.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,r.lastEffect=s),s}function Eh(){return{destroy:void 0,resource:void 0}}function Q_(){return cn().memoizedState}function xh(s,r,u,f){var _=gi();f=f===void 0?null:f,$t.flags|=s,_.memoizedState=Ll(1|r,Eh(),u,f)}function Bu(s,r,u,f){var _=cn();f=f===void 0?null:f;var v=_.memoizedState.inst;Ce!==null&&f!==null&&Zd(f,Ce.memoizedState.deps)?_.memoizedState=Ll(r,v,u,f):($t.flags|=s,_.memoizedState=Ll(1|r,v,u,f))}function $_(s,r){xh(8390656,8,s,r)}function J_(s,r){Bu(2048,8,s,r)}function ty(s,r){return Bu(4,2,s,r)}function ey(s,r){return Bu(4,4,s,r)}function ny(s,r){if(typeof r=="function"){s=s();var u=r(s);return function(){typeof u=="function"?u():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function iy(s,r,u){u=u!=null?u.concat([s]):null,Bu(4,4,ny.bind(null,r,s),u)}function nm(){}function sy(s,r){var u=cn();r=r===void 0?null:r;var f=u.memoizedState;return r!==null&&Zd(r,f[1])?f[0]:(u.memoizedState=[s,r],s)}function ry(s,r){var u=cn();r=r===void 0?null:r;var f=u.memoizedState;if(r!==null&&Zd(r,f[1]))return f[0];if(f=s(),zo){Fn(!0);try{s()}finally{Fn(!1)}}return u.memoizedState=[f,r],f}function im(s,r,u){return u===void 0||(Ta&1073741824)!==0?s.memoizedState=r:(s.memoizedState=u,s=lv(),$t.lanes|=s,Ra|=s,u)}function ay(s,r,u,f){return ii(u,r)?u:Il.current!==null?(s=im(s,u,f),ii(s,r)||(Mn=!0),s):(Ta&42)===0?(Mn=!0,s.memoizedState=u):(s=lv(),$t.lanes|=s,Ra|=s,r)}function oy(s,r,u,f,_){var v=_t.p;_t.p=v!==0&&8>v?v:8;var C=$.T,D={};$.T=D,am(s,!1,r,u);try{var q=_(),et=$.S;if(et!==null&&et(D,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ct=iS(q,f);ju(s,r,ct,Ui(s))}else ju(s,r,f,Ui(s))}catch(gt){ju(s,r,{then:function(){},status:"rejected",reason:gt},Ui())}finally{_t.p=v,$.T=C}}function lS(){}function sm(s,r,u,f){if(s.tag!==5)throw Error(i(476));var _=ly(s).queue;oy(s,_,r,dt,u===null?lS:function(){return uy(s),u(f)})}function ly(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:dt},next:null};var u={};return r.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:u},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function uy(s){var r=ly(s).next.queue;ju(s,r,{},Ui())}function rm(){return Xn(sc)}function cy(){return cn().memoizedState}function hy(){return cn().memoizedState}function uS(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var u=Ui();s=va(u);var f=ba(r,s,u);f!==null&&(Hi(f,r,u),Lu(f,r,u)),r={cache:kd()},s.payload=r;return}r=r.return}}function cS(s,r,u){var f=Ui();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Sh(s)?dy(r,u):(u=Ar(s,r,u,f),u!==null&&(Hi(u,s,f),my(u,r,f)))}function fy(s,r,u){var f=Ui();ju(s,r,u,f)}function ju(s,r,u,f){var _={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Sh(s))dy(r,_);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var C=r.lastRenderedState,D=v(C,u);if(_.hasEagerState=!0,_.eagerState=D,ii(D,C))return Do(s,r,_,0),Be===null&&Mo(),!1}catch{}finally{}if(u=Ar(s,r,_,f),u!==null)return Hi(u,s,f),my(u,r,f),!0}return!1}function am(s,r,u,f){if(f={lane:2,revertLane:zm(),action:f,hasEagerState:!1,eagerState:null,next:null},Sh(s)){if(r)throw Error(i(479))}else r=Ar(s,u,f,2),r!==null&&Hi(r,s,2)}function Sh(s){var r=s.alternate;return s===$t||r!==null&&r===$t}function dy(s,r){Ol=yh=!0;var u=s.pending;u===null?r.next=r:(r.next=u.next,u.next=r),s.pending=r}function my(s,r,u){if((u&4194048)!==0){var f=r.lanes;f&=s.pendingLanes,u|=f,r.lanes=u,mo(s,u)}}var wh={readContext:Xn,use:bh,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},gy={readContext:Xn,use:bh,useCallback:function(s,r){return gi().memoizedState=[s,r===void 0?null:r],s},useContext:Xn,useEffect:$_,useImperativeHandle:function(s,r,u){u=u!=null?u.concat([s]):null,xh(4194308,4,ny.bind(null,r,s),u)},useLayoutEffect:function(s,r){return xh(4194308,4,s,r)},useInsertionEffect:function(s,r){xh(4,2,s,r)},useMemo:function(s,r){var u=gi();r=r===void 0?null:r;var f=s();if(zo){Fn(!0);try{s()}finally{Fn(!1)}}return u.memoizedState=[f,r],f},useReducer:function(s,r,u){var f=gi();if(u!==void 0){var _=u(r);if(zo){Fn(!0);try{u(r)}finally{Fn(!1)}}}else _=r;return f.memoizedState=f.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},f.queue=s,s=s.dispatch=cS.bind(null,$t,s),[f.memoizedState,s]},useRef:function(s){var r=gi();return s={current:s},r.memoizedState=s},useState:function(s){s=tm(s);var r=s.queue,u=fy.bind(null,$t,r);return r.dispatch=u,[s.memoizedState,u]},useDebugValue:nm,useDeferredValue:function(s,r){var u=gi();return im(u,s,r)},useTransition:function(){var s=tm(!1);return s=oy.bind(null,$t,s.queue,!0,!1),gi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,u){var f=$t,_=gi();if(Zt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=r(),Be===null)throw Error(i(349));(ce&124)!==0||N_(f,r,u)}_.memoizedState=u;var v={value:u,getSnapshot:r};return _.queue=v,$_(z_.bind(null,f,v,s),[s]),f.flags|=2048,Ll(9,Eh(),V_.bind(null,f,v,u,r),null),u},useId:function(){var s=gi(),r=Be.identifierPrefix;if(Zt){var u=F,f=M;u=(f&~(1<<32-xn(f)-1)).toString(32)+u,r=""+r+"R"+u,u=vh++,0<u&&(r+="H"+u.toString(32)),r+=""}else u=sS++,r=""+r+"r"+u.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:rm,useFormState:Y_,useActionState:Y_,useOptimistic:function(s){var r=gi();r.memoizedState=r.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=u,r=am.bind(null,$t,!0,u),u.dispatch=r,[s,r]},useMemoCache:Qd,useCacheRefresh:function(){return gi().memoizedState=uS.bind(null,$t)}},py={readContext:Xn,use:bh,useCallback:sy,useContext:Xn,useEffect:J_,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ey,useMemo:ry,useReducer:Th,useRef:Q_,useState:function(){return Th(Mr)},useDebugValue:nm,useDeferredValue:function(s,r){var u=cn();return ay(u,Ce.memoizedState,s,r)},useTransition:function(){var s=Th(Mr)[0],r=cn().memoizedState;return[typeof s=="boolean"?s:zu(s),r]},useSyncExternalStore:k_,useId:cy,useHostTransitionStatus:rm,useFormState:K_,useActionState:K_,useOptimistic:function(s,r){var u=cn();return U_(u,Ce,s,r)},useMemoCache:Qd,useCacheRefresh:hy},hS={readContext:Xn,use:bh,useCallback:sy,useContext:Xn,useEffect:J_,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ey,useMemo:ry,useReducer:Jd,useRef:Q_,useState:function(){return Jd(Mr)},useDebugValue:nm,useDeferredValue:function(s,r){var u=cn();return Ce===null?im(u,s,r):ay(u,Ce.memoizedState,s,r)},useTransition:function(){var s=Jd(Mr)[0],r=cn().memoizedState;return[typeof s=="boolean"?s:zu(s),r]},useSyncExternalStore:k_,useId:cy,useHostTransitionStatus:rm,useFormState:W_,useActionState:W_,useOptimistic:function(s,r){var u=cn();return Ce!==null?U_(u,Ce,s,r):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Qd,useCacheRefresh:hy},kl=null,Uu=0;function Ah(s){var r=Uu;return Uu+=1,kl===null&&(kl=[]),C_(kl,s,r)}function Hu(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Ch(s,r){throw r.$$typeof===x?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function _y(s){var r=s._init;return r(s._payload)}function yy(s){function r(X,Y){if(s){var J=X.deletions;J===null?(X.deletions=[Y],X.flags|=16):J.push(Y)}}function u(X,Y){if(!s)return null;for(;Y!==null;)r(X,Y),Y=Y.sibling;return null}function f(X){for(var Y=new Map;X!==null;)X.key!==null?Y.set(X.key,X):Y.set(X.index,X),X=X.sibling;return Y}function _(X,Y){return X=as(X,Y),X.index=0,X.sibling=null,X}function v(X,Y,J){return X.index=J,s?(J=X.alternate,J!==null?(J=J.index,J<Y?(X.flags|=67108866,Y):J):(X.flags|=67108866,Y)):(X.flags|=1048576,Y)}function C(X){return s&&X.alternate===null&&(X.flags|=67108866),X}function D(X,Y,J,ft){return Y===null||Y.tag!==6?(Y=Mu(J,X.mode,ft),Y.return=X,Y):(Y=_(Y,J),Y.return=X,Y)}function q(X,Y,J,ft){var Rt=J.type;return Rt===P?ct(X,Y,J.props.children,ft,J.key):Y!==null&&(Y.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===O&&_y(Rt)===Y.type)?(Y=_(Y,J.props),Hu(Y,J),Y.return=X,Y):(Y=Oo(J.type,J.key,J.props,null,X.mode,ft),Hu(Y,J),Y.return=X,Y)}function et(X,Y,J,ft){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==J.containerInfo||Y.stateNode.implementation!==J.implementation?(Y=Cl(J,X.mode,ft),Y.return=X,Y):(Y=_(Y,J.children||[]),Y.return=X,Y)}function ct(X,Y,J,ft,Rt){return Y===null||Y.tag!==7?(Y=Ks(J,X.mode,ft,Rt),Y.return=X,Y):(Y=_(Y,J),Y.return=X,Y)}function gt(X,Y,J){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Mu(""+Y,X.mode,J),Y.return=X,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return J=Oo(Y.type,Y.key,Y.props,null,X.mode,J),Hu(J,Y),J.return=X,J;case R:return Y=Cl(Y,X.mode,J),Y.return=X,Y;case O:var ft=Y._init;return Y=ft(Y._payload),gt(X,Y,J)}if(Ot(Y)||Z(Y))return Y=Ks(Y,X.mode,J,null),Y.return=X,Y;if(typeof Y.then=="function")return gt(X,Ah(Y),J);if(Y.$$typeof===st)return gt(X,dh(X,Y),J);Ch(X,Y)}return null}function it(X,Y,J,ft){var Rt=Y!==null?Y.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Rt!==null?null:D(X,Y,""+J,ft);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return J.key===Rt?q(X,Y,J,ft):null;case R:return J.key===Rt?et(X,Y,J,ft):null;case O:return Rt=J._init,J=Rt(J._payload),it(X,Y,J,ft)}if(Ot(J)||Z(J))return Rt!==null?null:ct(X,Y,J,ft,null);if(typeof J.then=="function")return it(X,Y,Ah(J),ft);if(J.$$typeof===st)return it(X,Y,dh(X,J),ft);Ch(X,J)}return null}function rt(X,Y,J,ft,Rt){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return X=X.get(J)||null,D(Y,X,""+ft,Rt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case w:return X=X.get(ft.key===null?J:ft.key)||null,q(Y,X,ft,Rt);case R:return X=X.get(ft.key===null?J:ft.key)||null,et(Y,X,ft,Rt);case O:var ee=ft._init;return ft=ee(ft._payload),rt(X,Y,J,ft,Rt)}if(Ot(ft)||Z(ft))return X=X.get(J)||null,ct(Y,X,ft,Rt,null);if(typeof ft.then=="function")return rt(X,Y,J,Ah(ft),Rt);if(ft.$$typeof===st)return rt(X,Y,J,dh(Y,ft),Rt);Ch(Y,ft)}return null}function qt(X,Y,J,ft){for(var Rt=null,ee=null,Lt=Y,jt=Y=0,In=null;Lt!==null&&jt<J.length;jt++){Lt.index>jt?(In=Lt,Lt=null):In=Lt.sibling;var pe=it(X,Lt,J[jt],ft);if(pe===null){Lt===null&&(Lt=In);break}s&&Lt&&pe.alternate===null&&r(X,Lt),Y=v(pe,Y,jt),ee===null?Rt=pe:ee.sibling=pe,ee=pe,Lt=In}if(jt===J.length)return u(X,Lt),Zt&&Q(X,jt),Rt;if(Lt===null){for(;jt<J.length;jt++)Lt=gt(X,J[jt],ft),Lt!==null&&(Y=v(Lt,Y,jt),ee===null?Rt=Lt:ee.sibling=Lt,ee=Lt);return Zt&&Q(X,jt),Rt}for(Lt=f(Lt);jt<J.length;jt++)In=rt(Lt,X,jt,J[jt],ft),In!==null&&(s&&In.alternate!==null&&Lt.delete(In.key===null?jt:In.key),Y=v(In,Y,jt),ee===null?Rt=In:ee.sibling=In,ee=In);return s&&Lt.forEach(function(Va){return r(X,Va)}),Zt&&Q(X,jt),Rt}function Bt(X,Y,J,ft){if(J==null)throw Error(i(151));for(var Rt=null,ee=null,Lt=Y,jt=Y=0,In=null,pe=J.next();Lt!==null&&!pe.done;jt++,pe=J.next()){Lt.index>jt?(In=Lt,Lt=null):In=Lt.sibling;var Va=it(X,Lt,pe.value,ft);if(Va===null){Lt===null&&(Lt=In);break}s&&Lt&&Va.alternate===null&&r(X,Lt),Y=v(Va,Y,jt),ee===null?Rt=Va:ee.sibling=Va,ee=Va,Lt=In}if(pe.done)return u(X,Lt),Zt&&Q(X,jt),Rt;if(Lt===null){for(;!pe.done;jt++,pe=J.next())pe=gt(X,pe.value,ft),pe!==null&&(Y=v(pe,Y,jt),ee===null?Rt=pe:ee.sibling=pe,ee=pe);return Zt&&Q(X,jt),Rt}for(Lt=f(Lt);!pe.done;jt++,pe=J.next())pe=rt(Lt,X,jt,pe.value,ft),pe!==null&&(s&&pe.alternate!==null&&Lt.delete(pe.key===null?jt:pe.key),Y=v(pe,Y,jt),ee===null?Rt=pe:ee.sibling=pe,ee=pe);return s&&Lt.forEach(function(fw){return r(X,fw)}),Zt&&Q(X,jt),Rt}function Me(X,Y,J,ft){if(typeof J=="object"&&J!==null&&J.type===P&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case w:t:{for(var Rt=J.key;Y!==null;){if(Y.key===Rt){if(Rt=J.type,Rt===P){if(Y.tag===7){u(X,Y.sibling),ft=_(Y,J.props.children),ft.return=X,X=ft;break t}}else if(Y.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===O&&_y(Rt)===Y.type){u(X,Y.sibling),ft=_(Y,J.props),Hu(ft,J),ft.return=X,X=ft;break t}u(X,Y);break}else r(X,Y);Y=Y.sibling}J.type===P?(ft=Ks(J.props.children,X.mode,ft,J.key),ft.return=X,X=ft):(ft=Oo(J.type,J.key,J.props,null,X.mode,ft),Hu(ft,J),ft.return=X,X=ft)}return C(X);case R:t:{for(Rt=J.key;Y!==null;){if(Y.key===Rt)if(Y.tag===4&&Y.stateNode.containerInfo===J.containerInfo&&Y.stateNode.implementation===J.implementation){u(X,Y.sibling),ft=_(Y,J.children||[]),ft.return=X,X=ft;break t}else{u(X,Y);break}else r(X,Y);Y=Y.sibling}ft=Cl(J,X.mode,ft),ft.return=X,X=ft}return C(X);case O:return Rt=J._init,J=Rt(J._payload),Me(X,Y,J,ft)}if(Ot(J))return qt(X,Y,J,ft);if(Z(J)){if(Rt=Z(J),typeof Rt!="function")throw Error(i(150));return J=Rt.call(J),Bt(X,Y,J,ft)}if(typeof J.then=="function")return Me(X,Y,Ah(J),ft);if(J.$$typeof===st)return Me(X,Y,dh(X,J),ft);Ch(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Y!==null&&Y.tag===6?(u(X,Y.sibling),ft=_(Y,J),ft.return=X,X=ft):(u(X,Y),ft=Mu(J,X.mode,ft),ft.return=X,X=ft),C(X)):u(X,Y)}return function(X,Y,J,ft){try{Uu=0;var Rt=Me(X,Y,J,ft);return kl=null,Rt}catch(Lt){if(Lt===Ou||Lt===gh)throw Lt;var ee=oi(29,Lt,null,X.mode);return ee.lanes=ft,ee.return=X,ee}finally{}}}var Nl=yy(!0),vy=yy(!1),ls=lt(null),Ws=null;function Ea(s){var r=s.alternate;mt(_n,_n.current&1),mt(ls,s),Ws===null&&(r===null||Il.current!==null||r.memoizedState!==null)&&(Ws=s)}function by(s){if(s.tag===22){if(mt(_n,_n.current),mt(ls,s),Ws===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(Ws=s)}}else xa()}function xa(){mt(_n,_n.current),mt(ls,ls.current)}function Dr(s){vt(ls),Ws===s&&(Ws=null),vt(_n)}var _n=lt(0);function Rh(s){for(var r=s;r!==null;){if(r.tag===13){var u=r.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Wm(u)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function om(s,r,u,f){r=s.memoizedState,u=u(f,r),u=u==null?r:T({},r,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var lm={enqueueSetState:function(s,r,u){s=s._reactInternals;var f=Ui(),_=va(f);_.payload=r,u!=null&&(_.callback=u),r=ba(s,_,f),r!==null&&(Hi(r,s,f),Lu(r,s,f))},enqueueReplaceState:function(s,r,u){s=s._reactInternals;var f=Ui(),_=va(f);_.tag=1,_.payload=r,u!=null&&(_.callback=u),r=ba(s,_,f),r!==null&&(Hi(r,s,f),Lu(r,s,f))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var u=Ui(),f=va(u);f.tag=2,r!=null&&(f.callback=r),r=ba(s,f,u),r!==null&&(Hi(r,s,u),Lu(r,s,u))}};function Ty(s,r,u,f,_,v,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,v,C):r.prototype&&r.prototype.isPureReactComponent?!si(u,f)||!si(_,v):!0}function Ey(s,r,u,f){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(u,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(u,f),r.state!==s&&lm.enqueueReplaceState(r,r.state,null)}function Bo(s,r){var u=r;if("ref"in r){u={};for(var f in r)f!=="ref"&&(u[f]=r[f])}if(s=s.defaultProps){u===r&&(u=T({},u));for(var _ in s)u[_]===void 0&&(u[_]=s[_])}return u}var Mh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function xy(s){Mh(s)}function Sy(s){console.error(s)}function wy(s){Mh(s)}function Dh(s,r){try{var u=s.onUncaughtError;u(r.value,{componentStack:r.stack})}catch(f){setTimeout(function(){throw f})}}function Ay(s,r,u){try{var f=s.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function um(s,r,u){return u=va(u),u.tag=3,u.payload={element:null},u.callback=function(){Dh(s,r)},u}function Cy(s){return s=va(s),s.tag=3,s}function Ry(s,r,u,f){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var v=f.value;s.payload=function(){return _(v)},s.callback=function(){Ay(r,u,f)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){Ay(r,u,f),typeof _!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var D=f.stack;this.componentDidCatch(f.value,{componentStack:D!==null?D:""})})}function fS(s,r,u,f,_){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(r=u.alternate,r!==null&&ko(r,u,_,!0),u=ls.current,u!==null){switch(u.tag){case 13:return Ws===null?Pm():u.alternate===null&&Qe===0&&(Qe=3),u.flags&=-257,u.flags|=65536,u.lanes=_,f===zd?u.flags|=16384:(r=u.updateQueue,r===null?u.updateQueue=new Set([f]):r.add(f),km(s,f,_)),!1;case 22:return u.flags|=65536,f===zd?u.flags|=16384:(r=u.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=r):(u=r.retryQueue,u===null?r.retryQueue=new Set([f]):u.add(f)),km(s,f,_)),!1}throw Error(i(435,u.tag))}return km(s,f,_),Pm(),!1}if(Zt)return r=ls.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=_,f!==Rn&&(s=Error(i(422),{cause:f}),_a(ri(s,u)))):(f!==Rn&&(r=Error(i(423),{cause:f}),_a(ri(r,u))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,f=ri(f,u),_=um(s.stateNode,f,_),Ud(s,_),Qe!==4&&(Qe=2)),!1;var v=Error(i(520),{cause:f});if(v=ri(v,u),Xu===null?Xu=[v]:Xu.push(v),Qe!==4&&(Qe=2),r===null)return!0;f=ri(f,u),u=r;do{switch(u.tag){case 3:return u.flags|=65536,s=_&-_,u.lanes|=s,s=um(u.stateNode,f,s),Ud(u,s),!1;case 1:if(r=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ma===null||!Ma.has(v))))return u.flags|=65536,_&=-_,u.lanes|=_,_=Cy(_),Ry(_,s,u,f),Ud(u,_),!1}u=u.return}while(u!==null);return!1}var My=Error(i(461)),Mn=!1;function Vn(s,r,u,f){r.child=s===null?vy(r,null,u,f):Nl(r,s.child,u,f)}function Dy(s,r,u,f,_){u=u.render;var v=r.ref;if("ref"in f){var C={};for(var D in f)D!=="ref"&&(C[D]=f[D])}else C=f;return No(r),f=Gd(s,r,u,C,v,_),D=Yd(),s!==null&&!Mn?(Kd(s,r,_),Ir(s,r,_)):(Zt&&D&&yt(r),r.flags|=1,Vn(s,r,f,_),r.child)}function Iy(s,r,u,f,_){if(s===null){var v=u.type;return typeof v=="function"&&!Al(v)&&v.defaultProps===void 0&&u.compare===null?(r.tag=15,r.type=v,Oy(s,r,v,f,_)):(s=Oo(u.type,null,f,r,r.mode,_),s.ref=r.ref,s.return=r,r.child=s)}if(v=s.child,!_m(s,_)){var C=v.memoizedProps;if(u=u.compare,u=u!==null?u:si,u(C,f)&&s.ref===r.ref)return Ir(s,r,_)}return r.flags|=1,s=as(v,f),s.ref=r.ref,s.return=r,r.child=s}function Oy(s,r,u,f,_){if(s!==null){var v=s.memoizedProps;if(si(v,f)&&s.ref===r.ref)if(Mn=!1,r.pendingProps=f=v,_m(s,_))(s.flags&131072)!==0&&(Mn=!0);else return r.lanes=s.lanes,Ir(s,r,_)}return cm(s,r,u,f,_)}function Py(s,r,u){var f=r.pendingProps,_=f.children,v=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((r.flags&128)!==0){if(f=v!==null?v.baseLanes|u:u,s!==null){for(_=r.child=s.child,v=0;_!==null;)v=v|_.lanes|_.childLanes,_=_.sibling;r.childLanes=v&~f}else r.childLanes=0,r.child=null;return Ly(s,r,f,u)}if((u&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&mh(r,v!==null?v.cachePool:null),v!==null?O_(r,v):Fd(),by(r);else return r.lanes=r.childLanes=536870912,Ly(s,r,v!==null?v.baseLanes|u:u,u)}else v!==null?(mh(r,v.cachePool),O_(r,v),xa(),r.memoizedState=null):(s!==null&&mh(r,null),Fd(),xa());return Vn(s,r,_,u),r.child}function Ly(s,r,u,f){var _=Vd();return _=_===null?null:{parent:pn._currentValue,pool:_},r.memoizedState={baseLanes:u,cachePool:_},s!==null&&mh(r,null),Fd(),by(r),s!==null&&ko(s,r,f,!0),null}function Ih(s,r){var u=r.ref;if(u===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(s===null||s.ref!==u)&&(r.flags|=4194816)}}function cm(s,r,u,f,_){return No(r),u=Gd(s,r,u,f,void 0,_),f=Yd(),s!==null&&!Mn?(Kd(s,r,_),Ir(s,r,_)):(Zt&&f&&yt(r),r.flags|=1,Vn(s,r,u,_),r.child)}function ky(s,r,u,f,_,v){return No(r),r.updateQueue=null,u=L_(r,f,u,_),P_(s),f=Yd(),s!==null&&!Mn?(Kd(s,r,v),Ir(s,r,v)):(Zt&&f&&yt(r),r.flags|=1,Vn(s,r,u,v),r.child)}function Ny(s,r,u,f,_){if(No(r),r.stateNode===null){var v=Cr,C=u.contextType;typeof C=="object"&&C!==null&&(v=Xn(C)),v=new u(f,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=lm,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=f,v.state=r.memoizedState,v.refs={},Bd(r),C=u.contextType,v.context=typeof C=="object"&&C!==null?Xn(C):Cr,v.state=r.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(om(r,u,C,f),v.state=r.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&lm.enqueueReplaceState(v,v.state,null),Nu(r,f,v,_),ku(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),f=!0}else if(s===null){v=r.stateNode;var D=r.memoizedProps,q=Bo(u,D);v.props=q;var et=v.context,ct=u.contextType;C=Cr,typeof ct=="object"&&ct!==null&&(C=Xn(ct));var gt=u.getDerivedStateFromProps;ct=typeof gt=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=r.pendingProps!==D,ct||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||et!==C)&&Ey(r,v,f,C),ya=!1;var it=r.memoizedState;v.state=it,Nu(r,f,v,_),ku(),et=r.memoizedState,D||it!==et||ya?(typeof gt=="function"&&(om(r,u,gt,f),et=r.memoizedState),(q=ya||Ty(r,u,q,f,it,et,C))?(ct||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=et),v.props=f,v.state=et,v.context=C,f=q):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{v=r.stateNode,jd(s,r),C=r.memoizedProps,ct=Bo(u,C),v.props=ct,gt=r.pendingProps,it=v.context,et=u.contextType,q=Cr,typeof et=="object"&&et!==null&&(q=Xn(et)),D=u.getDerivedStateFromProps,(et=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==gt||it!==q)&&Ey(r,v,f,q),ya=!1,it=r.memoizedState,v.state=it,Nu(r,f,v,_),ku();var rt=r.memoizedState;C!==gt||it!==rt||ya||s!==null&&s.dependencies!==null&&fh(s.dependencies)?(typeof D=="function"&&(om(r,u,D,f),rt=r.memoizedState),(ct=ya||Ty(r,u,ct,f,it,rt,q)||s!==null&&s.dependencies!==null&&fh(s.dependencies))?(et||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,rt,q),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,rt,q)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===s.memoizedProps&&it===s.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&it===s.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=rt),v.props=f,v.state=rt,v.context=q,f=ct):(typeof v.componentDidUpdate!="function"||C===s.memoizedProps&&it===s.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&it===s.memoizedState||(r.flags|=1024),f=!1)}return v=f,Ih(s,r),f=(r.flags&128)!==0,v||f?(v=r.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,s!==null&&f?(r.child=Nl(r,s.child,null,_),r.child=Nl(r,null,u,_)):Vn(s,r,u,_),r.memoizedState=v.state,s=r.child):s=Ir(s,r,_),s}function Vy(s,r,u,f){return pa(),r.flags|=256,Vn(s,r,u,f),r.child}var hm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fm(s){return{baseLanes:s,cachePool:S_()}}function dm(s,r,u){return s=s!==null?s.childLanes&~u:0,r&&(s|=us),s}function zy(s,r,u){var f=r.pendingProps,_=!1,v=(r.flags&128)!==0,C;if((C=v)||(C=s!==null&&s.memoizedState===null?!1:(_n.current&2)!==0),C&&(_=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,s===null){if(Zt){if(_?Ea(r):xa(),Zt){var D=Mt,q;if(q=D){t:{for(q=D,D=Ge;q.nodeType!==8;){if(!D){D=null;break t}if(q=Is(q.nextSibling),q===null){D=null;break t}}D=q}D!==null?(r.memoizedState={dehydrated:D,treeContext:S!==null?{id:M,overflow:F}:null,retryLane:536870912,hydrationErrors:null},q=oi(18,null,null,0),q.stateNode=D,q.return=r,r.child=q,Ct=r,Mt=null,q=!0):q=!1}q||mi(r)}if(D=r.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Wm(D)?r.lanes=32:r.lanes=536870912,null;Dr(r)}return D=f.children,f=f.fallback,_?(xa(),_=r.mode,D=Oh({mode:"hidden",children:D},_),f=Ks(f,_,u,null),D.return=r,f.return=r,D.sibling=f,r.child=D,_=r.child,_.memoizedState=fm(u),_.childLanes=dm(s,C,u),r.memoizedState=hm,f):(Ea(r),mm(r,D))}if(q=s.memoizedState,q!==null&&(D=q.dehydrated,D!==null)){if(v)r.flags&256?(Ea(r),r.flags&=-257,r=gm(s,r,u)):r.memoizedState!==null?(xa(),r.child=s.child,r.flags|=128,r=null):(xa(),_=f.fallback,D=r.mode,f=Oh({mode:"visible",children:f.children},D),_=Ks(_,D,u,null),_.flags|=2,f.return=r,_.return=r,f.sibling=_,r.child=f,Nl(r,s.child,null,u),f=r.child,f.memoizedState=fm(u),f.childLanes=dm(s,C,u),r.memoizedState=hm,r=_);else if(Ea(r),Wm(D)){if(C=D.nextSibling&&D.nextSibling.dataset,C)var et=C.dgst;C=et,f=Error(i(419)),f.stack="",f.digest=C,_a({value:f,source:null,stack:null}),r=gm(s,r,u)}else if(Mn||ko(s,r,u,!1),C=(u&s.childLanes)!==0,Mn||C){if(C=Be,C!==null&&(f=u&-u,f=(f&42)!==0?1:Ns(f),f=(f&(C.suspendedLanes|u))!==0?0:f,f!==0&&f!==q.retryLane))throw q.retryLane=f,ma(s,f),Hi(C,s,f),My;D.data==="$?"||Pm(),r=gm(s,r,u)}else D.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=q.treeContext,Mt=Is(D.nextSibling),Ct=r,Zt=!0,ze=null,Ge=!1,s!==null&&(p[b++]=M,p[b++]=F,p[b++]=S,M=s.id,F=s.overflow,S=r),r=mm(r,f.children),r.flags|=4096);return r}return _?(xa(),_=f.fallback,D=r.mode,q=s.child,et=q.sibling,f=as(q,{mode:"hidden",children:f.children}),f.subtreeFlags=q.subtreeFlags&65011712,et!==null?_=as(et,_):(_=Ks(_,D,u,null),_.flags|=2),_.return=r,f.return=r,f.sibling=_,r.child=f,f=_,_=r.child,D=s.child.memoizedState,D===null?D=fm(u):(q=D.cachePool,q!==null?(et=pn._currentValue,q=q.parent!==et?{parent:et,pool:et}:q):q=S_(),D={baseLanes:D.baseLanes|u,cachePool:q}),_.memoizedState=D,_.childLanes=dm(s,C,u),r.memoizedState=hm,f):(Ea(r),u=s.child,s=u.sibling,u=as(u,{mode:"visible",children:f.children}),u.return=r,u.sibling=null,s!==null&&(C=r.deletions,C===null?(r.deletions=[s],r.flags|=16):C.push(s)),r.child=u,r.memoizedState=null,u)}function mm(s,r){return r=Oh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Oh(s,r){return s=oi(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function gm(s,r,u){return Nl(r,s.child,null,u),s=mm(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function By(s,r,u){s.lanes|=r;var f=s.alternate;f!==null&&(f.lanes|=r),Lo(s.return,r,u)}function pm(s,r,u,f,_){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:_}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=_)}function jy(s,r,u){var f=r.pendingProps,_=f.revealOrder,v=f.tail;if(Vn(s,r,f.children,u),f=_n.current,(f&2)!==0)f=f&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&By(s,u,r);else if(s.tag===19)By(s,u,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(mt(_n,f),_){case"forwards":for(u=r.child,_=null;u!==null;)s=u.alternate,s!==null&&Rh(s)===null&&(_=u),u=u.sibling;u=_,u===null?(_=r.child,r.child=null):(_=u.sibling,u.sibling=null),pm(r,!1,_,u,v);break;case"backwards":for(u=null,_=r.child,r.child=null;_!==null;){if(s=_.alternate,s!==null&&Rh(s)===null){r.child=_;break}s=_.sibling,_.sibling=u,u=_,_=s}pm(r,!0,u,null,v);break;case"together":pm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ir(s,r,u){if(s!==null&&(r.dependencies=s.dependencies),Ra|=r.lanes,(u&r.childLanes)===0)if(s!==null){if(ko(s,r,u,!1),(u&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,u=as(s,s.pendingProps),r.child=u,u.return=r;s.sibling!==null;)s=s.sibling,u=u.sibling=as(s,s.pendingProps),u.return=r;u.sibling=null}return r.child}function _m(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&fh(s)))}function dS(s,r,u){switch(r.tag){case 3:ne(r,r.stateNode.containerInfo),Xs(r,pn,s.memoizedState.cache),pa();break;case 27:case 5:li(r);break;case 4:ne(r,r.stateNode.containerInfo);break;case 10:Xs(r,r.type,r.memoizedProps.value);break;case 13:var f=r.memoizedState;if(f!==null)return f.dehydrated!==null?(Ea(r),r.flags|=128,null):(u&r.child.childLanes)!==0?zy(s,r,u):(Ea(r),s=Ir(s,r,u),s!==null?s.sibling:null);Ea(r);break;case 19:var _=(s.flags&128)!==0;if(f=(u&r.childLanes)!==0,f||(ko(s,r,u,!1),f=(u&r.childLanes)!==0),_){if(f)return jy(s,r,u);r.flags|=128}if(_=r.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),mt(_n,_n.current),f)break;return null;case 22:case 23:return r.lanes=0,Py(s,r,u);case 24:Xs(r,pn,s.memoizedState.cache)}return Ir(s,r,u)}function Uy(s,r,u){if(s!==null)if(s.memoizedProps!==r.pendingProps)Mn=!0;else{if(!_m(s,u)&&(r.flags&128)===0)return Mn=!1,dS(s,r,u);Mn=(s.flags&131072)!==0}else Mn=!1,Zt&&(r.flags&1048576)!==0&&at(r,h,r.index);switch(r.lanes=0,r.tag){case 16:t:{s=r.pendingProps;var f=r.elementType,_=f._init;if(f=_(f._payload),r.type=f,typeof f=="function")Al(f)?(s=Bo(f,s),r.tag=1,r=Ny(null,r,f,s,u)):(r.tag=0,r=cm(null,r,f,s,u));else{if(f!=null){if(_=f.$$typeof,_===ut){r.tag=11,r=Dy(null,r,f,s,u);break t}else if(_===B){r.tag=14,r=Iy(null,r,f,s,u);break t}}throw r=Ut(f)||f,Error(i(306,r,""))}}return r;case 0:return cm(s,r,r.type,r.pendingProps,u);case 1:return f=r.type,_=Bo(f,r.pendingProps),Ny(s,r,f,_,u);case 3:t:{if(ne(r,r.stateNode.containerInfo),s===null)throw Error(i(387));f=r.pendingProps;var v=r.memoizedState;_=v.element,jd(s,r),Nu(r,f,null,u);var C=r.memoizedState;if(f=C.cache,Xs(r,pn,f),f!==v.cache&&Rl(r,[pn],u,!0),ku(),f=C.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=Vy(s,r,f,u);break t}else if(f!==_){_=ri(Error(i(424)),r),_a(_),r=Vy(s,r,f,u);break t}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Mt=Is(s.firstChild),Ct=r,Zt=!0,ze=null,Ge=!0,u=vy(r,null,f,u),r.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(pa(),f===_){r=Ir(s,r,u);break t}Vn(s,r,f,u)}r=r.child}return r;case 26:return Ih(s,r),s===null?(u=Zv(r.type,null,r.pendingProps,null))?r.memoizedState=u:Zt||(u=r.type,s=r.pendingProps,f=Gh(Tt.current).createElement(u),f[Je]=r,f[Xe]=s,Bn(f,u,s),Ze(f),r.stateNode=f):r.memoizedState=Zv(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return li(r),s===null&&Zt&&(f=r.stateNode=Hv(r.type,r.pendingProps,Tt.current),Ct=r,Ge=!0,_=Mt,Oa(r.type)?(Qm=_,Mt=Is(f.firstChild)):Mt=_),Vn(s,r,r.pendingProps.children,u),Ih(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Zt&&((_=f=Mt)&&(f=US(f,r.type,r.pendingProps,Ge),f!==null?(r.stateNode=f,Ct=r,Mt=Is(f.firstChild),Ge=!1,_=!0):_=!1),_||mi(r)),li(r),_=r.type,v=r.pendingProps,C=s!==null?s.memoizedProps:null,f=v.children,Ym(_,v)?f=null:C!==null&&Ym(_,C)&&(r.flags|=32),r.memoizedState!==null&&(_=Gd(s,r,rS,null,null,u),sc._currentValue=_),Ih(s,r),Vn(s,r,f,u),r.child;case 6:return s===null&&Zt&&((s=u=Mt)&&(u=HS(u,r.pendingProps,Ge),u!==null?(r.stateNode=u,Ct=r,Mt=null,s=!0):s=!1),s||mi(r)),null;case 13:return zy(s,r,u);case 4:return ne(r,r.stateNode.containerInfo),f=r.pendingProps,s===null?r.child=Nl(r,null,f,u):Vn(s,r,f,u),r.child;case 11:return Dy(s,r,r.type,r.pendingProps,u);case 7:return Vn(s,r,r.pendingProps,u),r.child;case 8:return Vn(s,r,r.pendingProps.children,u),r.child;case 12:return Vn(s,r,r.pendingProps.children,u),r.child;case 10:return f=r.pendingProps,Xs(r,r.type,f.value),Vn(s,r,f.children,u),r.child;case 9:return _=r.type._context,f=r.pendingProps.children,No(r),_=Xn(_),f=f(_),r.flags|=1,Vn(s,r,f,u),r.child;case 14:return Iy(s,r,r.type,r.pendingProps,u);case 15:return Oy(s,r,r.type,r.pendingProps,u);case 19:return jy(s,r,u);case 31:return f=r.pendingProps,u=r.mode,f={mode:f.mode,children:f.children},s===null?(u=Oh(f,u),u.ref=r.ref,r.child=u,u.return=r,r=u):(u=as(s.child,f),u.ref=r.ref,r.child=u,u.return=r,r=u),r;case 22:return Py(s,r,u);case 24:return No(r),f=Xn(pn),s===null?(_=Vd(),_===null&&(_=Be,v=kd(),_.pooledCache=v,v.refCount++,v!==null&&(_.pooledCacheLanes|=u),_=v),r.memoizedState={parent:f,cache:_},Bd(r),Xs(r,pn,_)):((s.lanes&u)!==0&&(jd(s,r),Nu(r,null,null,u),ku()),_=s.memoizedState,v=r.memoizedState,_.parent!==f?(_={parent:f,cache:f},r.memoizedState=_,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=_),Xs(r,pn,f)):(f=v.cache,Xs(r,pn,f),f!==_.cache&&Rl(r,[pn],u,!0))),Vn(s,r,r.pendingProps.children,u),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Or(s){s.flags|=4}function Hy(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Wv(r)){if(r=ls.current,r!==null&&((ce&4194048)===ce?Ws!==null:(ce&62914560)!==ce&&(ce&536870912)===0||r!==Ws))throw Pu=zd,w_;s.flags|=8192}}function Ph(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Yr():536870912,s.lanes|=r,jl|=r)}function Fu(s,r){if(!Zt)switch(s.tailMode){case"hidden":r=s.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Ye(s){var r=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(r)for(var _=s.child;_!==null;)u|=_.lanes|_.childLanes,f|=_.subtreeFlags&65011712,f|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)u|=_.lanes|_.childLanes,f|=_.subtreeFlags,f|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=f,s.childLanes=u,r}function mS(s,r,u){var f=r.pendingProps;switch(wt(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(r),null;case 1:return Ye(r),null;case 3:return u=r.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),Ms(pn),ti(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Po(r)?Or(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,hh())),Ye(r),null;case 26:return u=r.memoizedState,s===null?(Or(r),u!==null?(Ye(r),Hy(r,u)):(Ye(r),r.flags&=-16777217)):u?u!==s.memoizedState?(Or(r),Ye(r),Hy(r,u)):(Ye(r),r.flags&=-16777217):(s.memoizedProps!==f&&Or(r),Ye(r),r.flags&=-16777217),null;case 27:Pt(r),u=Tt.current;var _=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==f&&Or(r);else{if(!f){if(r.stateNode===null)throw Error(i(166));return Ye(r),null}s=xt.current,Po(r)?uh(r):(s=Hv(_,f,u),r.stateNode=s,Or(r))}return Ye(r),null;case 5:if(Pt(r),u=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==f&&Or(r);else{if(!f){if(r.stateNode===null)throw Error(i(166));return Ye(r),null}if(s=xt.current,Po(r))uh(r);else{switch(_=Gh(Tt.current),s){case 1:s=_.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=_.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?_.createElement("select",{is:f.is}):_.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?_.createElement(u,{is:f.is}):_.createElement(u)}}s[Je]=r,s[Xe]=f;t:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)s.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break t;for(;_.sibling===null;){if(_.return===null||_.return===r)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=s;t:switch(Bn(s,u,f),u){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Or(r)}}return Ye(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==f&&Or(r);else{if(typeof f!="string"&&r.stateNode===null)throw Error(i(166));if(s=Tt.current,Po(r)){if(s=r.stateNode,u=r.memoizedProps,f=null,_=Ct,_!==null)switch(_.tag){case 27:case 5:f=_.memoizedProps}s[Je]=r,s=!!(s.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||kv(s.nodeValue,u)),s||mi(r)}else s=Gh(s).createTextNode(f),s[Je]=r,r.stateNode=s}return Ye(r),null;case 13:if(f=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=Po(r),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(i(318));if(_=r.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[Je]=r}else pa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ye(r),_=!1}else _=hh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return r.flags&256?(Dr(r),r):(Dr(r),null)}if(Dr(r),(r.flags&128)!==0)return r.lanes=u,r;if(u=f!==null,s=s!==null&&s.memoizedState!==null,u){f=r.child,_=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(_=f.alternate.memoizedState.cachePool.pool);var v=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==_&&(f.flags|=2048)}return u!==s&&u&&(r.child.flags|=8192),Ph(r,r.updateQueue),Ye(r),null;case 4:return ti(),s===null&&Hm(r.stateNode.containerInfo),Ye(r),null;case 10:return Ms(r.type),Ye(r),null;case 19:if(vt(_n),_=r.memoizedState,_===null)return Ye(r),null;if(f=(r.flags&128)!==0,v=_.rendering,v===null)if(f)Fu(_,!1);else{if(Qe!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(v=Rh(s),v!==null){for(r.flags|=128,Fu(_,!1),s=v.updateQueue,r.updateQueue=s,Ph(r,s),r.subtreeFlags=0,s=u,u=r.child;u!==null;)Ru(u,s),u=u.sibling;return mt(_n,_n.current&1|2),r.child}s=s.sibling}_.tail!==null&&En()>Nh&&(r.flags|=128,f=!0,Fu(_,!1),r.lanes=4194304)}else{if(!f)if(s=Rh(v),s!==null){if(r.flags|=128,f=!0,s=s.updateQueue,r.updateQueue=s,Ph(r,s),Fu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!v.alternate&&!Zt)return Ye(r),null}else 2*En()-_.renderingStartTime>Nh&&u!==536870912&&(r.flags|=128,f=!0,Fu(_,!1),r.lanes=4194304);_.isBackwards?(v.sibling=r.child,r.child=v):(s=_.last,s!==null?s.sibling=v:r.child=v,_.last=v)}return _.tail!==null?(r=_.tail,_.rendering=r,_.tail=r.sibling,_.renderingStartTime=En(),r.sibling=null,s=_n.current,mt(_n,f?s&1|2:s&1),r):(Ye(r),null);case 22:case 23:return Dr(r),qd(),f=r.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(r.flags|=8192):f&&(r.flags|=8192),f?(u&536870912)!==0&&(r.flags&128)===0&&(Ye(r),r.subtreeFlags&6&&(r.flags|=8192)):Ye(r),u=r.updateQueue,u!==null&&Ph(r,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==u&&(r.flags|=2048),s!==null&&vt(Vo),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ms(pn),Ye(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function gS(s,r){switch(wt(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Ms(pn),ti(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Pt(r),null;case 13:if(Dr(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));pa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return vt(_n),null;case 4:return ti(),null;case 10:return Ms(r.type),null;case 22:case 23:return Dr(r),qd(),s!==null&&vt(Vo),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Ms(pn),null;case 25:return null;default:return null}}function Fy(s,r){switch(wt(r),r.tag){case 3:Ms(pn),ti();break;case 26:case 27:case 5:Pt(r);break;case 4:ti();break;case 13:Dr(r);break;case 19:vt(_n);break;case 10:Ms(r.type);break;case 22:case 23:Dr(r),qd(),s!==null&&vt(Vo);break;case 24:Ms(pn)}}function qu(s,r){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var _=f.next;u=_;do{if((u.tag&s)===s){f=void 0;var v=u.create,C=u.inst;f=v(),C.destroy=f}u=u.next}while(u!==_)}}catch(D){Oe(r,r.return,D)}}function Sa(s,r,u){try{var f=r.updateQueue,_=f!==null?f.lastEffect:null;if(_!==null){var v=_.next;f=v;do{if((f.tag&s)===s){var C=f.inst,D=C.destroy;if(D!==void 0){C.destroy=void 0,_=r;var q=u,et=D;try{et()}catch(ct){Oe(_,q,ct)}}}f=f.next}while(f!==v)}}catch(ct){Oe(r,r.return,ct)}}function qy(s){var r=s.updateQueue;if(r!==null){var u=s.stateNode;try{I_(r,u)}catch(f){Oe(s,s.return,f)}}}function Zy(s,r,u){u.props=Bo(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(f){Oe(s,r,f)}}function Zu(s,r){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof u=="function"?s.refCleanup=u(f):u.current=f}}catch(_){Oe(s,r,_)}}function Qs(s,r){var u=s.ref,f=s.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(_){Oe(s,r,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){Oe(s,r,_)}else u.current=null}function Gy(s){var r=s.type,u=s.memoizedProps,f=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(_){Oe(s,s.return,_)}}function ym(s,r,u){try{var f=s.stateNode;NS(f,s.type,u,r),f[Xe]=r}catch(_){Oe(s,s.return,_)}}function Yy(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Oa(s.type)||s.tag===4}function vm(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Yy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Oa(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function bm(s,r,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,r):(r=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,r.appendChild(s),u=u._reactRootContainer,u!=null||r.onclick!==null||(r.onclick=Zh));else if(f!==4&&(f===27&&Oa(s.type)&&(u=s.stateNode,r=null),s=s.child,s!==null))for(bm(s,r,u),s=s.sibling;s!==null;)bm(s,r,u),s=s.sibling}function Lh(s,r,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?u.insertBefore(s,r):u.appendChild(s);else if(f!==4&&(f===27&&Oa(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Lh(s,r,u),s=s.sibling;s!==null;)Lh(s,r,u),s=s.sibling}function Ky(s){var r=s.stateNode,u=s.memoizedProps;try{for(var f=s.type,_=r.attributes;_.length;)r.removeAttributeNode(_[0]);Bn(r,f,u),r[Je]=s,r[Xe]=u}catch(v){Oe(s,s.return,v)}}var Pr=!1,nn=!1,Tm=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function pS(s,r){if(s=s.containerInfo,Zm=$h,s=Ao(s),Co(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var _=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break t}var C=0,D=-1,q=-1,et=0,ct=0,gt=s,it=null;e:for(;;){for(var rt;gt!==u||_!==0&&gt.nodeType!==3||(D=C+_),gt!==v||f!==0&&gt.nodeType!==3||(q=C+f),gt.nodeType===3&&(C+=gt.nodeValue.length),(rt=gt.firstChild)!==null;)it=gt,gt=rt;for(;;){if(gt===s)break e;if(it===u&&++et===_&&(D=C),it===v&&++ct===f&&(q=C),(rt=gt.nextSibling)!==null)break;gt=it,it=gt.parentNode}gt=rt}u=D===-1||q===-1?null:{start:D,end:q}}else u=null}u=u||{start:0,end:0}}else u=null;for(Gm={focusedElem:s,selectionRange:u},$h=!1,Dn=r;Dn!==null;)if(r=Dn,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Dn=s;else for(;Dn!==null;){switch(r=Dn,v=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,u=r,_=v.memoizedProps,v=v.memoizedState,f=u.stateNode;try{var qt=Bo(u.type,_,u.elementType===u.type);s=f.getSnapshotBeforeUpdate(qt,v),f.__reactInternalSnapshotBeforeUpdate=s}catch(Bt){Oe(u,u.return,Bt)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,u=s.nodeType,u===9)Xm(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Xm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Dn=s;break}Dn=r.return}}function Wy(s,r,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:wa(s,u),f&4&&qu(5,u);break;case 1:if(wa(s,u),f&4)if(s=u.stateNode,r===null)try{s.componentDidMount()}catch(C){Oe(u,u.return,C)}else{var _=Bo(u.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(_,r,s.__reactInternalSnapshotBeforeUpdate)}catch(C){Oe(u,u.return,C)}}f&64&&qy(u),f&512&&Zu(u,u.return);break;case 3:if(wa(s,u),f&64&&(s=u.updateQueue,s!==null)){if(r=null,u.child!==null)switch(u.child.tag){case 27:case 5:r=u.child.stateNode;break;case 1:r=u.child.stateNode}try{I_(s,r)}catch(C){Oe(u,u.return,C)}}break;case 27:r===null&&f&4&&Ky(u);case 26:case 5:wa(s,u),r===null&&f&4&&Gy(u),f&512&&Zu(u,u.return);break;case 12:wa(s,u);break;case 13:wa(s,u),f&4&&Jy(s,u),f&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=wS.bind(null,u),FS(s,u))));break;case 22:if(f=u.memoizedState!==null||Pr,!f){r=r!==null&&r.memoizedState!==null||nn,_=Pr;var v=nn;Pr=f,(nn=r)&&!v?Aa(s,u,(u.subtreeFlags&8772)!==0):wa(s,u),Pr=_,nn=v}break;case 30:break;default:wa(s,u)}}function Qy(s){var r=s.alternate;r!==null&&(s.alternate=null,Qy(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&_s(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Fe=null,pi=!1;function Lr(s,r,u){for(u=u.child;u!==null;)$y(s,r,u),u=u.sibling}function $y(s,r,u){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(Le,u)}catch{}switch(u.tag){case 26:nn||Qs(u,r),Lr(s,r,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:nn||Qs(u,r);var f=Fe,_=pi;Oa(u.type)&&(Fe=u.stateNode,pi=!1),Lr(s,r,u),tc(u.stateNode),Fe=f,pi=_;break;case 5:nn||Qs(u,r);case 6:if(f=Fe,_=pi,Fe=null,Lr(s,r,u),Fe=f,pi=_,Fe!==null)if(pi)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(u.stateNode)}catch(v){Oe(u,r,v)}else try{Fe.removeChild(u.stateNode)}catch(v){Oe(u,r,v)}break;case 18:Fe!==null&&(pi?(s=Fe,jv(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),lc(s)):jv(Fe,u.stateNode));break;case 4:f=Fe,_=pi,Fe=u.stateNode.containerInfo,pi=!0,Lr(s,r,u),Fe=f,pi=_;break;case 0:case 11:case 14:case 15:nn||Sa(2,u,r),nn||Sa(4,u,r),Lr(s,r,u);break;case 1:nn||(Qs(u,r),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Zy(u,r,f)),Lr(s,r,u);break;case 21:Lr(s,r,u);break;case 22:nn=(f=nn)||u.memoizedState!==null,Lr(s,r,u),nn=f;break;default:Lr(s,r,u)}}function Jy(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{lc(s)}catch(u){Oe(r,r.return,u)}}function _S(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Xy),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Xy),r;default:throw Error(i(435,s.tag))}}function Em(s,r){var u=_S(s);r.forEach(function(f){var _=AS.bind(null,s,f);u.has(f)||(u.add(f),f.then(_,_))})}function zi(s,r){var u=r.deletions;if(u!==null)for(var f=0;f<u.length;f++){var _=u[f],v=s,C=r,D=C;t:for(;D!==null;){switch(D.tag){case 27:if(Oa(D.type)){Fe=D.stateNode,pi=!1;break t}break;case 5:Fe=D.stateNode,pi=!1;break t;case 3:case 4:Fe=D.stateNode.containerInfo,pi=!0;break t}D=D.return}if(Fe===null)throw Error(i(160));$y(v,C,_),Fe=null,pi=!1,v=_.alternate,v!==null&&(v.return=null),_.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)tv(r,s),r=r.sibling}var Ds=null;function tv(s,r){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:zi(r,s),Bi(s),f&4&&(Sa(3,s,s.return),qu(3,s),Sa(5,s,s.return));break;case 1:zi(r,s),Bi(s),f&512&&(nn||u===null||Qs(u,u.return)),f&64&&Pr&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var _=Ds;if(zi(r,s),Bi(s),f&512&&(nn||u===null||Qs(u,u.return)),f&4){var v=u!==null?u.memoizedState:null;if(f=s.memoizedState,u===null)if(f===null)if(s.stateNode===null){t:{f=s.type,u=s.memoizedProps,_=_.ownerDocument||_;e:switch(f){case"title":v=_.getElementsByTagName("title")[0],(!v||v[zs]||v[Je]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=_.createElement(f),_.head.insertBefore(v,_.querySelector("head > title"))),Bn(v,f,u),v[Je]=s,Ze(v),f=v;break t;case"link":var C=Kv("link","href",_).get(f+(u.href||""));if(C){for(var D=0;D<C.length;D++)if(v=C[D],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice(D,1);break e}}v=_.createElement(f),Bn(v,f,u),_.head.appendChild(v);break;case"meta":if(C=Kv("meta","content",_).get(f+(u.content||""))){for(D=0;D<C.length;D++)if(v=C[D],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice(D,1);break e}}v=_.createElement(f),Bn(v,f,u),_.head.appendChild(v);break;default:throw Error(i(468,f))}v[Je]=s,Ze(v),f=v}s.stateNode=f}else Xv(_,s.type,s.stateNode);else s.stateNode=Yv(_,f,s.memoizedProps);else v!==f?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,f===null?Xv(_,s.type,s.stateNode):Yv(_,f,s.memoizedProps)):f===null&&s.stateNode!==null&&ym(s,s.memoizedProps,u.memoizedProps)}break;case 27:zi(r,s),Bi(s),f&512&&(nn||u===null||Qs(u,u.return)),u!==null&&f&4&&ym(s,s.memoizedProps,u.memoizedProps);break;case 5:if(zi(r,s),Bi(s),f&512&&(nn||u===null||Qs(u,u.return)),s.flags&32){_=s.stateNode;try{wn(_,"")}catch(rt){Oe(s,s.return,rt)}}f&4&&s.stateNode!=null&&(_=s.memoizedProps,ym(s,_,u!==null?u.memoizedProps:_)),f&1024&&(Tm=!0);break;case 6:if(zi(r,s),Bi(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,u=s.stateNode;try{u.nodeValue=f}catch(rt){Oe(s,s.return,rt)}}break;case 3:if(Xh=null,_=Ds,Ds=Yh(r.containerInfo),zi(r,s),Ds=_,Bi(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{lc(r.containerInfo)}catch(rt){Oe(s,s.return,rt)}Tm&&(Tm=!1,ev(s));break;case 4:f=Ds,Ds=Yh(s.stateNode.containerInfo),zi(r,s),Bi(s),Ds=f;break;case 12:zi(r,s),Bi(s);break;case 13:zi(r,s),Bi(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Rm=En()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Em(s,f)));break;case 22:_=s.memoizedState!==null;var q=u!==null&&u.memoizedState!==null,et=Pr,ct=nn;if(Pr=et||_,nn=ct||q,zi(r,s),nn=ct,Pr=et,Bi(s),f&8192)t:for(r=s.stateNode,r._visibility=_?r._visibility&-2:r._visibility|1,_&&(u===null||q||Pr||nn||jo(s)),u=null,r=s;;){if(r.tag===5||r.tag===26){if(u===null){q=u=r;try{if(v=q.stateNode,_)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{D=q.stateNode;var gt=q.memoizedProps.style,it=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;D.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(rt){Oe(q,q.return,rt)}}}else if(r.tag===6){if(u===null){q=r;try{q.stateNode.nodeValue=_?"":q.memoizedProps}catch(rt){Oe(q,q.return,rt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;u===r&&(u=null),r=r.return}u===r&&(u=null),r.sibling.return=r.return,r=r.sibling}f&4&&(f=s.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Em(s,u))));break;case 19:zi(r,s),Bi(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Em(s,f)));break;case 30:break;case 21:break;default:zi(r,s),Bi(s)}}function Bi(s){var r=s.flags;if(r&2){try{for(var u,f=s.return;f!==null;){if(Yy(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var _=u.stateNode,v=vm(s);Lh(s,v,_);break;case 5:var C=u.stateNode;u.flags&32&&(wn(C,""),u.flags&=-33);var D=vm(s);Lh(s,D,C);break;case 3:case 4:var q=u.stateNode.containerInfo,et=vm(s);bm(s,et,q);break;default:throw Error(i(161))}}catch(ct){Oe(s,s.return,ct)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function ev(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;ev(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function wa(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Wy(s,r.alternate,r),r=r.sibling}function jo(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Sa(4,r,r.return),jo(r);break;case 1:Qs(r,r.return);var u=r.stateNode;typeof u.componentWillUnmount=="function"&&Zy(r,r.return,u),jo(r);break;case 27:tc(r.stateNode);case 26:case 5:Qs(r,r.return),jo(r);break;case 22:r.memoizedState===null&&jo(r);break;case 30:jo(r);break;default:jo(r)}s=s.sibling}}function Aa(s,r,u){for(u=u&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var f=r.alternate,_=s,v=r,C=v.flags;switch(v.tag){case 0:case 11:case 15:Aa(_,v,u),qu(4,v);break;case 1:if(Aa(_,v,u),f=v,_=f.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(et){Oe(f,f.return,et)}if(f=v,_=f.updateQueue,_!==null){var D=f.stateNode;try{var q=_.shared.hiddenCallbacks;if(q!==null)for(_.shared.hiddenCallbacks=null,_=0;_<q.length;_++)D_(q[_],D)}catch(et){Oe(f,f.return,et)}}u&&C&64&&qy(v),Zu(v,v.return);break;case 27:Ky(v);case 26:case 5:Aa(_,v,u),u&&f===null&&C&4&&Gy(v),Zu(v,v.return);break;case 12:Aa(_,v,u);break;case 13:Aa(_,v,u),u&&C&4&&Jy(_,v);break;case 22:v.memoizedState===null&&Aa(_,v,u),Zu(v,v.return);break;case 30:break;default:Aa(_,v,u)}r=r.sibling}}function xm(s,r){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Du(u))}function Sm(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Du(s))}function $s(s,r,u,f){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)nv(s,r,u,f),r=r.sibling}function nv(s,r,u,f){var _=r.flags;switch(r.tag){case 0:case 11:case 15:$s(s,r,u,f),_&2048&&qu(9,r);break;case 1:$s(s,r,u,f);break;case 3:$s(s,r,u,f),_&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Du(s)));break;case 12:if(_&2048){$s(s,r,u,f),s=r.stateNode;try{var v=r.memoizedProps,C=v.id,D=v.onPostCommit;typeof D=="function"&&D(C,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(q){Oe(r,r.return,q)}}else $s(s,r,u,f);break;case 13:$s(s,r,u,f);break;case 23:break;case 22:v=r.stateNode,C=r.alternate,r.memoizedState!==null?v._visibility&2?$s(s,r,u,f):Gu(s,r):v._visibility&2?$s(s,r,u,f):(v._visibility|=2,Vl(s,r,u,f,(r.subtreeFlags&10256)!==0)),_&2048&&xm(C,r);break;case 24:$s(s,r,u,f),_&2048&&Sm(r.alternate,r);break;default:$s(s,r,u,f)}}function Vl(s,r,u,f,_){for(_=_&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var v=s,C=r,D=u,q=f,et=C.flags;switch(C.tag){case 0:case 11:case 15:Vl(v,C,D,q,_),qu(8,C);break;case 23:break;case 22:var ct=C.stateNode;C.memoizedState!==null?ct._visibility&2?Vl(v,C,D,q,_):Gu(v,C):(ct._visibility|=2,Vl(v,C,D,q,_)),_&&et&2048&&xm(C.alternate,C);break;case 24:Vl(v,C,D,q,_),_&&et&2048&&Sm(C.alternate,C);break;default:Vl(v,C,D,q,_)}r=r.sibling}}function Gu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var u=s,f=r,_=f.flags;switch(f.tag){case 22:Gu(u,f),_&2048&&xm(f.alternate,f);break;case 24:Gu(u,f),_&2048&&Sm(f.alternate,f);break;default:Gu(u,f)}r=r.sibling}}var Yu=8192;function zl(s){if(s.subtreeFlags&Yu)for(s=s.child;s!==null;)iv(s),s=s.sibling}function iv(s){switch(s.tag){case 26:zl(s),s.flags&Yu&&s.memoizedState!==null&&nw(Ds,s.memoizedState,s.memoizedProps);break;case 5:zl(s);break;case 3:case 4:var r=Ds;Ds=Yh(s.stateNode.containerInfo),zl(s),Ds=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=Yu,Yu=16777216,zl(s),Yu=r):zl(s));break;default:zl(s)}}function sv(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Ku(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var u=0;u<r.length;u++){var f=r[u];Dn=f,av(f,s)}sv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rv(s),s=s.sibling}function rv(s){switch(s.tag){case 0:case 11:case 15:Ku(s),s.flags&2048&&Sa(9,s,s.return);break;case 3:Ku(s);break;case 12:Ku(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,kh(s)):Ku(s);break;default:Ku(s)}}function kh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var u=0;u<r.length;u++){var f=r[u];Dn=f,av(f,s)}sv(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Sa(8,r,r.return),kh(r);break;case 22:u=r.stateNode,u._visibility&2&&(u._visibility&=-3,kh(r));break;default:kh(r)}s=s.sibling}}function av(s,r){for(;Dn!==null;){var u=Dn;switch(u.tag){case 0:case 11:case 15:Sa(8,u,r);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Du(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Dn=f;else t:for(u=s;Dn!==null;){f=Dn;var _=f.sibling,v=f.return;if(Qy(f),f===u){Dn=null;break t}if(_!==null){_.return=v,Dn=_;break t}Dn=v}}}var yS={getCacheForType:function(s){var r=Xn(pn),u=r.data.get(s);return u===void 0&&(u=s(),r.data.set(s,u)),u}},vS=typeof WeakMap=="function"?WeakMap:Map,xe=0,Be=null,ie=null,ce=0,Se=0,ji=null,Ca=!1,Bl=!1,wm=!1,kr=0,Qe=0,Ra=0,Uo=0,Am=0,us=0,jl=0,Xu=null,_i=null,Cm=!1,Rm=0,Nh=1/0,Vh=null,Ma=null,zn=0,Da=null,Ul=null,Hl=0,Mm=0,Dm=null,ov=null,Wu=0,Im=null;function Ui(){if((xe&2)!==0&&ce!==0)return ce&-ce;if($.T!==null){var s=Ml;return s!==0?s:zm()}return Vs()}function lv(){us===0&&(us=(ce&536870912)===0||Zt?ho():536870912);var s=ls.current;return s!==null&&(s.flags|=32),us}function Hi(s,r,u){(s===Be&&(Se===2||Se===9)||s.cancelPendingCommit!==null)&&(Fl(s,0),Ia(s,ce,us,!1)),Yi(s,u),((xe&2)===0||s!==Be)&&(s===Be&&((xe&2)===0&&(Uo|=u),Qe===4&&Ia(s,ce,us,!1)),Js(s))}function uv(s,r,u){if((xe&6)!==0)throw Error(i(327));var f=!u&&(r&124)===0&&(r&s.expiredLanes)===0||Si(s,r),_=f?ES(s,r):Lm(s,r,!0),v=f;do{if(_===0){Bl&&!f&&Ia(s,r,0,!1);break}else{if(u=s.current.alternate,v&&!bS(u)){_=Lm(s,r,!1),v=!1;continue}if(_===2){if(v=r,s.errorRecoveryDisabledLanes&v)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;t:{var D=s;_=Xu;var q=D.current.memoizedState.isDehydrated;if(q&&(Fl(D,C).flags|=256),C=Lm(D,C,!1),C!==2){if(wm&&!q){D.errorRecoveryDisabledLanes|=v,Uo|=v,_=4;break t}v=_i,_i=_,v!==null&&(_i===null?_i=v:_i.push.apply(_i,v))}_=C}if(v=!1,_!==2)continue}}if(_===1){Fl(s,0),Ia(s,r,0,!0);break}t:{switch(f=s,v=_,v){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Ia(f,r,us,!Ca);break t;case 2:_i=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(_=Rm+300-En(),10<_)){if(Ia(f,r,us,!Ca),Gr(f,0,!0)!==0)break t;f.timeoutHandle=zv(cv.bind(null,f,u,_i,Vh,Cm,r,us,Uo,jl,Ca,v,2,-0,0),_);break t}cv(f,u,_i,Vh,Cm,r,us,Uo,jl,Ca,v,0,-0,0)}}break}while(!0);Js(s)}function cv(s,r,u,f,_,v,C,D,q,et,ct,gt,it,rt){if(s.timeoutHandle=-1,gt=r.subtreeFlags,(gt&8192||(gt&16785408)===16785408)&&(ic={stylesheets:null,count:0,unsuspend:ew},iv(r),gt=iw(),gt!==null)){s.cancelPendingCommit=gt(_v.bind(null,s,r,v,u,f,_,C,D,q,ct,1,it,rt)),Ia(s,v,C,!et);return}_v(s,r,v,u,f,_,C,D,q)}function bS(s){for(var r=s;;){var u=r.tag;if((u===0||u===11||u===15)&&r.flags&16384&&(u=r.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var _=u[f],v=_.getSnapshot;_=_.value;try{if(!ii(v(),_))return!1}catch{return!1}}if(u=r.child,r.subtreeFlags&16384&&u!==null)u.return=r,r=u;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ia(s,r,u,f){r&=~Am,r&=~Uo,s.suspendedLanes|=r,s.pingedLanes&=~r,f&&(s.warmLanes|=r),f=s.expirationTimes;for(var _=r;0<_;){var v=31-xn(_),C=1<<v;f[v]=-1,_&=~C}u!==0&&Ki(s,u,r)}function zh(){return(xe&6)===0?(Qu(0),!1):!0}function Om(){if(ie!==null){if(Se===0)var s=ie.return;else s=ie,Rs=os=null,Xd(s),kl=null,Uu=0,s=ie;for(;s!==null;)Fy(s.alternate,s),s=s.return;ie=null}}function Fl(s,r){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,zS(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Om(),Be=s,ie=u=as(s.current,null),ce=r,Se=0,ji=null,Ca=!1,Bl=Si(s,r),wm=!1,jl=us=Am=Uo=Ra=Qe=0,_i=Xu=null,Cm=!1,(r&8)!==0&&(r|=r&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=r;0<f;){var _=31-xn(f),v=1<<_;r|=s[_],f&=~v}return kr=r,Mo(),u}function hv(s,r){$t=null,$.H=wh,r===Ou||r===gh?(r=R_(),Se=3):r===w_?(r=R_(),Se=4):Se=r===My?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ji=r,ie===null&&(Qe=1,Dh(s,ri(r,s.current)))}function fv(){var s=$.H;return $.H=wh,s===null?wh:s}function dv(){var s=$.A;return $.A=yS,s}function Pm(){Qe=4,Ca||(ce&4194048)!==ce&&ls.current!==null||(Bl=!0),(Ra&134217727)===0&&(Uo&134217727)===0||Be===null||Ia(Be,ce,us,!1)}function Lm(s,r,u){var f=xe;xe|=2;var _=fv(),v=dv();(Be!==s||ce!==r)&&(Vh=null,Fl(s,r)),r=!1;var C=Qe;t:do try{if(Se!==0&&ie!==null){var D=ie,q=ji;switch(Se){case 8:Om(),C=6;break t;case 3:case 2:case 9:case 6:ls.current===null&&(r=!0);var et=Se;if(Se=0,ji=null,ql(s,D,q,et),u&&Bl){C=0;break t}break;default:et=Se,Se=0,ji=null,ql(s,D,q,et)}}TS(),C=Qe;break}catch(ct){hv(s,ct)}while(!0);return r&&s.shellSuspendCounter++,Rs=os=null,xe=f,$.H=_,$.A=v,ie===null&&(Be=null,ce=0,Mo()),C}function TS(){for(;ie!==null;)mv(ie)}function ES(s,r){var u=xe;xe|=2;var f=fv(),_=dv();Be!==s||ce!==r?(Vh=null,Nh=En()+500,Fl(s,r)):Bl=Si(s,r);t:do try{if(Se!==0&&ie!==null){r=ie;var v=ji;e:switch(Se){case 1:Se=0,ji=null,ql(s,r,v,1);break;case 2:case 9:if(A_(v)){Se=0,ji=null,gv(r);break}r=function(){Se!==2&&Se!==9||Be!==s||(Se=7),Js(s)},v.then(r,r);break t;case 3:Se=7;break t;case 4:Se=5;break t;case 7:A_(v)?(Se=0,ji=null,gv(r)):(Se=0,ji=null,ql(s,r,v,7));break;case 5:var C=null;switch(ie.tag){case 26:C=ie.memoizedState;case 5:case 27:var D=ie;if(!C||Wv(C)){Se=0,ji=null;var q=D.sibling;if(q!==null)ie=q;else{var et=D.return;et!==null?(ie=et,Bh(et)):ie=null}break e}}Se=0,ji=null,ql(s,r,v,5);break;case 6:Se=0,ji=null,ql(s,r,v,6);break;case 8:Om(),Qe=6;break t;default:throw Error(i(462))}}xS();break}catch(ct){hv(s,ct)}while(!0);return Rs=os=null,$.H=f,$.A=_,xe=u,ie!==null?0:(Be=null,ce=0,Mo(),Qe)}function xS(){for(;ie!==null&&!an();)mv(ie)}function mv(s){var r=Uy(s.alternate,s,kr);s.memoizedProps=s.pendingProps,r===null?Bh(s):ie=r}function gv(s){var r=s,u=r.alternate;switch(r.tag){case 15:case 0:r=ky(u,r,r.pendingProps,r.type,void 0,ce);break;case 11:r=ky(u,r,r.pendingProps,r.type.render,r.ref,ce);break;case 5:Xd(r);default:Fy(u,r),r=ie=Ru(r,kr),r=Uy(u,r,kr)}s.memoizedProps=s.pendingProps,r===null?Bh(s):ie=r}function ql(s,r,u,f){Rs=os=null,Xd(r),kl=null,Uu=0;var _=r.return;try{if(fS(s,_,r,u,ce)){Qe=1,Dh(s,ri(u,s.current)),ie=null;return}}catch(v){if(_!==null)throw ie=_,v;Qe=1,Dh(s,ri(u,s.current)),ie=null;return}r.flags&32768?(Zt||f===1?s=!0:Bl||(ce&536870912)!==0?s=!1:(Ca=s=!0,(f===2||f===9||f===3||f===6)&&(f=ls.current,f!==null&&f.tag===13&&(f.flags|=16384))),pv(r,s)):Bh(r)}function Bh(s){var r=s;do{if((r.flags&32768)!==0){pv(r,Ca);return}s=r.return;var u=mS(r.alternate,r,kr);if(u!==null){ie=u;return}if(r=r.sibling,r!==null){ie=r;return}ie=r=s}while(r!==null);Qe===0&&(Qe=5)}function pv(s,r){do{var u=gS(s.alternate,s);if(u!==null){u.flags&=32767,ie=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!r&&(s=s.sibling,s!==null)){ie=s;return}ie=s=u}while(s!==null);Qe=6,ie=null}function _v(s,r,u,f,_,v,C,D,q){s.cancelPendingCommit=null;do jh();while(zn!==0);if((xe&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(v=r.lanes|r.childLanes,v|=Vi,fo(s,u,v,C,D,q),s===Be&&(ie=Be=null,ce=0),Ul=r,Da=s,Hl=u,Mm=v,Dm=_,ov=f,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,CS(ms,function(){return Ev(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||f){f=$.T,$.T=null,_=_t.p,_t.p=2,C=xe,xe|=4;try{pS(s,r,u)}finally{xe=C,_t.p=_,$.T=f}}zn=1,yv(),vv(),bv()}}function yv(){if(zn===1){zn=0;var s=Da,r=Ul,u=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var f=_t.p;_t.p=2;var _=xe;xe|=4;try{tv(r,s);var v=Gm,C=Ao(s.containerInfo),D=v.focusedElem,q=v.selectionRange;if(C!==D&&D&&D.ownerDocument&&Tl(D.ownerDocument.documentElement,D)){if(q!==null&&Co(D)){var et=q.start,ct=q.end;if(ct===void 0&&(ct=et),"selectionStart"in D)D.selectionStart=et,D.selectionEnd=Math.min(ct,D.value.length);else{var gt=D.ownerDocument||document,it=gt&&gt.defaultView||window;if(it.getSelection){var rt=it.getSelection(),qt=D.textContent.length,Bt=Math.min(q.start,qt),Me=q.end===void 0?Bt:Math.min(q.end,qt);!rt.extend&&Bt>Me&&(C=Me,Me=Bt,Bt=C);var X=Au(D,Bt),Y=Au(D,Me);if(X&&Y&&(rt.rangeCount!==1||rt.anchorNode!==X.node||rt.anchorOffset!==X.offset||rt.focusNode!==Y.node||rt.focusOffset!==Y.offset)){var J=gt.createRange();J.setStart(X.node,X.offset),rt.removeAllRanges(),Bt>Me?(rt.addRange(J),rt.extend(Y.node,Y.offset)):(J.setEnd(Y.node,Y.offset),rt.addRange(J))}}}}for(gt=[],rt=D;rt=rt.parentNode;)rt.nodeType===1&&gt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<gt.length;D++){var ft=gt[D];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}$h=!!Zm,Gm=Zm=null}finally{xe=_,_t.p=f,$.T=u}}s.current=r,zn=2}}function vv(){if(zn===2){zn=0;var s=Da,r=Ul,u=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var f=_t.p;_t.p=2;var _=xe;xe|=4;try{Wy(s,r.alternate,r)}finally{xe=_,_t.p=f,$.T=u}}zn=3}}function bv(){if(zn===4||zn===3){zn=0,ui();var s=Da,r=Ul,u=Hl,f=ov;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zn=5:(zn=0,Ul=Da=null,Tv(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(Ma=null),Kr(u),r=r.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(Le,r,void 0,(r.current.flags&128)===128)}catch{}if(f!==null){r=$.T,_=_t.p,_t.p=2,$.T=null;try{for(var v=s.onRecoverableError,C=0;C<f.length;C++){var D=f[C];v(D.value,{componentStack:D.stack})}}finally{$.T=r,_t.p=_}}(Hl&3)!==0&&jh(),Js(s),_=s.pendingLanes,(u&4194090)!==0&&(_&42)!==0?s===Im?Wu++:(Wu=0,Im=s):Wu=0,Qu(0)}}function Tv(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Du(r)))}function jh(s){return yv(),vv(),bv(),Ev()}function Ev(){if(zn!==5)return!1;var s=Da,r=Mm;Mm=0;var u=Kr(Hl),f=$.T,_=_t.p;try{_t.p=32>u?32:u,$.T=null,u=Dm,Dm=null;var v=Da,C=Hl;if(zn=0,Ul=Da=null,Hl=0,(xe&6)!==0)throw Error(i(331));var D=xe;if(xe|=4,rv(v.current),nv(v,v.current,C,u),xe=D,Qu(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(Le,v)}catch{}return!0}finally{_t.p=_,$.T=f,Tv(s,r)}}function xv(s,r,u){r=ri(u,r),r=um(s.stateNode,r,2),s=ba(s,r,2),s!==null&&(Yi(s,2),Js(s))}function Oe(s,r,u){if(s.tag===3)xv(s,s,u);else for(;r!==null;){if(r.tag===3){xv(r,s,u);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ma===null||!Ma.has(f))){s=ri(u,s),u=Cy(2),f=ba(r,u,2),f!==null&&(Ry(u,f,r,s),Yi(f,2),Js(f));break}}r=r.return}}function km(s,r,u){var f=s.pingCache;if(f===null){f=s.pingCache=new vS;var _=new Set;f.set(r,_)}else _=f.get(r),_===void 0&&(_=new Set,f.set(r,_));_.has(u)||(wm=!0,_.add(u),s=SS.bind(null,s,r,u),r.then(s,s))}function SS(s,r,u){var f=s.pingCache;f!==null&&f.delete(r),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Be===s&&(ce&u)===u&&(Qe===4||Qe===3&&(ce&62914560)===ce&&300>En()-Rm?(xe&2)===0&&Fl(s,0):Am|=u,jl===ce&&(jl=0)),Js(s)}function Sv(s,r){r===0&&(r=Yr()),s=ma(s,r),s!==null&&(Yi(s,r),Js(s))}function wS(s){var r=s.memoizedState,u=0;r!==null&&(u=r.retryLane),Sv(s,u)}function AS(s,r){var u=0;switch(s.tag){case 13:var f=s.stateNode,_=s.memoizedState;_!==null&&(u=_.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(r),Sv(s,u)}function CS(s,r){return Te(s,r)}var Uh=null,Zl=null,Nm=!1,Hh=!1,Vm=!1,Ho=0;function Js(s){s!==Zl&&s.next===null&&(Zl===null?Uh=Zl=s:Zl=Zl.next=s),Hh=!0,Nm||(Nm=!0,MS())}function Qu(s,r){if(!Vm&&Hh){Vm=!0;do for(var u=!1,f=Uh;f!==null;){if(s!==0){var _=f.pendingLanes;if(_===0)var v=0;else{var C=f.suspendedLanes,D=f.pingedLanes;v=(1<<31-xn(42|s)+1)-1,v&=_&~(C&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,Rv(f,v))}else v=ce,v=Gr(f,f===Be?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||Si(f,v)||(u=!0,Rv(f,v));f=f.next}while(u);Vm=!1}}function RS(){wv()}function wv(){Hh=Nm=!1;var s=0;Ho!==0&&(VS()&&(s=Ho),Ho=0);for(var r=En(),u=null,f=Uh;f!==null;){var _=f.next,v=Av(f,r);v===0?(f.next=null,u===null?Uh=_:u.next=_,_===null&&(Zl=u)):(u=f,(s!==0||(v&3)!==0)&&(Hh=!0)),f=_}Qu(s)}function Av(s,r){for(var u=s.suspendedLanes,f=s.pingedLanes,_=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var C=31-xn(v),D=1<<C,q=_[C];q===-1?((D&u)===0||(D&f)!==0)&&(_[C]=co(D,r)):q<=r&&(s.expiredLanes|=D),v&=~D}if(r=Be,u=ce,u=Gr(s,s===r?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,u===0||s===r&&(Se===2||Se===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&dn(f),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Si(s,u)){if(r=u&-u,r===s.callbackPriority)return r;switch(f!==null&&dn(f),Kr(u)){case 2:case 8:u=hr;break;case 32:u=ms;break;case 268435456:u=fr;break;default:u=ms}return f=Cv.bind(null,s),u=Te(u,f),s.callbackPriority=r,s.callbackNode=u,r}return f!==null&&f!==null&&dn(f),s.callbackPriority=2,s.callbackNode=null,2}function Cv(s,r){if(zn!==0&&zn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(jh()&&s.callbackNode!==u)return null;var f=ce;return f=Gr(s,s===Be?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(uv(s,f,r),Av(s,En()),s.callbackNode!=null&&s.callbackNode===u?Cv.bind(null,s):null)}function Rv(s,r){if(jh())return null;uv(s,r,!0)}function MS(){BS(function(){(xe&6)!==0?Te(oo,RS):wv()})}function zm(){return Ho===0&&(Ho=ho()),Ho}function Mv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Fs(""+s)}function Dv(s,r){var u=r.ownerDocument.createElement("input");return u.name=r.name,u.value=r.value,s.id&&u.setAttribute("form",s.id),r.parentNode.insertBefore(u,r),s=new FormData(s),u.parentNode.removeChild(u),s}function DS(s,r,u,f,_){if(r==="submit"&&u&&u.stateNode===_){var v=Mv((_[Xe]||null).action),C=f.submitter;C&&(r=(r=C[Xe]||null)?Mv(r.formAction):C.getAttribute("formAction"),r!==null&&(v=r,C=null));var D=new vr("action","action",null,f,_);s.push({event:D,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ho!==0){var q=C?Dv(_,C):new FormData(_);sm(u,{pending:!0,data:q,method:_.method,action:v},null,q)}}else typeof v=="function"&&(D.preventDefault(),q=C?Dv(_,C):new FormData(_),sm(u,{pending:!0,data:q,method:_.method,action:v},v,q))},currentTarget:_}]})}}for(var Bm=0;Bm<Sr.length;Bm++){var jm=Sr[Bm],IS=jm.toLowerCase(),OS=jm[0].toUpperCase()+jm.slice(1);Ni(IS,"on"+OS)}Ni(ah,"onAnimationEnd"),Ni(ki,"onAnimationIteration"),Ni(Ro,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(Pd,"onTransitionRun"),Ni(wl,"onTransitionStart"),Ni(Ld,"onTransitionCancel"),Ni(Cu,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($u));function Iv(s,r){r=(r&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],_=f.event;f=f.listeners;t:{var v=void 0;if(r)for(var C=f.length-1;0<=C;C--){var D=f[C],q=D.instance,et=D.currentTarget;if(D=D.listener,q!==v&&_.isPropagationStopped())break t;v=D,_.currentTarget=et;try{v(_)}catch(ct){Mh(ct)}_.currentTarget=null,v=q}else for(C=0;C<f.length;C++){if(D=f[C],q=D.instance,et=D.currentTarget,D=D.listener,q!==v&&_.isPropagationStopped())break t;v=D,_.currentTarget=et;try{v(_)}catch(ct){Mh(ct)}_.currentTarget=null,v=q}}}}function se(s,r){var u=r[qn];u===void 0&&(u=r[qn]=new Set);var f=s+"__bubble";u.has(f)||(Ov(r,s,2,!1),u.add(f))}function Um(s,r,u){var f=0;r&&(f|=4),Ov(u,s,f,r)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function Hm(s){if(!s[Fh]){s[Fh]=!0,po.forEach(function(u){u!=="selectionchange"&&(PS.has(u)||Um(u,!1,s),Um(u,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Fh]||(r[Fh]=!0,Um("selectionchange",!1,r))}}function Ov(s,r,u,f){switch(n0(r)){case 2:var _=aw;break;case 8:_=ow;break;default:_=ng}u=_.bind(null,r,u,s),_=void 0,!Zn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(_=!0),f?_!==void 0?s.addEventListener(r,u,{capture:!0,passive:_}):s.addEventListener(r,u,!0):_!==void 0?s.addEventListener(r,u,{passive:_}):s.addEventListener(r,u,!1)}function Fm(s,r,u,f,_){var v=f;if((r&1)===0&&(r&2)===0&&f!==null)t:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var D=f.stateNode.containerInfo;if(D===_)break;if(C===4)for(C=f.return;C!==null;){var q=C.tag;if((q===3||q===4)&&C.stateNode.containerInfo===_)return;C=C.return}for(;D!==null;){if(C=wi(D),C===null)return;if(q=C.tag,q===5||q===6||q===26||q===27){f=v=C;continue t}D=D.parentNode}}f=f.return}ni(function(){var et=v,ct=Nn(u),gt=[];t:{var it=oh.get(s);if(it!==void 0){var rt=vr,qt=s;switch(s){case"keypress":if(Ae(u)===0)break t;case"keydown":case"keyup":rt=ra;break;case"focusin":qt="focus",rt=ta;break;case"focusout":qt="blur",rt=ta;break;case"beforeblur":case"afterblur":rt=ta;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=_l;break;case ah:case ki:case Ro:rt=na;break;case Cu:rt=yl;break;case"scroll":case"scrollend":rt=gl;break;case"wheel":rt=Er;break;case"copy":case"cut":case"paste":rt=qs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=aa;break;case"toggle":case"beforetoggle":rt=ns}var Bt=(r&4)!==0,Me=!Bt&&(s==="scroll"||s==="scrollend"),X=Bt?it!==null?it+"Capture":null:it;Bt=[];for(var Y=et,J;Y!==null;){var ft=Y;if(J=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||J===null||X===null||(ft=ue(Y,X),ft!=null&&Bt.push(Ju(Y,ft,J))),Me)break;Y=Y.return}0<Bt.length&&(it=new rt(it,qt,null,u,ct),gt.push({event:it,listeners:Bt}))}}if((r&7)===0){t:{if(it=s==="mouseover"||s==="pointerover",rt=s==="mouseout"||s==="pointerout",it&&u!==Di&&(qt=u.relatedTarget||u.fromElement)&&(wi(qt)||qt[hi]))break t;if((rt||it)&&(it=ct.window===ct?ct:(it=ct.ownerDocument)?it.defaultView||it.parentWindow:window,rt?(qt=u.relatedTarget||u.toElement,rt=et,qt=qt?wi(qt):null,qt!==null&&(Me=l(qt),Bt=qt.tag,qt!==Me||Bt!==5&&Bt!==27&&Bt!==6)&&(qt=null)):(rt=null,qt=et),rt!==qt)){if(Bt=Cn,ft="onMouseLeave",X="onMouseEnter",Y="mouse",(s==="pointerout"||s==="pointerover")&&(Bt=aa,ft="onPointerLeave",X="onPointerEnter",Y="pointer"),Me=rt==null?it:Ln(rt),J=qt==null?it:Ln(qt),it=new Bt(ft,Y+"leave",rt,u,ct),it.target=Me,it.relatedTarget=J,ft=null,wi(ct)===et&&(Bt=new Bt(X,Y+"enter",qt,u,ct),Bt.target=J,Bt.relatedTarget=Me,ft=Bt),Me=ft,rt&&qt)e:{for(Bt=rt,X=qt,Y=0,J=Bt;J;J=Gl(J))Y++;for(J=0,ft=X;ft;ft=Gl(ft))J++;for(;0<Y-J;)Bt=Gl(Bt),Y--;for(;0<J-Y;)X=Gl(X),J--;for(;Y--;){if(Bt===X||X!==null&&Bt===X.alternate)break e;Bt=Gl(Bt),X=Gl(X)}Bt=null}else Bt=null;rt!==null&&Pv(gt,it,rt,Bt,!1),qt!==null&&Me!==null&&Pv(gt,Me,qt,Bt,!0)}}t:{if(it=et?Ln(et):window,rt=it.nodeName&&it.nodeName.toLowerCase(),rt==="select"||rt==="input"&&it.type==="file")var Rt=la;else if(Ve(it))if(xu)Rt=Od;else{Rt=Id;var ee=wu}else rt=it.nodeName,!rt||rt.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?et&&yr(et.elementType)&&(Rt=la):Rt=Cs;if(Rt&&(Rt=Rt(s,et))){ws(gt,Rt,u,ct);break t}ee&&ee(s,it,et),s==="focusout"&&et&&it.type==="number"&&et.memoizedProps.value!=null&&Ri(it,"number",it.value)}switch(ee=et?Ln(et):window,s){case"focusin":(Ve(ee)||ee.contentEditable==="true")&&(Li=ee,ha=et,xr=null);break;case"focusout":xr=ha=Li=null;break;case"mousedown":xl=!0;break;case"contextmenu":case"mouseup":case"dragend":xl=!1,sh(gt,u,ct);break;case"selectionchange":if(El)break;case"keydown":case"keyup":sh(gt,u,ct)}var Lt;if(Kn)t:{switch(s){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else ae?ot(s,u)&&(jt="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(jt="onCompositionStart");jt&&(A&&u.locale!=="ko"&&(ae||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&ae&&(Lt=Ts()):(di=ct,Gn="value"in di?di.value:di.textContent,ae=!0)),ee=qh(et,jt),0<ee.length&&(jt=new Yn(jt,s,null,u,ct),gt.push({event:jt,listeners:ee}),Lt?jt.data=Lt:(Lt=Et(u),Lt!==null&&(jt.data=Lt)))),(Lt=E?We(s,u):oe(s,u))&&(jt=qh(et,"onBeforeInput"),0<jt.length&&(ee=new Yn("onBeforeInput","beforeinput",null,u,ct),gt.push({event:ee,listeners:jt}),ee.data=Lt)),DS(gt,s,et,u,ct)}Iv(gt,r)})}function Ju(s,r,u){return{instance:s,listener:r,currentTarget:u}}function qh(s,r){for(var u=r+"Capture",f=[];s!==null;){var _=s,v=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||v===null||(_=ue(s,u),_!=null&&f.unshift(Ju(s,_,v)),_=ue(s,r),_!=null&&f.push(Ju(s,_,v))),s.tag===3)return f;s=s.return}return[]}function Gl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Pv(s,r,u,f,_){for(var v=r._reactName,C=[];u!==null&&u!==f;){var D=u,q=D.alternate,et=D.stateNode;if(D=D.tag,q!==null&&q===f)break;D!==5&&D!==26&&D!==27||et===null||(q=et,_?(et=ue(u,v),et!=null&&C.unshift(Ju(u,et,q))):_||(et=ue(u,v),et!=null&&C.push(Ju(u,et,q)))),u=u.return}C.length!==0&&s.push({event:r,listeners:C})}var LS=/\r\n?/g,kS=/\u0000|\uFFFD/g;function Lv(s){return(typeof s=="string"?s:""+s).replace(LS,`
`).replace(kS,"")}function kv(s,r){return r=Lv(r),Lv(s)===r}function Zh(){}function Re(s,r,u,f,_,v){switch(u){case"children":typeof f=="string"?r==="body"||r==="textarea"&&f===""||wn(s,f):(typeof f=="number"||typeof f=="bigint")&&r!=="body"&&wn(s,""+f);break;case"className":Wi(s,"class",f);break;case"tabIndex":Wi(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Wi(s,u,f);break;case"style":vs(s,f,v);break;case"data":if(r!=="object"){Wi(s,"data",f);break}case"src":case"href":if(f===""&&(r!=="a"||u!=="href")){s.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Fs(""+f),s.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(r!=="input"&&Re(s,r,"name",_.name,_,null),Re(s,r,"formEncType",_.formEncType,_,null),Re(s,r,"formMethod",_.formMethod,_,null),Re(s,r,"formTarget",_.formTarget,_,null)):(Re(s,r,"encType",_.encType,_,null),Re(s,r,"method",_.method,_,null),Re(s,r,"target",_.target,_,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Fs(""+f),s.setAttribute(u,f);break;case"onClick":f!=null&&(s.onclick=Zh);break;case"onScroll":f!=null&&se("scroll",s);break;case"onScrollEnd":f!=null&&se("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}u=Fs(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""+f):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":f===!0?s.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,f):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(u,f):s.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(u):s.setAttribute(u,f);break;case"popover":se("beforetoggle",s),se("toggle",s),Bs(s,"popover",f);break;case"xlinkActuate":mn(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":mn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":mn(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":mn(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":mn(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":mn(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":mn(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":mn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":mn(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Bs(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=yo.get(u)||u,Bs(s,u,f))}}function qm(s,r,u,f,_,v){switch(u){case"style":vs(s,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"children":typeof f=="string"?wn(s,f):(typeof f=="number"||typeof f=="bigint")&&wn(s,""+f);break;case"onScroll":f!=null&&se("scroll",s);break;case"onScrollEnd":f!=null&&se("scrollend",s);break;case"onClick":f!=null&&(s.onclick=Zh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),r=u.slice(2,_?u.length-7:void 0),v=s[Xe]||null,v=v!=null?v[u]:null,typeof v=="function"&&s.removeEventListener(r,v,_),typeof f=="function")){typeof v!="function"&&v!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(r,f,_);break t}u in s?s[u]=f:f===!0?s.setAttribute(u,""):Bs(s,u,f)}}}function Bn(s,r,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",s),se("load",s);var f=!1,_=!1,v;for(v in u)if(u.hasOwnProperty(v)){var C=u[v];if(C!=null)switch(v){case"src":f=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Re(s,r,v,C,u,null)}}_&&Re(s,r,"srcSet",u.srcSet,u,null),f&&Re(s,r,"src",u.src,u,null);return;case"input":se("invalid",s);var D=v=C=_=null,q=null,et=null;for(f in u)if(u.hasOwnProperty(f)){var ct=u[f];if(ct!=null)switch(f){case"name":_=ct;break;case"type":C=ct;break;case"checked":q=ct;break;case"defaultChecked":et=ct;break;case"value":v=ct;break;case"defaultValue":D=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(i(137,r));break;default:Re(s,r,f,ct,u,null)}}_r(s,v,D,q,et,C,_,!1),Hs(s);return;case"select":se("invalid",s),f=C=v=null;for(_ in u)if(u.hasOwnProperty(_)&&(D=u[_],D!=null))switch(_){case"value":v=D;break;case"defaultValue":C=D;break;case"multiple":f=D;default:Re(s,r,_,D,u,null)}r=v,u=C,s.multiple=!!f,r!=null?kn(s,!!f,r,!1):u!=null&&kn(s,!!f,u,!0);return;case"textarea":se("invalid",s),v=_=f=null;for(C in u)if(u.hasOwnProperty(C)&&(D=u[C],D!=null))switch(C){case"value":f=D;break;case"defaultValue":_=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:Re(s,r,C,D,u,null)}ei(s,f,_,v),Hs(s);return;case"option":for(q in u)if(u.hasOwnProperty(q)&&(f=u[q],f!=null))switch(q){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Re(s,r,q,f,u,null)}return;case"dialog":se("beforetoggle",s),se("toggle",s),se("cancel",s),se("close",s);break;case"iframe":case"object":se("load",s);break;case"video":case"audio":for(f=0;f<$u.length;f++)se($u[f],s);break;case"image":se("error",s),se("load",s);break;case"details":se("toggle",s);break;case"embed":case"source":case"link":se("error",s),se("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in u)if(u.hasOwnProperty(et)&&(f=u[et],f!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Re(s,r,et,f,u,null)}return;default:if(yr(r)){for(ct in u)u.hasOwnProperty(ct)&&(f=u[ct],f!==void 0&&qm(s,r,ct,f,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(f=u[D],f!=null&&Re(s,r,D,f,u,null))}function NS(s,r,u,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,v=null,C=null,D=null,q=null,et=null,ct=null;for(rt in u){var gt=u[rt];if(u.hasOwnProperty(rt)&&gt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":q=gt;default:f.hasOwnProperty(rt)||Re(s,r,rt,null,f,gt)}}for(var it in f){var rt=f[it];if(gt=u[it],f.hasOwnProperty(it)&&(rt!=null||gt!=null))switch(it){case"type":v=rt;break;case"name":_=rt;break;case"checked":et=rt;break;case"defaultChecked":ct=rt;break;case"value":C=rt;break;case"defaultValue":D=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,r));break;default:rt!==gt&&Re(s,r,it,rt,f,gt)}}Ne(s,C,D,q,et,ct,v,_);return;case"select":rt=C=D=it=null;for(v in u)if(q=u[v],u.hasOwnProperty(v)&&q!=null)switch(v){case"value":break;case"multiple":rt=q;default:f.hasOwnProperty(v)||Re(s,r,v,null,f,q)}for(_ in f)if(v=f[_],q=u[_],f.hasOwnProperty(_)&&(v!=null||q!=null))switch(_){case"value":it=v;break;case"defaultValue":D=v;break;case"multiple":C=v;default:v!==q&&Re(s,r,_,v,f,q)}r=D,u=C,f=rt,it!=null?kn(s,!!u,it,!1):!!f!=!!u&&(r!=null?kn(s,!!u,r,!0):kn(s,!!u,u?[]:"",!1));return;case"textarea":rt=it=null;for(D in u)if(_=u[D],u.hasOwnProperty(D)&&_!=null&&!f.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Re(s,r,D,null,f,_)}for(C in f)if(_=f[C],v=u[C],f.hasOwnProperty(C)&&(_!=null||v!=null))switch(C){case"value":it=_;break;case"defaultValue":rt=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==v&&Re(s,r,C,_,f,v)}Ht(s,it,rt);return;case"option":for(var qt in u)if(it=u[qt],u.hasOwnProperty(qt)&&it!=null&&!f.hasOwnProperty(qt))switch(qt){case"selected":s.selected=!1;break;default:Re(s,r,qt,null,f,it)}for(q in f)if(it=f[q],rt=u[q],f.hasOwnProperty(q)&&it!==rt&&(it!=null||rt!=null))switch(q){case"selected":s.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:Re(s,r,q,it,f,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in u)it=u[Bt],u.hasOwnProperty(Bt)&&it!=null&&!f.hasOwnProperty(Bt)&&Re(s,r,Bt,null,f,it);for(et in f)if(it=f[et],rt=u[et],f.hasOwnProperty(et)&&it!==rt&&(it!=null||rt!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,r));break;default:Re(s,r,et,it,f,rt)}return;default:if(yr(r)){for(var Me in u)it=u[Me],u.hasOwnProperty(Me)&&it!==void 0&&!f.hasOwnProperty(Me)&&qm(s,r,Me,void 0,f,it);for(ct in f)it=f[ct],rt=u[ct],!f.hasOwnProperty(ct)||it===rt||it===void 0&&rt===void 0||qm(s,r,ct,it,f,rt);return}}for(var X in u)it=u[X],u.hasOwnProperty(X)&&it!=null&&!f.hasOwnProperty(X)&&Re(s,r,X,null,f,it);for(gt in f)it=f[gt],rt=u[gt],!f.hasOwnProperty(gt)||it===rt||it==null&&rt==null||Re(s,r,gt,it,f,rt)}var Zm=null,Gm=null;function Gh(s){return s.nodeType===9?s:s.ownerDocument}function Nv(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vv(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Ym(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Km=null;function VS(){var s=window.event;return s&&s.type==="popstate"?s===Km?!1:(Km=s,!0):(Km=null,!1)}var zv=typeof setTimeout=="function"?setTimeout:void 0,zS=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,BS=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(s){return Bv.resolve(null).then(s).catch(jS)}:zv;function jS(s){setTimeout(function(){throw s})}function Oa(s){return s==="head"}function jv(s,r){var u=r,f=0,_=0;do{var v=u.nextSibling;if(s.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<f&&8>f){u=f;var C=s.ownerDocument;if(u&1&&tc(C.documentElement),u&2&&tc(C.body),u&4)for(u=C.head,tc(u),C=u.firstChild;C;){var D=C.nextSibling,q=C.nodeName;C[zs]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&C.rel.toLowerCase()==="stylesheet"||u.removeChild(C),C=D}}if(_===0){s.removeChild(v),lc(r);return}_--}else u==="$"||u==="$?"||u==="$!"?_++:f=u.charCodeAt(0)-48;else f=0;u=v}while(u);lc(r)}function Xm(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var u=r;switch(r=r.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Xm(u),_s(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function US(s,r,u,f){for(;s.nodeType===1;){var _=u;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[zs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var v=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=Is(s.nextSibling),s===null)break}return null}function HS(s,r,u){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Is(s.nextSibling),s===null))return null;return s}function Wm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function FS(s,r){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")r();else{var f=function(){r(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Is(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var Qm=null;function Uv(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(r===0)return s;r--}else u==="/$"&&r++}s=s.previousSibling}return null}function Hv(s,r,u){switch(r=Gh(u),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function tc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);_s(s)}var cs=new Map,Fv=new Set;function Yh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Nr=_t.d;_t.d={f:qS,r:ZS,D:GS,C:YS,L:KS,m:XS,X:QS,S:WS,M:$S};function qS(){var s=Nr.f(),r=zh();return s||r}function ZS(s){var r=Ai(s);r!==null&&r.tag===5&&r.type==="form"?uy(r):Nr.r(s)}var Yl=typeof document>"u"?null:document;function qv(s,r,u){var f=Yl;if(f&&typeof r=="string"&&r){var _=je(r);_='link[rel="'+s+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),Fv.has(_)||(Fv.add(_),s={rel:s,crossOrigin:u,href:r},f.querySelector(_)===null&&(r=f.createElement("link"),Bn(r,"link",s),Ze(r),f.head.appendChild(r)))}}function GS(s){Nr.D(s),qv("dns-prefetch",s,null)}function YS(s,r){Nr.C(s,r),qv("preconnect",s,r)}function KS(s,r,u){Nr.L(s,r,u);var f=Yl;if(f&&s&&r){var _='link[rel="preload"][as="'+je(r)+'"]';r==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+je(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+je(u.imageSizes)+'"]')):_+='[href="'+je(s)+'"]';var v=_;switch(r){case"style":v=Kl(s);break;case"script":v=Xl(s)}cs.has(v)||(s=T({rel:"preload",href:r==="image"&&u&&u.imageSrcSet?void 0:s,as:r},u),cs.set(v,s),f.querySelector(_)!==null||r==="style"&&f.querySelector(ec(v))||r==="script"&&f.querySelector(nc(v))||(r=f.createElement("link"),Bn(r,"link",s),Ze(r),f.head.appendChild(r)))}}function XS(s,r){Nr.m(s,r);var u=Yl;if(u&&s){var f=r&&typeof r.as=="string"?r.as:"script",_='link[rel="modulepreload"][as="'+je(f)+'"][href="'+je(s)+'"]',v=_;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Xl(s)}if(!cs.has(v)&&(s=T({rel:"modulepreload",href:s},r),cs.set(v,s),u.querySelector(_)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(nc(v)))return}f=u.createElement("link"),Bn(f,"link",s),Ze(f),u.head.appendChild(f)}}}function WS(s,r,u){Nr.S(s,r,u);var f=Yl;if(f&&s){var _=Sn(f).hoistableStyles,v=Kl(s);r=r||"default";var C=_.get(v);if(!C){var D={loading:0,preload:null};if(C=f.querySelector(ec(v)))D.loading=5;else{s=T({rel:"stylesheet",href:s,"data-precedence":r},u),(u=cs.get(v))&&$m(s,u);var q=C=f.createElement("link");Ze(q),Bn(q,"link",s),q._p=new Promise(function(et,ct){q.onload=et,q.onerror=ct}),q.addEventListener("load",function(){D.loading|=1}),q.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Kh(C,r,f)}C={type:"stylesheet",instance:C,count:1,state:D},_.set(v,C)}}}function QS(s,r){Nr.X(s,r);var u=Yl;if(u&&s){var f=Sn(u).hoistableScripts,_=Xl(s),v=f.get(_);v||(v=u.querySelector(nc(_)),v||(s=T({src:s,async:!0},r),(r=cs.get(_))&&Jm(s,r),v=u.createElement("script"),Ze(v),Bn(v,"link",s),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(_,v))}}function $S(s,r){Nr.M(s,r);var u=Yl;if(u&&s){var f=Sn(u).hoistableScripts,_=Xl(s),v=f.get(_);v||(v=u.querySelector(nc(_)),v||(s=T({src:s,async:!0,type:"module"},r),(r=cs.get(_))&&Jm(s,r),v=u.createElement("script"),Ze(v),Bn(v,"link",s),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(_,v))}}function Zv(s,r,u,f){var _=(_=Tt.current)?Yh(_):null;if(!_)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(r=Kl(u.href),u=Sn(_).hoistableStyles,f=u.get(r),f||(f={type:"style",instance:null,count:0,state:null},u.set(r,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Kl(u.href);var v=Sn(_).hoistableStyles,C=v.get(s);if(C||(_=_.ownerDocument||_,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,C),(v=_.querySelector(ec(s)))&&!v._p&&(C.instance=v,C.state.loading=5),cs.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},cs.set(s,u),v||JS(_,s,u,C.state))),r&&f===null)throw Error(i(528,""));return C}if(r&&f!==null)throw Error(i(529,""));return null;case"script":return r=u.async,u=u.src,typeof u=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Xl(u),u=Sn(_).hoistableScripts,f=u.get(r),f||(f={type:"script",instance:null,count:0,state:null},u.set(r,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Kl(s){return'href="'+je(s)+'"'}function ec(s){return'link[rel="stylesheet"]['+s+"]"}function Gv(s){return T({},s,{"data-precedence":s.precedence,precedence:null})}function JS(s,r,u,f){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?f.loading=1:(r=s.createElement("link"),f.preload=r,r.addEventListener("load",function(){return f.loading|=1}),r.addEventListener("error",function(){return f.loading|=2}),Bn(r,"link",u),Ze(r),s.head.appendChild(r))}function Xl(s){return'[src="'+je(s)+'"]'}function nc(s){return"script[async]"+s}function Yv(s,r,u){if(r.count++,r.instance===null)switch(r.type){case"style":var f=s.querySelector('style[data-href~="'+je(u.href)+'"]');if(f)return r.instance=f,Ze(f),f;var _=T({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Ze(f),Bn(f,"style",_),Kh(f,u.precedence,s),r.instance=f;case"stylesheet":_=Kl(u.href);var v=s.querySelector(ec(_));if(v)return r.state.loading|=4,r.instance=v,Ze(v),v;f=Gv(u),(_=cs.get(_))&&$m(f,_),v=(s.ownerDocument||s).createElement("link"),Ze(v);var C=v;return C._p=new Promise(function(D,q){C.onload=D,C.onerror=q}),Bn(v,"link",f),r.state.loading|=4,Kh(v,u.precedence,s),r.instance=v;case"script":return v=Xl(u.src),(_=s.querySelector(nc(v)))?(r.instance=_,Ze(_),_):(f=u,(_=cs.get(v))&&(f=T({},u),Jm(f,_)),s=s.ownerDocument||s,_=s.createElement("script"),Ze(_),Bn(_,"link",f),s.head.appendChild(_),r.instance=_);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(f=r.instance,r.state.loading|=4,Kh(f,u.precedence,s));return r.instance}function Kh(s,r,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=f.length?f[f.length-1]:null,v=_,C=0;C<f.length;C++){var D=f[C];if(D.dataset.precedence===r)v=D;else if(v!==_)break}v?v.parentNode.insertBefore(s,v.nextSibling):(r=u.nodeType===9?u.head:u,r.insertBefore(s,r.firstChild))}function $m(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Jm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Xh=null;function Kv(s,r,u){if(Xh===null){var f=new Map,_=Xh=new Map;_.set(u,f)}else _=Xh,f=_.get(u),f||(f=new Map,_.set(u,f));if(f.has(s))return f;for(f.set(s,null),u=u.getElementsByTagName(s),_=0;_<u.length;_++){var v=u[_];if(!(v[zs]||v[Je]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(r)||"";C=s+C;var D=f.get(C);D?D.push(v):f.set(C,[v])}}return f}function Xv(s,r,u){s=s.ownerDocument||s,s.head.insertBefore(u,r==="title"?s.querySelector("head > title"):null)}function tw(s,r,u){if(u===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Wv(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var ic=null;function ew(){}function nw(s,r,u){if(ic===null)throw Error(i(475));var f=ic;if(r.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var _=Kl(u.href),v=s.querySelector(ec(_));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=Wh.bind(f),s.then(f,f)),r.state.loading|=4,r.instance=v,Ze(v);return}v=s.ownerDocument||s,u=Gv(u),(_=cs.get(_))&&$m(u,_),v=v.createElement("link"),Ze(v);var C=v;C._p=new Promise(function(D,q){C.onload=D,C.onerror=q}),Bn(v,"link",u),r.instance=v}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(f.count++,r=Wh.bind(f),s.addEventListener("load",r),s.addEventListener("error",r))}}function iw(){if(ic===null)throw Error(i(475));var s=ic;return s.stylesheets&&s.count===0&&tg(s,s.stylesheets),0<s.count?function(r){var u=setTimeout(function(){if(s.stylesheets&&tg(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Wh(){if(this.count--,this.count===0){if(this.stylesheets)tg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Qh=null;function tg(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Qh=new Map,r.forEach(sw,s),Qh=null,Wh.call(s))}function sw(s,r){if(!(r.state.loading&4)){var u=Qh.get(s);if(u)var f=u.get(null);else{u=new Map,Qh.set(s,u);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<_.length;v++){var C=_[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),f=C)}f&&u.set(null,f)}_=r.instance,C=_.getAttribute("data-precedence"),v=u.get(C)||f,v===f&&u.set(null,_),u.set(C,_),this.count++,f=Wh.bind(this),_.addEventListener("load",f),_.addEventListener("error",f),v?v.parentNode.insertBefore(_,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),r.state.loading|=4}}var sc={$$typeof:st,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function rw(s,r,u,f,_,v,C,D){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=f,this.onUncaughtError=_,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Qv(s,r,u,f,_,v,C,D,q,et,ct,gt){return s=new rw(s,r,u,C,D,q,et,gt),r=1,v===!0&&(r|=24),v=oi(3,null,null,r),s.current=v,v.stateNode=s,r=kd(),r.refCount++,s.pooledCache=r,r.refCount++,v.memoizedState={element:f,isDehydrated:u,cache:r},Bd(v),s}function $v(s){return s?(s=Cr,s):Cr}function Jv(s,r,u,f,_,v){_=$v(_),f.context===null?f.context=_:f.pendingContext=_,f=va(r),f.payload={element:u},v=v===void 0?null:v,v!==null&&(f.callback=v),u=ba(s,f,r),u!==null&&(Hi(u,s,r),Lu(u,s,r))}function t0(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<r?u:r}}function eg(s,r){t0(s,r),(s=s.alternate)&&t0(s,r)}function e0(s){if(s.tag===13){var r=ma(s,67108864);r!==null&&Hi(r,s,67108864),eg(s,67108864)}}var $h=!0;function aw(s,r,u,f){var _=$.T;$.T=null;var v=_t.p;try{_t.p=2,ng(s,r,u,f)}finally{_t.p=v,$.T=_}}function ow(s,r,u,f){var _=$.T;$.T=null;var v=_t.p;try{_t.p=8,ng(s,r,u,f)}finally{_t.p=v,$.T=_}}function ng(s,r,u,f){if($h){var _=ig(f);if(_===null)Fm(s,r,f,Jh,u),i0(s,f);else if(uw(_,s,r,u,f))f.stopPropagation();else if(i0(s,f),r&4&&-1<lw.indexOf(s)){for(;_!==null;){var v=Ai(_);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=ci(v.pendingLanes);if(C!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;C;){var q=1<<31-xn(C);D.entanglements[1]|=q,C&=~q}Js(v),(xe&6)===0&&(Nh=En()+500,Qu(0))}}break;case 13:D=ma(v,2),D!==null&&Hi(D,v,2),zh(),eg(v,2)}if(v=ig(f),v===null&&Fm(s,r,f,Jh,u),v===_)break;_=v}_!==null&&f.stopPropagation()}else Fm(s,r,f,null,u)}}function ig(s){return s=Nn(s),sg(s)}var Jh=null;function sg(s){if(Jh=null,s=wi(s),s!==null){var r=l(s);if(r===null)s=null;else{var u=r.tag;if(u===13){if(s=c(r),s!==null)return s;s=null}else if(u===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Jh=s,null}function n0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zi()){case oo:return 2;case hr:return 8;case ms:case cl:return 32;case fr:return 268435456;default:return 32}default:return 32}}var rg=!1,Pa=null,La=null,ka=null,rc=new Map,ac=new Map,Na=[],lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i0(s,r){switch(s){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":rc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(r.pointerId)}}function oc(s,r,u,f,_,v){return s===null||s.nativeEvent!==v?(s={blockedOn:r,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[_]},r!==null&&(r=Ai(r),r!==null&&e0(r)),s):(s.eventSystemFlags|=f,r=s.targetContainers,_!==null&&r.indexOf(_)===-1&&r.push(_),s)}function uw(s,r,u,f,_){switch(r){case"focusin":return Pa=oc(Pa,s,r,u,f,_),!0;case"dragenter":return La=oc(La,s,r,u,f,_),!0;case"mouseover":return ka=oc(ka,s,r,u,f,_),!0;case"pointerover":var v=_.pointerId;return rc.set(v,oc(rc.get(v)||null,s,r,u,f,_)),!0;case"gotpointercapture":return v=_.pointerId,ac.set(v,oc(ac.get(v)||null,s,r,u,f,_)),!0}return!1}function s0(s){var r=wi(s.target);if(r!==null){var u=l(r);if(u!==null){if(r=u.tag,r===13){if(r=c(u),r!==null){s.blockedOn=r,Xr(s.priority,function(){if(u.tag===13){var f=Ui();f=Ns(f);var _=ma(u,f);_!==null&&Hi(_,u,f),eg(u,f)}});return}}else if(r===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function tf(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var u=ig(s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);Di=f,u.target.dispatchEvent(f),Di=null}else return r=Ai(u),r!==null&&e0(r),s.blockedOn=u,!1;r.shift()}return!0}function r0(s,r,u){tf(s)&&u.delete(r)}function cw(){rg=!1,Pa!==null&&tf(Pa)&&(Pa=null),La!==null&&tf(La)&&(La=null),ka!==null&&tf(ka)&&(ka=null),rc.forEach(r0),ac.forEach(r0)}function ef(s,r){s.blockedOn===r&&(s.blockedOn=null,rg||(rg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,cw)))}var nf=null;function a0(s){nf!==s&&(nf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){nf===s&&(nf=null);for(var r=0;r<s.length;r+=3){var u=s[r],f=s[r+1],_=s[r+2];if(typeof f!="function"){if(sg(f||u)===null)continue;break}var v=Ai(u);v!==null&&(s.splice(r,3),r-=3,sm(v,{pending:!0,data:_,method:u.method,action:f},f,_))}}))}function lc(s){function r(q){return ef(q,s)}Pa!==null&&ef(Pa,s),La!==null&&ef(La,s),ka!==null&&ef(ka,s),rc.forEach(r),ac.forEach(r);for(var u=0;u<Na.length;u++){var f=Na[u];f.blockedOn===s&&(f.blockedOn=null)}for(;0<Na.length&&(u=Na[0],u.blockedOn===null);)s0(u),u.blockedOn===null&&Na.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var _=u[f],v=u[f+1],C=_[Xe]||null;if(typeof v=="function")C||a0(u);else if(C){var D=null;if(v&&v.hasAttribute("formAction")){if(_=v,C=v[Xe]||null)D=C.formAction;else if(sg(_)!==null)continue}else D=C.action;typeof D=="function"?u[f+1]=D:(u.splice(f,3),f-=3),a0(u)}}}function ag(s){this._internalRoot=s}sf.prototype.render=ag.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var u=r.current,f=Ui();Jv(u,f,s,r,null,null)},sf.prototype.unmount=ag.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Jv(s.current,2,null,s,null,null),zh(),r[hi]=null}};function sf(s){this._internalRoot=s}sf.prototype.unstable_scheduleHydration=function(s){if(s){var r=Vs();s={blockedOn:null,target:s,priority:r};for(var u=0;u<Na.length&&r!==0&&r<Na[u].priority;u++);Na.splice(u,0,s),u===0&&s0(s)}};var o0=t.version;if(o0!=="19.1.0")throw Error(i(527,o0,"19.1.0"));_t.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var hw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{Le=rf.inject(hw),me=rf}catch{}}return cc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var u=!1,f="",_=xy,v=Sy,C=wy,D=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(_=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(D=r.unstable_transitionCallbacks)),r=Qv(s,1,!1,null,null,u,f,_,v,C,D,null),s[hi]=r.current,Hm(s),new ag(r)},cc.hydrateRoot=function(s,r,u){if(!a(s))throw Error(i(299));var f=!1,_="",v=xy,C=Sy,D=wy,q=null,et=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(q=u.unstable_transitionCallbacks),u.formState!==void 0&&(et=u.formState)),r=Qv(s,1,!0,r,u??null,f,_,v,C,D,q,et),r.context=$v(null),u=r.current,f=Ui(),f=Ns(f),_=va(f),_.callback=null,ba(u,_,f),u=f,r.current.lanes=u,Yi(r,u),Js(r),s[hi]=r.current,Hm(s),new sf(r)},cc.version="19.1.0",cc}var _0;function Sw(){if(_0)return ug.exports;_0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),ug.exports=xw(),ug.exports}var ww=Sw();/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Qc(n){return n+.5|0}const ja=(n,t,e)=>Math.max(Math.min(n,e),t);function pc(n){return ja(Qc(n*2.55),0,255)}function Za(n){return ja(Qc(n*255),0,255)}function jr(n){return ja(Qc(n/2.55)/100,0,1)}function y0(n){return ja(Qc(n*100),0,100)}const hs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Vg=[..."0123456789ABCDEF"],Aw=n=>Vg[n&15],Cw=n=>Vg[(n&240)>>4]+Vg[n&15],af=n=>(n&240)>>4===(n&15),Rw=n=>af(n.r)&&af(n.g)&&af(n.b)&&af(n.a);function Mw(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&hs[n[1]]*17,g:255&hs[n[2]]*17,b:255&hs[n[3]]*17,a:t===5?hs[n[4]]*17:255}:(t===7||t===9)&&(e={r:hs[n[1]]<<4|hs[n[2]],g:hs[n[3]]<<4|hs[n[4]],b:hs[n[5]]<<4|hs[n[6]],a:t===9?hs[n[7]]<<4|hs[n[8]]:255})),e}const Dw=(n,t)=>n<255?t(n):"";function Iw(n){var t=Rw(n)?Aw:Cw;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Dw(n.a,t):void 0}const Ow=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $T(n,t,e){const i=t*Math.min(e,1-e),a=(l,c=(l+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function Pw(n,t,e){const i=(a,l=(a+n/60)%6)=>e-e*t*Math.max(Math.min(l,4-l,1),0);return[i(5),i(3),i(1)]}function Lw(n,t,e){const i=$T(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)i[a]*=1-t-e,i[a]+=t;return i}function kw(n,t,e,i,a){return n===a?(t-e)/i+(t<e?6:0):t===a?(e-n)/i+2:(n-t)/i+4}function yp(n){const e=n.r/255,i=n.g/255,a=n.b/255,l=Math.max(e,i,a),c=Math.min(e,i,a),d=(l+c)/2;let g,y,T;return l!==c&&(T=l-c,y=d>.5?T/(2-l-c):T/(l+c),g=kw(e,i,a,T,l),g=g*60+.5),[g|0,y||0,d]}function vp(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Za)}function bp(n,t,e){return vp($T,n,t,e)}function Nw(n,t,e){return vp(Lw,n,t,e)}function Vw(n,t,e){return vp(Pw,n,t,e)}function JT(n){return(n%360+360)%360}function zw(n){const t=Ow.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?pc(+t[5]):Za(+t[5]));const a=JT(+t[2]),l=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=Nw(a,l,c):t[1]==="hsv"?i=Vw(a,l,c):i=bp(a,l,c),{r:i[0],g:i[1],b:i[2],a:e}}function Bw(n,t){var e=yp(n);e[0]=JT(e[0]+t),e=bp(e),n.r=e[0],n.g=e[1],n.b=e[2]}function jw(n){if(!n)return;const t=yp(n),e=t[0],i=y0(t[1]),a=y0(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${a}%, ${jr(n.a)})`:`hsl(${e}, ${i}%, ${a}%)`}const v0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},b0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Uw(){const n={},t=Object.keys(b0),e=Object.keys(v0);let i,a,l,c,d;for(i=0;i<t.length;i++){for(c=d=t[i],a=0;a<e.length;a++)l=e[a],d=d.replace(l,v0[l]);l=parseInt(b0[c],16),n[d]=[l>>16&255,l>>8&255,l&255]}return n}let of;function Hw(n){of||(of=Uw(),of.transparent=[0,0,0,0]);const t=of[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Fw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function qw(n){const t=Fw.exec(n);let e=255,i,a,l;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?pc(c):ja(c*255,0,255)}return i=+t[1],a=+t[3],l=+t[5],i=255&(t[2]?pc(i):ja(i,0,255)),a=255&(t[4]?pc(a):ja(a,0,255)),l=255&(t[6]?pc(l):ja(l,0,255)),{r:i,g:a,b:l,a:e}}}function Zw(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${jr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const dg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Wl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Gw(n,t,e){const i=Wl(jr(n.r)),a=Wl(jr(n.g)),l=Wl(jr(n.b));return{r:Za(dg(i+e*(Wl(jr(t.r))-i))),g:Za(dg(a+e*(Wl(jr(t.g))-a))),b:Za(dg(l+e*(Wl(jr(t.b))-l))),a:n.a+e*(t.a-n.a)}}function lf(n,t,e){if(n){let i=yp(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=bp(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function tE(n,t){return n&&Object.assign(t||{},n)}function T0(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Za(n[3]))):(t=tE(n,{r:0,g:0,b:0,a:1}),t.a=Za(t.a)),t}function Yw(n){return n.charAt(0)==="r"?qw(n):zw(n)}class kc{constructor(t){if(t instanceof kc)return t;const e=typeof t;let i;e==="object"?i=T0(t):e==="string"&&(i=Mw(t)||Hw(t)||Yw(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=tE(this._rgb);return t&&(t.a=jr(t.a)),t}set rgb(t){this._rgb=T0(t)}rgbString(){return this._valid?Zw(this._rgb):void 0}hexString(){return this._valid?Iw(this._rgb):void 0}hslString(){return this._valid?jw(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,a=t.rgb;let l;const c=e===l?.5:e,d=2*c-1,g=i.a-a.a,y=((d*g===-1?d:(d+g)/(1+d*g))+1)/2;l=1-y,i.r=255&y*i.r+l*a.r+.5,i.g=255&y*i.g+l*a.g+.5,i.b=255&y*i.b+l*a.b+.5,i.a=c*i.a+(1-c)*a.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=Gw(this._rgb,t._rgb,e)),this}clone(){return new kc(this.rgb)}alpha(t){return this._rgb.a=Za(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Qc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return lf(this._rgb,2,t),this}darken(t){return lf(this._rgb,2,-t),this}saturate(t){return lf(this._rgb,1,t),this}desaturate(t){return lf(this._rgb,1,-t),this}rotate(t){return Bw(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Vr(){}const Kw=(()=>{let n=0;return()=>n++})();function Pe(n){return n==null}function Pn(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function de(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ds(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function tr(n,t){return ds(n)?n:t}function re(n,t){return typeof n>"u"?t:n}const Xw=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,eE=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Ue(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function we(n,t,e,i){let a,l,c;if(Pn(n))for(l=n.length,a=0;a<l;a++)t.call(e,n[a],a);else if(de(n))for(c=Object.keys(n),l=c.length,a=0;a<l;a++)t.call(e,n[c[a]],c[a])}function zf(n,t){let e,i,a,l;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(a=n[e],l=t[e],a.datasetIndex!==l.datasetIndex||a.index!==l.index)return!1;return!0}function Bf(n){if(Pn(n))return n.map(Bf);if(de(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let a=0;for(;a<i;++a)t[e[a]]=Bf(n[e[a]]);return t}return n}function nE(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Ww(n,t,e,i){if(!nE(n))return;const a=t[n],l=e[n];de(a)&&de(l)?Nc(a,l,i):t[n]=Bf(l)}function Nc(n,t,e){const i=Pn(t)?t:[t],a=i.length;if(!de(n))return n;e=e||{};const l=e.merger||Ww;let c;for(let d=0;d<a;++d){if(c=i[d],!de(c))continue;const g=Object.keys(c);for(let y=0,T=g.length;y<T;++y)l(g[y],n,c,e)}return n}function wc(n,t){return Nc(n,t,{merger:Qw})}function Qw(n,t,e){if(!nE(n))return;const i=t[n],a=e[n];de(i)&&de(a)?wc(i,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Bf(a))}const E0={"":n=>n,x:n=>n.x,y:n=>n.y};function $w(n){const t=n.split("."),e=[];let i="";for(const a of t)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function Jw(n){const t=$w(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function $o(n,t){return(E0[t]||(E0[t]=Jw(t)))(n)}function Tp(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Vc=n=>typeof n<"u",Qa=n=>typeof n=="function",x0=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function tA(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const fn=Math.PI,$e=2*fn,eA=$e+fn,jf=Number.POSITIVE_INFINITY,nA=fn/180,vn=fn/2,Fo=fn/4,S0=fn*2/3,iE=Math.log10,sr=Math.sign;function Ac(n,t,e){return Math.abs(n-t)<e}function w0(n){const t=Math.round(n);n=Ac(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(iE(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function iA(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((a,l)=>a-l).pop(),t}function sA(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Uf(n){return!sA(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function rA(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function aA(n,t,e){let i,a,l;for(i=0,a=n.length;i<a;i++)l=n[i][e],isNaN(l)||(t.min=Math.min(t.min,l),t.max=Math.max(t.max,l))}function Ur(n){return n*(fn/180)}function oA(n){return n*(180/fn)}function A0(n){if(!ds(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function sE(n,t){const e=t.x-n.x,i=t.y-n.y,a=Math.sqrt(e*e+i*i);let l=Math.atan2(i,e);return l<-.5*fn&&(l+=$e),{angle:l,distance:a}}function zg(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function lA(n,t){return(n-t+eA)%$e-fn}function Ba(n){return(n%$e+$e)%$e}function zc(n,t,e,i){const a=Ba(n),l=Ba(t),c=Ba(e),d=Ba(l-a),g=Ba(c-a),y=Ba(a-l),T=Ba(a-c);return a===l||a===c||i&&l===c||d>g&&y<T}function Ti(n,t,e){return Math.max(t,Math.min(e,n))}function uA(n){return Ti(n,-32768,32767)}function Ua(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Ep(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,a=0,l;for(;i-a>1;)l=a+i>>1,e(l)?a=l:i=l;return{lo:a,hi:i}}const Bg=(n,t,e,i)=>Ep(n,e,i?a=>{const l=n[a][t];return l<e||l===e&&n[a+1][t]===e}:a=>n[a][t]<e),cA=(n,t,e)=>Ep(n,e,i=>n[i][t]>=e);function hA(n,t,e){let i=0,a=n.length;for(;i<a&&n[i]<t;)i++;for(;a>i&&n[a-1]>e;)a--;return i>0||a<n.length?n.slice(i,a):n}const rE=["push","pop","shift","splice","unshift"];function fA(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),rE.forEach(e=>{const i="_onData"+Tp(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...l){const c=a.apply(this,l);return n._chartjs.listeners.forEach(d=>{typeof d[i]=="function"&&d[i](...l)}),c}})})}function C0(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,a=i.indexOf(t);a!==-1&&i.splice(a,1),!(i.length>0)&&(rE.forEach(l=>{delete n[l]}),delete n._chartjs)}function aE(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const oE=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function lE(n,t){let e=[],i=!1;return function(...a){e=a,i||(i=!0,oE.call(window,()=>{i=!1,n.apply(t,e)}))}}function dA(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const uE=n=>n==="start"?"left":n==="end"?"right":"center",Fi=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,mA=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,uf=n=>n===0||n===1,R0=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*$e/e)),M0=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*$e/e)+1,Cc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*vn)+1,easeOutSine:n=>Math.sin(n*vn),easeInOutSine:n=>-.5*(Math.cos(fn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>uf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>uf(n)?n:R0(n,.075,.3),easeOutElastic:n=>uf(n)?n:M0(n,.075,.3),easeInOutElastic(n){return uf(n)?n:n<.5?.5*R0(n*2,.1125,.45):.5+.5*M0(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Cc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Cc.easeInBounce(n*2)*.5:Cc.easeOutBounce(n*2-1)*.5+.5};function xp(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function D0(n){return xp(n)?n:new kc(n)}function mg(n){return xp(n)?n:new kc(n).saturate(.5).darken(.1).hexString()}const gA=["x","y","borderWidth","radius","tension"],pA=["color","borderColor","backgroundColor"];function _A(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:pA},numbers:{type:"number",properties:gA}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function yA(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const I0=new Map;function vA(n,t){t=t||{};const e=n+JSON.stringify(t);let i=I0.get(e);return i||(i=new Intl.NumberFormat(n,t),I0.set(e,i)),i}function Sp(n,t,e){return vA(t,e).format(n)}const bA={values(n){return Pn(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let a,l=n;if(e.length>1){const y=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(y<1e-4||y>1e15)&&(a="scientific"),l=TA(n,e)}const c=iE(Math.abs(l)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),g={notation:a,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(g,this.options.ticks.format),Sp(n,i,g)}};function TA(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var cE={formatters:bA};function EA(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Jo=Object.create(null),jg=Object.create(null);function Rc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,a=e.length;i<a;++i){const l=e[i];n=n[l]||(n[l]=Object.create(null))}return n}function gg(n,t,e){return typeof t=="string"?Nc(Rc(n,t),e):Nc(Rc(n,""),t)}class xA{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>mg(a.backgroundColor),this.hoverBorderColor=(i,a)=>mg(a.borderColor),this.hoverColor=(i,a)=>mg(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return gg(this,t,e)}get(t){return Rc(this,t)}describe(t,e){return gg(jg,t,e)}override(t,e){return gg(Jo,t,e)}route(t,e,i,a){const l=Rc(this,t),c=Rc(this,i),d="_"+e;Object.defineProperties(l,{[d]:{value:l[e],writable:!0},[e]:{enumerable:!0,get(){const g=this[d],y=c[a];return de(g)?Object.assign({},y,g):re(g,y)},set(g){this[d]=g}}})}apply(t){t.forEach(e=>e(this))}}var rn=new xA({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_A,yA,EA]);function SA(n){return!n||Pe(n.size)||Pe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function O0(n,t,e,i,a){let l=t[a];return l||(l=t[a]=n.measureText(a).width,e.push(a)),l>i&&(i=l),i}function qo(n,t,e){const i=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*i)/i+a}function P0(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Ug(n,t,e,i){hE(n,t,e,i,null)}function hE(n,t,e,i,a){let l,c,d,g,y,T,x,w;const R=t.pointStyle,P=t.rotation,k=t.radius;let V=(P||0)*nA;if(R&&typeof R=="object"&&(l=R.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(V),n.drawImage(R,-R.width/2,-R.height/2,R.width,R.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),R){default:a?n.ellipse(e,i,a/2,k,0,0,$e):n.arc(e,i,k,0,$e),n.closePath();break;case"triangle":T=a?a/2:k,n.moveTo(e+Math.sin(V)*T,i-Math.cos(V)*k),V+=S0,n.lineTo(e+Math.sin(V)*T,i-Math.cos(V)*k),V+=S0,n.lineTo(e+Math.sin(V)*T,i-Math.cos(V)*k),n.closePath();break;case"rectRounded":y=k*.516,g=k-y,c=Math.cos(V+Fo)*g,x=Math.cos(V+Fo)*(a?a/2-y:g),d=Math.sin(V+Fo)*g,w=Math.sin(V+Fo)*(a?a/2-y:g),n.arc(e-x,i-d,y,V-fn,V-vn),n.arc(e+w,i-c,y,V-vn,V),n.arc(e+x,i+d,y,V,V+vn),n.arc(e-w,i+c,y,V+vn,V+fn),n.closePath();break;case"rect":if(!P){g=Math.SQRT1_2*k,T=a?a/2:g,n.rect(e-T,i-g,2*T,2*g);break}V+=Fo;case"rectRot":x=Math.cos(V)*(a?a/2:k),c=Math.cos(V)*k,d=Math.sin(V)*k,w=Math.sin(V)*(a?a/2:k),n.moveTo(e-x,i-d),n.lineTo(e+w,i-c),n.lineTo(e+x,i+d),n.lineTo(e-w,i+c),n.closePath();break;case"crossRot":V+=Fo;case"cross":x=Math.cos(V)*(a?a/2:k),c=Math.cos(V)*k,d=Math.sin(V)*k,w=Math.sin(V)*(a?a/2:k),n.moveTo(e-x,i-d),n.lineTo(e+x,i+d),n.moveTo(e+w,i-c),n.lineTo(e-w,i+c);break;case"star":x=Math.cos(V)*(a?a/2:k),c=Math.cos(V)*k,d=Math.sin(V)*k,w=Math.sin(V)*(a?a/2:k),n.moveTo(e-x,i-d),n.lineTo(e+x,i+d),n.moveTo(e+w,i-c),n.lineTo(e-w,i+c),V+=Fo,x=Math.cos(V)*(a?a/2:k),c=Math.cos(V)*k,d=Math.sin(V)*k,w=Math.sin(V)*(a?a/2:k),n.moveTo(e-x,i-d),n.lineTo(e+x,i+d),n.moveTo(e+w,i-c),n.lineTo(e-w,i+c);break;case"line":c=a?a/2:Math.cos(V)*k,d=Math.sin(V)*k,n.moveTo(e-c,i-d),n.lineTo(e+c,i+d);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(V)*(a?a/2:k),i+Math.sin(V)*k);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Bc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function wp(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Ap(n){n.restore()}function wA(n,t,e,i,a){if(!t)return n.lineTo(e.x,e.y);if(a==="middle"){const l=(t.x+e.x)/2;n.lineTo(l,t.y),n.lineTo(l,e.y)}else a==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function AA(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function CA(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Pe(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function RA(n,t,e,i,a){if(a.strikethrough||a.underline){const l=n.measureText(i),c=t-l.actualBoundingBoxLeft,d=t+l.actualBoundingBoxRight,g=e-l.actualBoundingBoxAscent,y=e+l.actualBoundingBoxDescent,T=a.strikethrough?(g+y)/2:y;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(c,T),n.lineTo(d,T),n.stroke()}}function MA(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Hf(n,t,e,i,a,l={}){const c=Pn(t)?t:[t],d=l.strokeWidth>0&&l.strokeColor!=="";let g,y;for(n.save(),n.font=a.string,CA(n,l),g=0;g<c.length;++g)y=c[g],l.backdrop&&MA(n,l.backdrop),d&&(l.strokeColor&&(n.strokeStyle=l.strokeColor),Pe(l.strokeWidth)||(n.lineWidth=l.strokeWidth),n.strokeText(y,e,i,l.maxWidth)),n.fillText(y,e,i,l.maxWidth),RA(n,e,i,y,l),i+=Number(a.lineHeight);n.restore()}function Ff(n,t){const{x:e,y:i,w:a,h:l,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*fn,fn,!0),n.lineTo(e,i+l-c.bottomLeft),n.arc(e+c.bottomLeft,i+l-c.bottomLeft,c.bottomLeft,fn,vn,!0),n.lineTo(e+a-c.bottomRight,i+l),n.arc(e+a-c.bottomRight,i+l-c.bottomRight,c.bottomRight,vn,0,!0),n.lineTo(e+a,i+c.topRight),n.arc(e+a-c.topRight,i+c.topRight,c.topRight,0,-vn,!0),n.lineTo(e+c.topLeft,i)}const DA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,IA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function OA(n,t){const e=(""+n).match(DA);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const PA=n=>+n||0;function Cp(n,t){const e={},i=de(t),a=i?Object.keys(t):t,l=de(n)?i?c=>re(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of a)e[c]=PA(l(c));return e}function fE(n){return Cp(n,{top:"y",right:"x",bottom:"y",left:"x"})}function iu(n){return Cp(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ls(n){const t=fE(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ei(n,t){n=n||{},t=t||rn.font;let e=re(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=re(n.style,t.style);i&&!(""+i).match(IA)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:re(n.family,t.family),lineHeight:OA(re(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:re(n.weight,t.weight),string:""};return a.string=SA(a),a}function cf(n,t,e,i){let a,l,c;for(a=0,l=n.length;a<l;++a)if(c=n[a],c!==void 0&&c!==void 0)return c}function LA(n,t,e){const{min:i,max:a}=n,l=eE(t,(a-i)/2),c=(d,g)=>e&&d===0?0:d+g;return{min:c(i,-Math.abs(l)),max:c(a,l)}}function rl(n,t){return Object.assign(Object.create(n),t)}function Rp(n,t=[""],e,i,a=()=>n[0]){const l=e||n;typeof i>"u"&&(i=pE("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:l,_fallback:i,_getTarget:a,override:d=>Rp([d,...n],t,l,i)};return new Proxy(c,{deleteProperty(d,g){return delete d[g],delete d._keys,delete n[0][g],!0},get(d,g){return mE(d,g,()=>HA(g,t,n,d))},getOwnPropertyDescriptor(d,g){return Reflect.getOwnPropertyDescriptor(d._scopes[0],g)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(d,g){return k0(d).includes(g)},ownKeys(d){return k0(d)},set(d,g,y){const T=d._storage||(d._storage=a());return d[g]=T[g]=y,delete d._keys,!0}})}function ou(n,t,e,i){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:dE(n,i),setContext:l=>ou(n,l,e,i),override:l=>ou(n.override(l),t,e,i)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete n[c],!0},get(l,c,d){return mE(l,c,()=>NA(l,c,d))},getOwnPropertyDescriptor(l,c){return l._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(l,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(l,c,d){return n[c]=d,delete l[c],!0}})}function dE(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:i,isScriptable:Qa(e)?e:()=>e,isIndexable:Qa(i)?i:()=>i}}const kA=(n,t)=>n?n+Tp(t):t,Mp=(n,t)=>de(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function mE(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function NA(n,t,e){const{_proxy:i,_context:a,_subProxy:l,_descriptors:c}=n;let d=i[t];return Qa(d)&&c.isScriptable(t)&&(d=VA(t,d,n,e)),Pn(d)&&d.length&&(d=zA(t,d,n,c.isIndexable)),Mp(t,d)&&(d=ou(d,a,l&&l[t],c)),d}function VA(n,t,e,i){const{_proxy:a,_context:l,_subProxy:c,_stack:d}=e;if(d.has(n))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+n);d.add(n);let g=t(l,c||i);return d.delete(n),Mp(n,g)&&(g=Dp(a._scopes,a,n,g)),g}function zA(n,t,e,i){const{_proxy:a,_context:l,_subProxy:c,_descriptors:d}=e;if(typeof l.index<"u"&&i(n))return t[l.index%t.length];if(de(t[0])){const g=t,y=a._scopes.filter(T=>T!==g);t=[];for(const T of g){const x=Dp(y,a,n,T);t.push(ou(x,l,c&&c[n],d))}}return t}function gE(n,t,e){return Qa(n)?n(t,e):n}const BA=(n,t)=>n===!0?t:typeof n=="string"?$o(t,n):void 0;function jA(n,t,e,i,a){for(const l of t){const c=BA(e,l);if(c){n.add(c);const d=gE(c._fallback,e,a);if(typeof d<"u"&&d!==e&&d!==i)return d}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function Dp(n,t,e,i){const a=t._rootScopes,l=gE(t._fallback,e,i),c=[...n,...a],d=new Set;d.add(i);let g=L0(d,c,e,l||e,i);return g===null||typeof l<"u"&&l!==e&&(g=L0(d,c,l,g,i),g===null)?!1:Rp(Array.from(d),[""],a,l,()=>UA(t,e,i))}function L0(n,t,e,i,a){for(;e;)e=jA(n,t,e,i,a);return e}function UA(n,t,e){const i=n._getTarget();t in i||(i[t]={});const a=i[t];return Pn(a)&&de(e)?e:a||{}}function HA(n,t,e,i){let a;for(const l of t)if(a=pE(kA(l,n),e),typeof a<"u")return Mp(n,a)?Dp(e,i,n,a):a}function pE(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function k0(n){let t=n._keys;return t||(t=n._keys=FA(n._scopes)),t}function FA(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(i);return Array.from(t)}const qA=Number.EPSILON||1e-14,lu=(n,t)=>t<n.length&&!n[t].skip&&n[t],_E=n=>n==="x"?"y":"x";function ZA(n,t,e,i){const a=n.skip?t:n,l=t,c=e.skip?t:e,d=zg(l,a),g=zg(c,l);let y=d/(d+g),T=g/(d+g);y=isNaN(y)?0:y,T=isNaN(T)?0:T;const x=i*y,w=i*T;return{previous:{x:l.x-x*(c.x-a.x),y:l.y-x*(c.y-a.y)},next:{x:l.x+w*(c.x-a.x),y:l.y+w*(c.y-a.y)}}}function GA(n,t,e){const i=n.length;let a,l,c,d,g,y=lu(n,0);for(let T=0;T<i-1;++T)if(g=y,y=lu(n,T+1),!(!g||!y)){if(Ac(t[T],0,qA)){e[T]=e[T+1]=0;continue}a=e[T]/t[T],l=e[T+1]/t[T],d=Math.pow(a,2)+Math.pow(l,2),!(d<=9)&&(c=3/Math.sqrt(d),e[T]=a*c*t[T],e[T+1]=l*c*t[T])}}function YA(n,t,e="x"){const i=_E(e),a=n.length;let l,c,d,g=lu(n,0);for(let y=0;y<a;++y){if(c=d,d=g,g=lu(n,y+1),!d)continue;const T=d[e],x=d[i];c&&(l=(T-c[e])/3,d[`cp1${e}`]=T-l,d[`cp1${i}`]=x-l*t[y]),g&&(l=(g[e]-T)/3,d[`cp2${e}`]=T+l,d[`cp2${i}`]=x+l*t[y])}}function KA(n,t="x"){const e=_E(t),i=n.length,a=Array(i).fill(0),l=Array(i);let c,d,g,y=lu(n,0);for(c=0;c<i;++c)if(d=g,g=y,y=lu(n,c+1),!!g){if(y){const T=y[t]-g[t];a[c]=T!==0?(y[e]-g[e])/T:0}l[c]=d?y?sr(a[c-1])!==sr(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}GA(n,a,l),YA(n,l,t)}function hf(n,t,e){return Math.max(Math.min(n,e),t)}function XA(n,t){let e,i,a,l,c,d=Bc(n[0],t);for(e=0,i=n.length;e<i;++e)c=l,l=d,d=e<i-1&&Bc(n[e+1],t),l&&(a=n[e],c&&(a.cp1x=hf(a.cp1x,t.left,t.right),a.cp1y=hf(a.cp1y,t.top,t.bottom)),d&&(a.cp2x=hf(a.cp2x,t.left,t.right),a.cp2y=hf(a.cp2y,t.top,t.bottom)))}function WA(n,t,e,i,a){let l,c,d,g;if(t.spanGaps&&(n=n.filter(y=>!y.skip)),t.cubicInterpolationMode==="monotone")KA(n,a);else{let y=i?n[n.length-1]:n[0];for(l=0,c=n.length;l<c;++l)d=n[l],g=ZA(y,d,n[Math.min(l+1,c-(i?0:1))%c],t.tension),d.cp1x=g.previous.x,d.cp1y=g.previous.y,d.cp2x=g.next.x,d.cp2y=g.next.y,y=d}t.capBezierPoints&&XA(n,e)}function Ip(){return typeof window<"u"&&typeof document<"u"}function Op(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function qf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const ud=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function QA(n,t){return ud(n).getPropertyValue(t)}const $A=["top","right","bottom","left"];function Qo(n,t,e){const i={};e=e?"-"+e:"";for(let a=0;a<4;a++){const l=$A[a];i[l]=parseFloat(n[t+"-"+l+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const JA=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function t2(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:a,offsetY:l}=i;let c=!1,d,g;if(JA(a,l,n.target))d=a,g=l;else{const y=t.getBoundingClientRect();d=i.clientX-y.left,g=i.clientY-y.top,c=!0}return{x:d,y:g,box:c}}function Go(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,a=ud(e),l=a.boxSizing==="border-box",c=Qo(a,"padding"),d=Qo(a,"border","width"),{x:g,y,box:T}=t2(n,e),x=c.left+(T&&d.left),w=c.top+(T&&d.top);let{width:R,height:P}=t;return l&&(R-=c.width+d.width,P-=c.height+d.height),{x:Math.round((g-x)/R*e.width/i),y:Math.round((y-w)/P*e.height/i)}}function e2(n,t,e){let i,a;if(t===void 0||e===void 0){const l=n&&Op(n);if(!l)t=n.clientWidth,e=n.clientHeight;else{const c=l.getBoundingClientRect(),d=ud(l),g=Qo(d,"border","width"),y=Qo(d,"padding");t=c.width-y.width-g.width,e=c.height-y.height-g.height,i=qf(d.maxWidth,l,"clientWidth"),a=qf(d.maxHeight,l,"clientHeight")}}return{width:t,height:e,maxWidth:i||jf,maxHeight:a||jf}}const ff=n=>Math.round(n*10)/10;function n2(n,t,e,i){const a=ud(n),l=Qo(a,"margin"),c=qf(a.maxWidth,n,"clientWidth")||jf,d=qf(a.maxHeight,n,"clientHeight")||jf,g=e2(n,t,e);let{width:y,height:T}=g;if(a.boxSizing==="content-box"){const w=Qo(a,"border","width"),R=Qo(a,"padding");y-=R.width+w.width,T-=R.height+w.height}return y=Math.max(0,y-l.width),T=Math.max(0,i?y/i:T-l.height),y=ff(Math.min(y,c,g.maxWidth)),T=ff(Math.min(T,d,g.maxHeight)),y&&!T&&(T=ff(y/2)),(t!==void 0||e!==void 0)&&i&&g.height&&T>g.height&&(T=g.height,y=ff(Math.floor(T*i))),{width:y,height:T}}function N0(n,t,e){const i=t||1,a=Math.floor(n.height*i),l=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==a||c.width!==l?(n.currentDevicePixelRatio=i,c.height=a,c.width=l,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const i2=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Ip()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function V0(n,t){const e=QA(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Yo(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function s2(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function r2(n,t,e,i){const a={x:n.cp2x,y:n.cp2y},l={x:t.cp1x,y:t.cp1y},c=Yo(n,a,e),d=Yo(a,l,e),g=Yo(l,t,e),y=Yo(c,d,e),T=Yo(d,g,e);return Yo(y,T,e)}const a2=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},o2=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function su(n,t,e){return n?a2(t,e):o2()}function yE(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function vE(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function bE(n){return n==="angle"?{between:zc,compare:lA,normalize:Ba}:{between:Ua,compare:(t,e)=>t-e,normalize:t=>t}}function z0({start:n,end:t,count:e,loop:i,style:a}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:a}}function l2(n,t,e){const{property:i,start:a,end:l}=e,{between:c,normalize:d}=bE(i),g=t.length;let{start:y,end:T,loop:x}=n,w,R;if(x){for(y+=g,T+=g,w=0,R=g;w<R&&c(d(t[y%g][i]),a,l);++w)y--,T--;y%=g,T%=g}return T<y&&(T+=g),{start:y,end:T,loop:x,style:n.style}}function u2(n,t,e){if(!e)return[n];const{property:i,start:a,end:l}=e,c=t.length,{compare:d,between:g,normalize:y}=bE(i),{start:T,end:x,loop:w,style:R}=l2(n,t,e),P=[];let k=!1,V=null,K,tt,st;const ut=()=>g(a,st,K)&&d(a,st)!==0,nt=()=>d(l,K)===0||g(l,st,K),ht=()=>k||ut(),B=()=>!k||nt();for(let O=T,N=T;O<=x;++O)tt=t[O%c],!tt.skip&&(K=y(tt[i]),K!==st&&(k=g(K,a,l),V===null&&ht()&&(V=d(K,a)===0?O:N),V!==null&&B()&&(P.push(z0({start:V,end:O,loop:w,count:c,style:R})),V=null),N=O,st=K));return V!==null&&P.push(z0({start:V,end:x,loop:w,count:c,style:R})),P}function c2(n,t){const e=[],i=n.segments;for(let a=0;a<i.length;a++){const l=u2(i[a],n.points,t);l.length&&e.push(...l)}return e}function h2(n,t,e,i){let a=0,l=t-1;if(e&&!i)for(;a<t&&!n[a].skip;)a++;for(;a<t&&n[a].skip;)a++;for(a%=t,e&&(l+=a);l>a&&n[l%t].skip;)l--;return l%=t,{start:a,end:l}}function f2(n,t,e,i){const a=n.length,l=[];let c=t,d=n[t],g;for(g=t+1;g<=e;++g){const y=n[g%a];y.skip||y.stop?d.skip||(i=!1,l.push({start:t%a,end:(g-1)%a,loop:i}),t=c=y.stop?g:null):(c=g,d.skip&&(t=g)),d=y}return c!==null&&l.push({start:t%a,end:c%a,loop:i}),l}function d2(n,t){const e=n.points,i=n.options.spanGaps,a=e.length;if(!a)return[];const l=!!n._loop,{start:c,end:d}=h2(e,a,l,i);if(i===!0)return B0(n,[{start:c,end:d,loop:l}],e,t);const g=d<c?d+a:d,y=!!n._fullLoop&&c===0&&d===a-1;return B0(n,f2(e,c,g,y),e,t)}function B0(n,t,e,i){return!i||!i.setContext||!e?t:m2(n,t,e,i)}function m2(n,t,e,i){const a=n._chart.getContext(),l=j0(n.options),{_datasetIndex:c,options:{spanGaps:d}}=n,g=e.length,y=[];let T=l,x=t[0].start,w=x;function R(P,k,V,K){const tt=d?-1:1;if(P!==k){for(P+=g;e[P%g].skip;)P-=tt;for(;e[k%g].skip;)k+=tt;P%g!==k%g&&(y.push({start:P%g,end:k%g,loop:V,style:K}),T=K,x=k%g)}}for(const P of t){x=d?x:P.start;let k=e[x%g],V;for(w=x+1;w<=P.end;w++){const K=e[w%g];V=j0(i.setContext(rl(a,{type:"segment",p0:k,p1:K,p0DataIndex:(w-1)%g,p1DataIndex:w%g,datasetIndex:c}))),g2(V,T)&&R(x,w-1,P.loop,T),k=K,T=V}x<w-1&&R(x,w-1,P.loop,T)}return y}function j0(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function g2(n,t){if(!t)return!1;const e=[],i=function(a,l){return xp(l)?(e.includes(l)||e.push(l),e.indexOf(l)):l};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function df(n,t,e){return n.options.clip?n[e]:t[e]}function p2(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:df(e,t,"left"),right:df(e,t,"right"),top:df(i,t,"top"),bottom:df(i,t,"bottom")}:t}function _2(n,t){const e=t._clip;if(e.disabled)return!1;const i=p2(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class y2{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,a){const l=e.listeners[a],c=e.duration;l.forEach(d=>d({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=oE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const l=i.items;let c=l.length-1,d=!1,g;for(;c>=0;--c)g=l[c],g._active?(g._total>i.duration&&(i.duration=g._total),g.tick(t),d=!0):(l[c]=l[l.length-1],l.pop());d&&(a.draw(),this._notify(a,i,t,"progress")),l.length||(i.running=!1,this._notify(a,i,t,"complete"),i.initial=!1),e+=l.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var zr=new y2;const U0="transparent",v2={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=D0(n||U0),a=i.valid&&D0(t||U0);return a&&a.valid?a.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class b2{constructor(t,e,i,a){const l=e[i];a=cf([t.to,a,l,t.from]);const c=cf([t.from,l,a]);this._active=!0,this._fn=t.fn||v2[t.type||typeof c],this._easing=Cc[t.easing]||Cc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const a=this._target[this._prop],l=i-this._start,c=this._duration-l;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=l,this._loop=!!t.loop,this._to=cf([t.to,e,a,t.from]),this._from=cf([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,a=this._prop,l=this._from,c=this._loop,d=this._to;let g;if(this._active=l!==d&&(c||e<i),!this._active){this._target[a]=d,this._notify(!0);return}if(e<0){this._target[a]=l;return}g=e/i%2,g=c&&g>1?2-g:g,g=this._easing(Math.min(1,Math.max(0,g))),this._target[a]=this._fn(l,d,g)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][e]()}}class TE{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!de(t))return;const e=Object.keys(rn.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const l=t[a];if(!de(l))return;const c={};for(const d of e)c[d]=l[d];(Pn(l.properties)&&l.properties||[a]).forEach(d=>{(d===a||!i.has(d))&&i.set(d,c)})})}_animateOptions(t,e){const i=e.options,a=E2(t,i);if(!a)return[];const l=this._createAnimations(a,i);return i.$shared&&T2(t.options.$animations,i).then(()=>{t.options=i},()=>{}),l}_createAnimations(t,e){const i=this._properties,a=[],l=t.$animations||(t.$animations={}),c=Object.keys(e),d=Date.now();let g;for(g=c.length-1;g>=0;--g){const y=c[g];if(y.charAt(0)==="$")continue;if(y==="options"){a.push(...this._animateOptions(t,e));continue}const T=e[y];let x=l[y];const w=i.get(y);if(x)if(w&&x.active()){x.update(w,T,d);continue}else x.cancel();if(!w||!w.duration){t[y]=T;continue}l[y]=x=new b2(w,t,y,T),a.push(x)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return zr.add(this._chart,i),!0}}function T2(n,t){const e=[],i=Object.keys(t);for(let a=0;a<i.length;a++){const l=n[i[a]];l&&l.active()&&e.push(l.wait())}return Promise.all(e)}function E2(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function H0(n,t){const e=n&&n.options||{},i=e.reverse,a=e.min===void 0?t:0,l=e.max===void 0?t:0;return{start:i?l:a,end:i?a:l}}function x2(n,t,e){if(e===!1)return!1;const i=H0(n,e),a=H0(t,e);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function S2(n){let t,e,i,a;return de(n)?(t=n.top,e=n.right,i=n.bottom,a=n.left):t=e=i=a=n,{top:t,right:e,bottom:i,left:a,disabled:n===!1}}function EE(n,t){const e=[],i=n._getSortedDatasetMetas(t);let a,l;for(a=0,l=i.length;a<l;++a)e.push(i[a].index);return e}function F0(n,t,e,i={}){const a=n.keys,l=i.mode==="single";let c,d,g,y;if(t===null)return;let T=!1;for(c=0,d=a.length;c<d;++c){if(g=+a[c],g===e){if(T=!0,i.all)continue;break}y=n.values[g],ds(y)&&(l||t===0||sr(t)===sr(y))&&(t+=y)}return!T&&!i.all?0:t}function w2(n,t){const{iScale:e,vScale:i}=t,a=e.axis==="x"?"x":"y",l=i.axis==="x"?"x":"y",c=Object.keys(n),d=new Array(c.length);let g,y,T;for(g=0,y=c.length;g<y;++g)T=c[g],d[g]={[a]:T,[l]:n[T]};return d}function pg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function A2(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function C2(n){const{min:t,max:e,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function R2(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function q0(n,t,e,i){for(const a of t.getMatchingVisibleMetas(i).reverse()){const l=n[a.index];if(e&&l>0||!e&&l<0)return a.index}return null}function Z0(n,t){const{chart:e,_cachedMeta:i}=n,a=e._stacks||(e._stacks={}),{iScale:l,vScale:c,index:d}=i,g=l.axis,y=c.axis,T=A2(l,c,i),x=t.length;let w;for(let R=0;R<x;++R){const P=t[R],{[g]:k,[y]:V}=P,K=P._stacks||(P._stacks={});w=K[y]=R2(a,T,k),w[d]=V,w._top=q0(w,c,!0,i.type),w._bottom=q0(w,c,!1,i.type);const tt=w._visualValues||(w._visualValues={});tt[d]=V}}function _g(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function M2(n,t){return rl(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function D2(n,t,e){return rl(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function hc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const a of t){const l=a._stacks;if(!l||l[i]===void 0||l[i][e]===void 0)return;delete l[i][e],l[i]._visualValues!==void 0&&l[i]._visualValues[e]!==void 0&&delete l[i]._visualValues[e]}}}const yg=n=>n==="reset"||n==="none",G0=(n,t)=>t?n:Object.assign({},n),I2=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:EE(e,!0),values:null};class ru{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=pg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&hc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),a=(x,w,R,P)=>x==="x"?w:x==="r"?P:R,l=e.xAxisID=re(i.xAxisID,_g(t,"x")),c=e.yAxisID=re(i.yAxisID,_g(t,"y")),d=e.rAxisID=re(i.rAxisID,_g(t,"r")),g=e.indexAxis,y=e.iAxisID=a(g,l,c,d),T=e.vAxisID=a(g,c,l,d);e.xScale=this.getScaleForId(l),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(d),e.iScale=this.getScaleForId(y),e.vScale=this.getScaleForId(T)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&C0(this._data,this),t._stacked&&hc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(de(e)){const a=this._cachedMeta;this._data=w2(e,a)}else if(i!==e){if(i){C0(i,this);const a=this._cachedMeta;hc(a),a._parsed=[]}e&&Object.isExtensible(e)&&fA(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const l=e._stacked;e._stacked=pg(e.vScale,e),e.stack!==i.stack&&(a=!0,hc(e),e.stack=i.stack),this._resyncElements(t),(a||l!==e._stacked)&&(Z0(this,e._parsed),e._stacked=pg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:a}=this,{iScale:l,_stacked:c}=i,d=l.axis;let g=t===0&&e===a.length?!0:i._sorted,y=t>0&&i._parsed[t-1],T,x,w;if(this._parsing===!1)i._parsed=a,i._sorted=!0,w=a;else{Pn(a[t])?w=this.parseArrayData(i,a,t,e):de(a[t])?w=this.parseObjectData(i,a,t,e):w=this.parsePrimitiveData(i,a,t,e);const R=()=>x[d]===null||y&&x[d]<y[d];for(T=0;T<e;++T)i._parsed[T+t]=x=w[T],g&&(R()&&(g=!1),y=x);i._sorted=g}c&&Z0(this,w)}parsePrimitiveData(t,e,i,a){const{iScale:l,vScale:c}=t,d=l.axis,g=c.axis,y=l.getLabels(),T=l===c,x=new Array(a);let w,R,P;for(w=0,R=a;w<R;++w)P=w+i,x[w]={[d]:T||l.parse(y[P],P),[g]:c.parse(e[P],P)};return x}parseArrayData(t,e,i,a){const{xScale:l,yScale:c}=t,d=new Array(a);let g,y,T,x;for(g=0,y=a;g<y;++g)T=g+i,x=e[T],d[g]={x:l.parse(x[0],T),y:c.parse(x[1],T)};return d}parseObjectData(t,e,i,a){const{xScale:l,yScale:c}=t,{xAxisKey:d="x",yAxisKey:g="y"}=this._parsing,y=new Array(a);let T,x,w,R;for(T=0,x=a;T<x;++T)w=T+i,R=e[w],y[T]={x:l.parse($o(R,d),w),y:c.parse($o(R,g),w)};return y}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const a=this.chart,l=this._cachedMeta,c=e[t.axis],d={keys:EE(a,!0),values:e._stacks[t.axis]._visualValues};return F0(d,c,l.index,{mode:i})}updateRangeFromParsed(t,e,i,a){const l=i[e.axis];let c=l===null?NaN:l;const d=a&&i._stacks[e.axis];a&&d&&(a.values=d,c=F0(a,l,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,a=i._parsed,l=i._sorted&&t===i.iScale,c=a.length,d=this._getOtherScale(t),g=I2(e,i,this.chart),y={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:T,max:x}=C2(d);let w,R;function P(){R=a[w];const k=R[d.axis];return!ds(R[t.axis])||T>k||x<k}for(w=0;w<c&&!(!P()&&(this.updateRangeFromParsed(y,t,R,g),l));++w);if(l){for(w=c-1;w>=0;--w)if(!P()){this.updateRangeFromParsed(y,t,R,g);break}}return y}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let a,l,c;for(a=0,l=e.length;a<l;++a)c=e[a][t.axis],ds(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,a=e.vScale,l=this.getParsed(t);return{label:i?""+i.getLabelForValue(l[i.axis]):"",value:a?""+a.getLabelForValue(l[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=S2(re(this.options.clip,x2(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,a=i.data||[],l=e.chartArea,c=[],d=this._drawStart||0,g=this._drawCount||a.length-d,y=this.options.drawActiveElementsOnTop;let T;for(i.dataset&&i.dataset.draw(t,l,d,g),T=d;T<d+g;++T){const x=a[T];x.hidden||(x.active&&y?c.push(x):x.draw(t,l))}for(T=0;T<c.length;++T)c[T].draw(t,l)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const a=this.getDataset();let l;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];l=c.$context||(c.$context=D2(this.getContext(),t,c)),l.parsed=this.getParsed(t),l.raw=a.data[t],l.index=l.dataIndex=t}else l=this.$context||(this.$context=M2(this.chart.getContext(),this.index)),l.dataset=a,l.index=l.datasetIndex=this.index;return l.active=!!e,l.mode=i,l}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const a=e==="active",l=this._cachedDataOpts,c=t+"-"+e,d=l[c],g=this.enableOptionSharing&&Vc(i);if(d)return G0(d,g);const y=this.chart.config,T=y.datasetElementScopeKeys(this._type,t),x=a?[`${t}Hover`,"hover",t,""]:[t,""],w=y.getOptionScopes(this.getDataset(),T),R=Object.keys(rn.elements[t]),P=()=>this.getContext(i,a,e),k=y.resolveNamedOptions(w,R,P,x);return k.$shared&&(k.$shared=g,l[c]=Object.freeze(G0(k,g))),k}_resolveAnimations(t,e,i){const a=this.chart,l=this._cachedDataOpts,c=`animation-${e}`,d=l[c];if(d)return d;let g;if(a.options.animation!==!1){const T=this.chart.config,x=T.datasetAnimationScopeKeys(this._type,e),w=T.getOptionScopes(this.getDataset(),x);g=T.createResolver(w,this.getContext(t,i,e))}const y=new TE(a,g&&g.animations);return g&&g._cacheable&&(l[c]=Object.freeze(y)),y}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||yg(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),a=this._sharedOptions,l=this.getSharedOptions(i),c=this.includeOptions(e,l)||l!==a;return this.updateSharedOptions(l,e,i),{sharedOptions:l,includeOptions:c}}updateElement(t,e,i,a){yg(a)?Object.assign(t,i):this._resolveAnimations(e,a).update(t,i)}updateSharedOptions(t,e,i){t&&!yg(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,a){t.active=a;const l=this.getStyle(e,a);this._resolveAnimations(e,i,a).update(t,{options:!a&&this.getSharedOptions(l)||l})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[d,g,y]of this._syncList)this[d](g,y);this._syncList=[];const a=i.length,l=e.length,c=Math.min(l,a);c&&this.parse(0,c),l>a?this._insertElements(a,l-a,t):l<a&&this._removeElements(l,a-l)}_insertElements(t,e,i=!0){const a=this._cachedMeta,l=a.data,c=t+e;let d;const g=y=>{for(y.length+=e,d=y.length-1;d>=c;d--)y[d]=y[d-e]};for(g(l),d=t;d<c;++d)l[d]=new this.dataElementType;this._parsing&&g(a._parsed),this.parse(t,e),i&&this.updateElements(l,t,e,"reset")}updateElements(t,e,i,a){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(t,e);i._stacked&&hc(i,a)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,a]=t;this[e](i,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}It(ru,"defaults",{}),It(ru,"datasetElementType",null),It(ru,"dataElementType",null);function O2(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let a=0,l=e.length;a<l;a++)i=i.concat(e[a].controller.getAllParsedValues(n));n._cache.$bar=aE(i.sort((a,l)=>a-l))}return n._cache.$bar}function P2(n){const t=n.iScale,e=O2(t,n.type);let i=t._length,a,l,c,d;const g=()=>{c===32767||c===-32768||(Vc(d)&&(i=Math.min(i,Math.abs(c-d)||i)),d=c)};for(a=0,l=e.length;a<l;++a)c=t.getPixelForValue(e[a]),g();for(d=void 0,a=0,l=t.ticks.length;a<l;++a)c=t.getPixelForTick(a),g();return i}function L2(n,t,e,i){const a=e.barThickness;let l,c;return Pe(a)?(l=t.min*e.categoryPercentage,c=e.barPercentage):(l=a*i,c=1),{chunk:l/i,ratio:c,start:t.pixels[n]-l/2}}function k2(n,t,e,i){const a=t.pixels,l=a[n];let c=n>0?a[n-1]:null,d=n<a.length-1?a[n+1]:null;const g=e.categoryPercentage;c===null&&(c=l-(d===null?t.end-t.start:d-l)),d===null&&(d=l+l-c);const y=l-(l-Math.min(c,d))/2*g;return{chunk:Math.abs(d-c)/2*g/i,ratio:e.barPercentage,start:y}}function N2(n,t,e,i){const a=e.parse(n[0],i),l=e.parse(n[1],i),c=Math.min(a,l),d=Math.max(a,l);let g=c,y=d;Math.abs(c)>Math.abs(d)&&(g=d,y=c),t[e.axis]=y,t._custom={barStart:g,barEnd:y,start:a,end:l,min:c,max:d}}function xE(n,t,e,i){return Pn(n)?N2(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Y0(n,t,e,i){const a=n.iScale,l=n.vScale,c=a.getLabels(),d=a===l,g=[];let y,T,x,w;for(y=e,T=e+i;y<T;++y)w=t[y],x={},x[a.axis]=d||a.parse(c[y],y),g.push(xE(w,x,l,y));return g}function vg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function V2(n,t,e){return n!==0?sr(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function z2(n){let t,e,i,a,l;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(a="end",l="start"):(a="start",l="end"),{start:e,end:i,reverse:t,top:a,bottom:l}}function B2(n,t,e,i){let a=t.borderSkipped;const l={};if(!a){n.borderSkipped=l;return}if(a===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:d,reverse:g,top:y,bottom:T}=z2(n);a==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?a=y:(e._bottom||0)===i?a=T:(l[K0(T,c,d,g)]=!0,a=y)),l[K0(a,c,d,g)]=!0,n.borderSkipped=l}function K0(n,t,e,i){return i?(n=j2(n,t,e),n=X0(n,e,t)):n=X0(n,t,e),n}function j2(n,t,e){return n===t?e:n===e?t:n}function X0(n,t,e){return n==="start"?t:n==="end"?e:n}function U2(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Cf extends ru{parsePrimitiveData(t,e,i,a){return Y0(t,e,i,a)}parseArrayData(t,e,i,a){return Y0(t,e,i,a)}parseObjectData(t,e,i,a){const{iScale:l,vScale:c}=t,{xAxisKey:d="x",yAxisKey:g="y"}=this._parsing,y=l.axis==="x"?d:g,T=c.axis==="x"?d:g,x=[];let w,R,P,k;for(w=i,R=i+a;w<R;++w)k=e[w],P={},P[l.axis]=l.parse($o(k,y),w),x.push(xE($o(k,T),P,c,w));return x}updateRangeFromParsed(t,e,i,a){super.updateRangeFromParsed(t,e,i,a);const l=i._custom;l&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,l.min),t.max=Math.max(t.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:a}=e,l=this.getParsed(t),c=l._custom,d=vg(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(l[a.axis]);return{label:""+i.getLabelForValue(l[i.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,a){const l=a==="reset",{index:c,_cachedMeta:{vScale:d}}=this,g=d.getBasePixel(),y=d.isHorizontal(),T=this._getRuler(),{sharedOptions:x,includeOptions:w}=this._getSharedOptions(e,a);for(let R=e;R<e+i;R++){const P=this.getParsed(R),k=l||Pe(P[d.axis])?{base:g,head:g}:this._calculateBarValuePixels(R),V=this._calculateBarIndexPixels(R,T),K=(P._stacks||{})[d.axis],tt={horizontal:y,base:k.base,enableBorderRadius:!K||vg(P._custom)||c===K._top||c===K._bottom,x:y?k.head:V.center,y:y?V.center:k.head,height:y?V.size:Math.abs(k.size),width:y?Math.abs(k.size):V.size};w&&(tt.options=x||this.resolveDataElementOptions(R,t[R].active?"active":a));const st=tt.options||t[R].options;B2(tt,st,K,c),U2(tt,st,T.ratio),this.updateElement(t[R],R,tt,a)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,a=i.getMatchingVisibleMetas(this._type).filter(T=>T.controller.options.grouped),l=i.options.stacked,c=[],d=this._cachedMeta.controller.getParsed(e),g=d&&d[i.axis],y=T=>{const x=T._parsed.find(R=>R[i.axis]===g),w=x&&x[T.vScale.axis];if(Pe(w)||isNaN(w))return!0};for(const T of a)if(!(e!==void 0&&y(T))&&((l===!1||c.indexOf(T.stack)===-1||l===void 0&&T.stack===void 0)&&c.push(T.stack),T.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const a=this._getStacks(t,i),l=e!==void 0?a.indexOf(e):-1;return l===-1?a.length-1:l}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,a=[];let l,c;for(l=0,c=e.data.length;l<c;++l)a.push(i.getPixelForValue(this.getParsed(l)[i.axis],l));const d=t.barThickness;return{min:d||P2(e),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:d?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:a},options:{base:l,minBarLength:c}}=this,d=l||0,g=this.getParsed(t),y=g._custom,T=vg(y);let x=g[e.axis],w=0,R=i?this.applyStack(e,g,i):x,P,k;R!==x&&(w=R-x,R=x),T&&(x=y.barStart,R=y.barEnd-y.barStart,x!==0&&sr(x)!==sr(y.barEnd)&&(w=0),w+=x);const V=!Pe(l)&&!T?l:w;let K=e.getPixelForValue(V);if(this.chart.getDataVisibility(t)?P=e.getPixelForValue(w+R):P=K,k=P-K,Math.abs(k)<c){k=V2(k,e,d)*c,x===d&&(K-=k/2);const tt=e.getPixelForDecimal(0),st=e.getPixelForDecimal(1),ut=Math.min(tt,st),nt=Math.max(tt,st);K=Math.max(Math.min(K,nt),ut),P=K+k,i&&!T&&(g._stacks[e.axis]._visualValues[a]=e.getValueForPixel(P)-e.getValueForPixel(K))}if(K===e.getPixelForValue(d)){const tt=sr(k)*e.getLineWidthForValue(d)/2;K+=tt,k-=tt}return{size:k,base:K,head:P,center:P+k/2}}_calculateBarIndexPixels(t,e){const i=e.scale,a=this.options,l=a.skipNull,c=re(a.maxBarThickness,1/0);let d,g;if(e.grouped){const y=l?this._getStackCount(t):e.stackCount,T=a.barThickness==="flex"?k2(t,e,a,y):L2(t,e,a,y),x=this._getStackIndex(this.index,this._cachedMeta.stack,l?t:void 0);d=T.start+T.chunk*x+T.chunk/2,g=Math.min(c,T.chunk*T.ratio)}else d=i.getPixelForValue(this.getParsed(t)[i.axis],t),g=Math.min(c,e.min*e.ratio);return{base:d-g/2,head:d+g/2,center:d,size:g}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,a=i.length;let l=0;for(;l<a;++l)this.getParsed(l)[e.axis]!==null&&!i[l].hidden&&i[l].draw(this._ctx)}}It(Cf,"id","bar"),It(Cf,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),It(Cf,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function H2(n,t,e){let i=1,a=1,l=0,c=0;if(t<$e){const d=n,g=d+t,y=Math.cos(d),T=Math.sin(d),x=Math.cos(g),w=Math.sin(g),R=(st,ut,nt)=>zc(st,d,g,!0)?1:Math.max(ut,ut*e,nt,nt*e),P=(st,ut,nt)=>zc(st,d,g,!0)?-1:Math.min(ut,ut*e,nt,nt*e),k=R(0,y,x),V=R(vn,T,w),K=P(fn,y,x),tt=P(fn+vn,T,w);i=(k-K)/2,a=(V-tt)/2,l=-(k+K)/2,c=-(V+tt)/2}return{ratioX:i,ratioY:a,offsetX:l,offsetY:c}}class nu extends ru{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=i;else{let l=g=>+i[g];if(de(i[t])){const{key:g="value"}=this._parsing;l=y=>+$o(i[y],g)}let c,d;for(c=t,d=t+e;c<d;++c)a._parsed[c]=l(c)}}_getRotation(){return Ur(this.options.rotation-90)}_getCircumference(){return Ur(this.options.circumference)}_getRotationExtents(){let t=$e,e=-$e;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const a=this.chart.getDatasetMeta(i).controller,l=a._getRotation(),c=a._getCircumference();t=Math.min(t,l),e=Math.max(e,l+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,a=this._cachedMeta,l=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,d=Math.max((Math.min(i.width,i.height)-c)/2,0),g=Math.min(Xw(this.options.cutout,d),1),y=this._getRingWeight(this.index),{circumference:T,rotation:x}=this._getRotationExtents(),{ratioX:w,ratioY:R,offsetX:P,offsetY:k}=H2(x,T,g),V=(i.width-c)/w,K=(i.height-c)/R,tt=Math.max(Math.min(V,K)/2,0),st=eE(this.options.radius,tt),ut=Math.max(st*g,0),nt=(st-ut)/this._getVisibleDatasetWeightTotal();this.offsetX=P*st,this.offsetY=k*st,a.total=this.calculateTotal(),this.outerRadius=st-nt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-nt*y,0),this.updateElements(l,0,l.length,t)}_circumference(t,e){const i=this.options,a=this._cachedMeta,l=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*l/$e)}updateElements(t,e,i,a){const l=a==="reset",c=this.chart,d=c.chartArea,y=c.options.animation,T=(d.left+d.right)/2,x=(d.top+d.bottom)/2,w=l&&y.animateScale,R=w?0:this.innerRadius,P=w?0:this.outerRadius,{sharedOptions:k,includeOptions:V}=this._getSharedOptions(e,a);let K=this._getRotation(),tt;for(tt=0;tt<e;++tt)K+=this._circumference(tt,l);for(tt=e;tt<e+i;++tt){const st=this._circumference(tt,l),ut=t[tt],nt={x:T+this.offsetX,y:x+this.offsetY,startAngle:K,endAngle:K+st,circumference:st,outerRadius:P,innerRadius:R};V&&(nt.options=k||this.resolveDataElementOptions(tt,ut.active?"active":a)),K+=st,this.updateElement(ut,tt,nt,a)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,a;for(a=0;a<e.length;a++){const l=t._parsed[a];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(a)&&!e[a].hidden&&(i+=Math.abs(l))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?$e*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,a=i.data.labels||[],l=Sp(e._parsed[t],i.options.locale);return{label:a[t]||"",value:l}}getMaxBorderWidth(t){let e=0;const i=this.chart;let a,l,c,d,g;if(!t){for(a=0,l=i.data.datasets.length;a<l;++a)if(i.isDatasetVisible(a)){c=i.getDatasetMeta(a),t=c.data,d=c.controller;break}}if(!t)return 0;for(a=0,l=t.length;a<l;++a)g=d.resolveDataElementOptions(a),g.borderAlign!=="inner"&&(e=Math.max(e,g.borderWidth||0,g.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,a=t.length;i<a;++i){const l=this.resolveDataElementOptions(i);e=Math.max(e,l.offset||0,l.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(re(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}It(nu,"id","doughnut"),It(nu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),It(nu,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),It(nu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:a}}=t.legend.options;return e.labels.map((l,c)=>{const g=t.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:g.backgroundColor,strokeStyle:g.borderColor,fontColor:a,lineWidth:g.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class Hg extends nu{}It(Hg,"id","pie"),It(Hg,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Zo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Pp{constructor(t){It(this,"options");this.options=t||{}}static override(t){Object.assign(Pp.prototype,t)}init(){}formats(){return Zo()}parse(){return Zo()}format(){return Zo()}add(){return Zo()}diff(){return Zo()}startOf(){return Zo()}endOf(){return Zo()}}var F2={_date:Pp};function q2(n,t,e,i){const{controller:a,data:l,_sorted:c}=n,d=a._cachedMeta.iScale,g=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(d&&t===d.axis&&t!=="r"&&c&&l.length){const y=d._reversePixels?cA:Bg;if(i){if(a._sharedOptions){const T=l[0],x=typeof T.getRange=="function"&&T.getRange(t);if(x){const w=y(l,t,e-x),R=y(l,t,e+x);return{lo:w.lo,hi:R.hi}}}}else{const T=y(l,t,e);if(g){const{vScale:x}=a._cachedMeta,{_parsed:w}=n,R=w.slice(0,T.lo+1).reverse().findIndex(k=>!Pe(k[x.axis]));T.lo-=Math.max(0,R);const P=w.slice(T.hi).findIndex(k=>!Pe(k[x.axis]));T.hi+=Math.max(0,P)}return T}}return{lo:0,hi:l.length-1}}function cd(n,t,e,i,a){const l=n.getSortedVisibleDatasetMetas(),c=e[t];for(let d=0,g=l.length;d<g;++d){const{index:y,data:T}=l[d],{lo:x,hi:w}=q2(l[d],t,c,a);for(let R=x;R<=w;++R){const P=T[R];P.skip||i(P,y,R)}}}function Z2(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,a){const l=t?Math.abs(i.x-a.x):0,c=e?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(c,2))}}function bg(n,t,e,i,a){const l=[];return!a&&!n.isPointInArea(t)||cd(n,e,t,function(d,g,y){!a&&!Bc(d,n.chartArea,0)||d.inRange(t.x,t.y,i)&&l.push({element:d,datasetIndex:g,index:y})},!0),l}function G2(n,t,e,i){let a=[];function l(c,d,g){const{startAngle:y,endAngle:T}=c.getProps(["startAngle","endAngle"],i),{angle:x}=sE(c,{x:t.x,y:t.y});zc(x,y,T)&&a.push({element:c,datasetIndex:d,index:g})}return cd(n,e,t,l),a}function Y2(n,t,e,i,a,l){let c=[];const d=Z2(e);let g=Number.POSITIVE_INFINITY;function y(T,x,w){const R=T.inRange(t.x,t.y,a);if(i&&!R)return;const P=T.getCenterPoint(a);if(!(!!l||n.isPointInArea(P))&&!R)return;const V=d(t,P);V<g?(c=[{element:T,datasetIndex:x,index:w}],g=V):V===g&&c.push({element:T,datasetIndex:x,index:w})}return cd(n,e,t,y),c}function Tg(n,t,e,i,a,l){return!l&&!n.isPointInArea(t)?[]:e==="r"&&!i?G2(n,t,e,a):Y2(n,t,e,i,a,l)}function W0(n,t,e,i,a){const l=[],c=e==="x"?"inXRange":"inYRange";let d=!1;return cd(n,e,t,(g,y,T)=>{g[c]&&g[c](t[e],a)&&(l.push({element:g,datasetIndex:y,index:T}),d=d||g.inRange(t.x,t.y,a))}),i&&!d?[]:l}var K2={modes:{index(n,t,e,i){const a=Go(t,n),l=e.axis||"x",c=e.includeInvisible||!1,d=e.intersect?bg(n,a,l,i,c):Tg(n,a,l,!1,i,c),g=[];return d.length?(n.getSortedVisibleDatasetMetas().forEach(y=>{const T=d[0].index,x=y.data[T];x&&!x.skip&&g.push({element:x,datasetIndex:y.index,index:T})}),g):[]},dataset(n,t,e,i){const a=Go(t,n),l=e.axis||"xy",c=e.includeInvisible||!1;let d=e.intersect?bg(n,a,l,i,c):Tg(n,a,l,!1,i,c);if(d.length>0){const g=d[0].datasetIndex,y=n.getDatasetMeta(g).data;d=[];for(let T=0;T<y.length;++T)d.push({element:y[T],datasetIndex:g,index:T})}return d},point(n,t,e,i){const a=Go(t,n),l=e.axis||"xy",c=e.includeInvisible||!1;return bg(n,a,l,i,c)},nearest(n,t,e,i){const a=Go(t,n),l=e.axis||"xy",c=e.includeInvisible||!1;return Tg(n,a,l,e.intersect,i,c)},x(n,t,e,i){const a=Go(t,n);return W0(n,a,"x",e.intersect,i)},y(n,t,e,i){const a=Go(t,n);return W0(n,a,"y",e.intersect,i)}}};const SE=["left","top","right","bottom"];function fc(n,t){return n.filter(e=>e.pos===t)}function Q0(n,t){return n.filter(e=>SE.indexOf(e.pos)===-1&&e.box.axis===t)}function dc(n,t){return n.sort((e,i)=>{const a=t?i:e,l=t?e:i;return a.weight===l.weight?a.index-l.index:a.weight-l.weight})}function X2(n){const t=[];let e,i,a,l,c,d;for(e=0,i=(n||[]).length;e<i;++e)a=n[e],{position:l,options:{stack:c,stackWeight:d=1}}=a,t.push({index:e,box:a,pos:l,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&l+c,stackWeight:d});return t}function W2(n){const t={};for(const e of n){const{stack:i,pos:a,stackWeight:l}=e;if(!i||!SE.includes(a))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}return t}function Q2(n,t){const e=W2(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=t;let l,c,d;for(l=0,c=n.length;l<c;++l){d=n[l];const{fullSize:g}=d.box,y=e[d.stack],T=y&&d.stackWeight/y.weight;d.horizontal?(d.width=T?T*i:g&&t.availableWidth,d.height=a):(d.width=i,d.height=T?T*a:g&&t.availableHeight)}return e}function $2(n){const t=X2(n),e=dc(t.filter(y=>y.box.fullSize),!0),i=dc(fc(t,"left"),!0),a=dc(fc(t,"right")),l=dc(fc(t,"top"),!0),c=dc(fc(t,"bottom")),d=Q0(t,"x"),g=Q0(t,"y");return{fullSize:e,leftAndTop:i.concat(l),rightAndBottom:a.concat(g).concat(c).concat(d),chartArea:fc(t,"chartArea"),vertical:i.concat(a).concat(g),horizontal:l.concat(c).concat(d)}}function $0(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function wE(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function J2(n,t,e,i){const{pos:a,box:l}=e,c=n.maxPadding;if(!de(a)){e.size&&(n[a]-=e.size);const x=i[e.stack]||{size:0,count:1};x.size=Math.max(x.size,e.horizontal?l.height:l.width),e.size=x.size/x.count,n[a]+=e.size}l.getPadding&&wE(c,l.getPadding());const d=Math.max(0,t.outerWidth-$0(c,n,"left","right")),g=Math.max(0,t.outerHeight-$0(c,n,"top","bottom")),y=d!==n.w,T=g!==n.h;return n.w=d,n.h=g,e.horizontal?{same:y,other:T}:{same:T,other:y}}function tC(n){const t=n.maxPadding;function e(i){const a=Math.max(t[i]-n[i],0);return n[i]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function eC(n,t){const e=t.maxPadding;function i(a){const l={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{l[c]=Math.max(t[c],e[c])}),l}return i(n?["left","right"]:["top","bottom"])}function _c(n,t,e,i){const a=[];let l,c,d,g,y,T;for(l=0,c=n.length,y=0;l<c;++l){d=n[l],g=d.box,g.update(d.width||t.w,d.height||t.h,eC(d.horizontal,t));const{same:x,other:w}=J2(t,e,d,i);y|=x&&a.length,T=T||w,g.fullSize||a.push(d)}return y&&_c(a,t,e,i)||T}function mf(n,t,e,i,a){n.top=e,n.left=t,n.right=t+i,n.bottom=e+a,n.width=i,n.height=a}function J0(n,t,e,i){const a=e.padding;let{x:l,y:c}=t;for(const d of n){const g=d.box,y=i[d.stack]||{placed:0,weight:1},T=d.stackWeight/y.weight||1;if(d.horizontal){const x=t.w*T,w=y.size||g.height;Vc(y.start)&&(c=y.start),g.fullSize?mf(g,a.left,c,e.outerWidth-a.right-a.left,w):mf(g,t.left+y.placed,c,x,w),y.start=c,y.placed+=x,c=g.bottom}else{const x=t.h*T,w=y.size||g.width;Vc(y.start)&&(l=y.start),g.fullSize?mf(g,l,a.top,w,e.outerHeight-a.bottom-a.top):mf(g,l,t.top+y.placed,w,x),y.start=l,y.placed+=x,l=g.right}}t.x=l,t.y=c}var Ha={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const a=Ls(n.options.layout.padding),l=Math.max(t-a.width,0),c=Math.max(e-a.height,0),d=$2(n.boxes),g=d.vertical,y=d.horizontal;we(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const T=g.reduce((k,V)=>V.box.options&&V.box.options.display===!1?k:k+1,0)||1,x=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:l,availableHeight:c,vBoxMaxWidth:l/2/T,hBoxMaxHeight:c/2}),w=Object.assign({},a);wE(w,Ls(i));const R=Object.assign({maxPadding:w,w:l,h:c,x:a.left,y:a.top},a),P=Q2(g.concat(y),x);_c(d.fullSize,R,x,P),_c(g,R,x,P),_c(y,R,x,P)&&_c(g,R,x,P),tC(R),J0(d.leftAndTop,R,x,P),R.x+=R.w,R.y+=R.h,J0(d.rightAndBottom,R,x,P),n.chartArea={left:R.left,top:R.top,right:R.left+R.w,bottom:R.top+R.h,height:R.h,width:R.w},we(d.chartArea,k=>{const V=k.box;Object.assign(V,n.chartArea),V.update(R.w,R.h,{left:0,top:0,right:0,bottom:0})})}};class AE{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,a){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):i)}}isAttached(t){return!0}updateConfig(t){}}class nC extends AE{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Rf="$chartjs",iC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tb=n=>n===null||n==="";function sC(n,t){const e=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[Rf]={initial:{height:i,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",tb(a)){const l=V0(n,"width");l!==void 0&&(n.width=l)}if(tb(i))if(n.style.height==="")n.height=n.width/(t||2);else{const l=V0(n,"height");l!==void 0&&(n.height=l)}return n}const CE=i2?{passive:!0}:!1;function rC(n,t,e){n&&n.addEventListener(t,e,CE)}function aC(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,CE)}function oC(n,t){const e=iC[n.type]||n.type,{x:i,y:a}=Go(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:a!==void 0?a:null}}function Zf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function lC(n,t,e){const i=n.canvas,a=new MutationObserver(l=>{let c=!1;for(const d of l)c=c||Zf(d.addedNodes,i),c=c&&!Zf(d.removedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function uC(n,t,e){const i=n.canvas,a=new MutationObserver(l=>{let c=!1;for(const d of l)c=c||Zf(d.removedNodes,i),c=c&&!Zf(d.addedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const jc=new Map;let eb=0;function RE(){const n=window.devicePixelRatio;n!==eb&&(eb=n,jc.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function cC(n,t){jc.size||window.addEventListener("resize",RE),jc.set(n,t)}function hC(n){jc.delete(n),jc.size||window.removeEventListener("resize",RE)}function fC(n,t,e){const i=n.canvas,a=i&&Op(i);if(!a)return;const l=lE((d,g)=>{const y=a.clientWidth;e(d,g),y<a.clientWidth&&e()},window),c=new ResizeObserver(d=>{const g=d[0],y=g.contentRect.width,T=g.contentRect.height;y===0&&T===0||l(y,T)});return c.observe(a),cC(n,l),c}function Eg(n,t,e){e&&e.disconnect(),t==="resize"&&hC(n)}function dC(n,t,e){const i=n.canvas,a=lE(l=>{n.ctx!==null&&e(oC(l,n))},n);return rC(i,t,a),a}class mC extends AE{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(sC(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Rf])return!1;const i=e[Rf].initial;["height","width"].forEach(l=>{const c=i[l];Pe(c)?e.removeAttribute(l):e.setAttribute(l,c)});const a=i.style||{};return Object.keys(a).forEach(l=>{e.style[l]=a[l]}),e.width=e.width,delete e[Rf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),c={attach:lC,detach:uC,resize:fC}[e]||dC;a[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),a=i[e];if(!a)return;({attach:Eg,detach:Eg,resize:Eg}[e]||aC)(t,e,a),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,a){return n2(t,e,i,a)}isAttached(t){const e=t&&Op(t);return!!(e&&e.isConnected)}}function gC(n){return!Ip()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?nC:mC}var Af;let ro=(Af=class{constructor(){It(this,"x");It(this,"y");It(this,"active",!1);It(this,"options");It(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Uf(this.x)&&Uf(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const a={};return t.forEach(l=>{a[l]=i[l]&&i[l].active()?i[l]._to:this[l]}),a}},It(Af,"defaults",{}),It(Af,"defaultRoutes"),Af);function pC(n,t){const e=n.options.ticks,i=_C(n),a=Math.min(e.maxTicksLimit||i,i),l=e.major.enabled?vC(t):[],c=l.length,d=l[0],g=l[c-1],y=[];if(c>a)return bC(t,y,l,c/a),y;const T=yC(l,t,a);if(c>0){let x,w;const R=c>1?Math.round((g-d)/(c-1)):null;for(gf(t,y,T,Pe(R)?0:d-R,d),x=0,w=c-1;x<w;x++)gf(t,y,T,l[x],l[x+1]);return gf(t,y,T,g,Pe(R)?t.length:g+R),y}return gf(t,y,T),y}function _C(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(i,a))}function yC(n,t,e){const i=TC(n),a=t.length/e;if(!i)return Math.max(a,1);const l=iA(i);for(let c=0,d=l.length-1;c<d;c++){const g=l[c];if(g>a)return g}return Math.max(a,1)}function vC(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function bC(n,t,e,i){let a=0,l=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===l&&(t.push(n[c]),a++,l=e[a*i])}function gf(n,t,e,i,a){const l=re(i,0),c=Math.min(re(a,n.length),n.length);let d=0,g,y,T;for(e=Math.ceil(e),a&&(g=a-i,e=g/Math.floor(g/e)),T=l;T<0;)d++,T=Math.round(l+d*e);for(y=Math.max(l,0);y<c;y++)y===T&&(t.push(n[y]),d++,T=Math.round(l+d*e))}function TC(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const EC=n=>n==="left"?"right":n==="right"?"left":n,nb=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,ib=(n,t)=>Math.min(t||n,n);function sb(n,t){const e=[],i=n.length/t,a=n.length;let l=0;for(;l<a;l+=i)e.push(n[Math.floor(l)]);return e}function xC(n,t,e){const i=n.ticks.length,a=Math.min(t,i-1),l=n._startPixel,c=n._endPixel,d=1e-6;let g=n.getPixelForTick(a),y;if(!(e&&(i===1?y=Math.max(g-l,c-g):t===0?y=(n.getPixelForTick(1)-g)/2:y=(g-n.getPixelForTick(a-1))/2,g+=a<t?y:-y,g<l-d||g>c+d)))return g}function SC(n,t){we(n,e=>{const i=e.gc,a=i.length/2;let l;if(a>t){for(l=0;l<a;++l)delete e.data[i[l]];i.splice(0,a)}})}function mc(n){return n.drawTicks?n.tickLength:0}function rb(n,t){if(!n.display)return 0;const e=Ei(n.font,t),i=Ls(n.padding);return(Pn(n.text)?n.text.length:1)*e.lineHeight+i.height}function wC(n,t){return rl(n,{scale:t,type:"scale"})}function AC(n,t,e){return rl(n,{tick:e,index:t,type:"tick"})}function CC(n,t,e){let i=uE(n);return(e&&t!=="right"||!e&&t==="right")&&(i=EC(i)),i}function RC(n,t,e,i){const{top:a,left:l,bottom:c,right:d,chart:g}=n,{chartArea:y,scales:T}=g;let x=0,w,R,P;const k=c-a,V=d-l;if(n.isHorizontal()){if(R=Fi(i,l,d),de(e)){const K=Object.keys(e)[0],tt=e[K];P=T[K].getPixelForValue(tt)+k-t}else e==="center"?P=(y.bottom+y.top)/2+k-t:P=nb(n,e,t);w=d-l}else{if(de(e)){const K=Object.keys(e)[0],tt=e[K];R=T[K].getPixelForValue(tt)-V+t}else e==="center"?R=(y.left+y.right)/2-V+t:R=nb(n,e,t);P=Fi(i,c,a),x=e==="left"?-vn:vn}return{titleX:R,titleY:P,maxWidth:w,rotation:x}}class pu extends ro{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:a}=this;return t=tr(t,Number.POSITIVE_INFINITY),e=tr(e,Number.NEGATIVE_INFINITY),i=tr(i,Number.POSITIVE_INFINITY),a=tr(a,Number.NEGATIVE_INFINITY),{min:tr(t,i),max:tr(e,a),minDefined:ds(t),maxDefined:ds(e)}}getMinMax(t){let{min:e,max:i,minDefined:a,maxDefined:l}=this.getUserBounds(),c;if(a&&l)return{min:e,max:i};const d=this.getMatchingVisibleMetas();for(let g=0,y=d.length;g<y;++g)c=d[g].controller.getMinMax(this,t),a||(e=Math.min(e,c.min)),l||(i=Math.max(i,c.max));return e=l&&e>i?i:e,i=a&&e>i?e:i,{min:tr(e,tr(i,e)),max:tr(i,tr(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ue(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:a,grace:l,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=LA(this,l,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const g=d<this.ticks.length;this._convertTicksToLabels(g?sb(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=pC(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),g&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ue(this.options.afterUpdate,[this])}beforeSetDimensions(){Ue(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ue(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ue(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ue(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,a,l;for(i=0,a=t.length;i<a;i++)l=t[i],l.label=Ue(e.callback,[l.value,i,t],this)}afterTickToLabelConversion(){Ue(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ue(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=ib(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,l=e.maxRotation;let c=a,d,g,y;if(!this._isVisible()||!e.display||a>=l||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const T=this._getLabelSizes(),x=T.widest.width,w=T.highest.height,R=Ti(this.chart.width-x,0,this.maxWidth);d=t.offset?this.maxWidth/i:R/(i-1),x+6>d&&(d=R/(i-(t.offset?.5:1)),g=this.maxHeight-mc(t.grid)-e.padding-rb(t.title,this.chart.options.font),y=Math.sqrt(x*x+w*w),c=oA(Math.min(Math.asin(Ti((T.highest.height+6)/d,-1,1)),Math.asin(Ti(g/y,-1,1))-Math.asin(Ti(w/y,-1,1)))),c=Math.max(a,Math.min(l,c))),this.labelRotation=c}afterCalculateLabelRotation(){Ue(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ue(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:a,grid:l}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const g=rb(a,e.options.font);if(d?(t.width=this.maxWidth,t.height=mc(l)+g):(t.height=this.maxHeight,t.width=mc(l)+g),i.display&&this.ticks.length){const{first:y,last:T,widest:x,highest:w}=this._getLabelSizes(),R=i.padding*2,P=Ur(this.labelRotation),k=Math.cos(P),V=Math.sin(P);if(d){const K=i.mirror?0:V*x.width+k*w.height;t.height=Math.min(this.maxHeight,t.height+K+R)}else{const K=i.mirror?0:k*x.width+V*w.height;t.width=Math.min(this.maxWidth,t.width+K+R)}this._calculatePadding(y,T,V,k)}}this._handleMargins(),d?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,a){const{ticks:{align:l,padding:c},position:d}=this.options,g=this.labelRotation!==0,y=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const T=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,R=0;g?y?(w=a*t.width,R=i*e.height):(w=i*t.height,R=a*e.width):l==="start"?R=e.width:l==="end"?w=t.width:l!=="inner"&&(w=t.width/2,R=e.width/2),this.paddingLeft=Math.max((w-T+c)*this.width/(this.width-T),0),this.paddingRight=Math.max((R-x+c)*this.width/(this.width-x),0)}else{let T=e.height/2,x=t.height/2;l==="start"?(T=0,x=t.height):l==="end"&&(T=e.height,x=0),this.paddingTop=T+c,this.paddingBottom=x+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ue(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Pe(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=sb(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:a,_longestTextCache:l}=this,c=[],d=[],g=Math.floor(e/ib(e,i));let y=0,T=0,x,w,R,P,k,V,K,tt,st,ut,nt;for(x=0;x<e;x+=g){if(P=t[x].label,k=this._resolveTickFontOptions(x),a.font=V=k.string,K=l[V]=l[V]||{data:{},gc:[]},tt=k.lineHeight,st=ut=0,!Pe(P)&&!Pn(P))st=O0(a,K.data,K.gc,st,P),ut=tt;else if(Pn(P))for(w=0,R=P.length;w<R;++w)nt=P[w],!Pe(nt)&&!Pn(nt)&&(st=O0(a,K.data,K.gc,st,nt),ut+=tt);c.push(st),d.push(ut),y=Math.max(st,y),T=Math.max(ut,T)}SC(l,e);const ht=c.indexOf(y),B=d.indexOf(T),O=N=>({width:c[N]||0,height:d[N]||0});return{first:O(0),last:O(e-1),widest:O(ht),highest:O(B),widths:c,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return uA(this._alignToPixels?qo(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=AC(this.getContext(),t,i))}return this.$context||(this.$context=wC(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ur(this.labelRotation),i=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),l=this._getLabelSizes(),c=t.autoSkipPadding||0,d=l?l.widest.width+c:0,g=l?l.highest.height+c:0;return this.isHorizontal()?g*i>d*a?d/i:g/a:g*a<d*i?g/i:d/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,a=this.options,{grid:l,position:c,border:d}=a,g=l.offset,y=this.isHorizontal(),x=this.ticks.length+(g?1:0),w=mc(l),R=[],P=d.setContext(this.getContext()),k=P.display?P.width:0,V=k/2,K=function($){return qo(i,$,k)};let tt,st,ut,nt,ht,B,O,N,H,U,Z,j;if(c==="top")tt=K(this.bottom),B=this.bottom-w,N=tt-V,U=K(t.top)+V,j=t.bottom;else if(c==="bottom")tt=K(this.top),U=t.top,j=K(t.bottom)-V,B=tt+V,N=this.top+w;else if(c==="left")tt=K(this.right),ht=this.right-w,O=tt-V,H=K(t.left)+V,Z=t.right;else if(c==="right")tt=K(this.left),H=t.left,Z=K(t.right)-V,ht=tt+V,O=this.left+w;else if(e==="x"){if(c==="center")tt=K((t.top+t.bottom)/2+.5);else if(de(c)){const $=Object.keys(c)[0],_t=c[$];tt=K(this.chart.scales[$].getPixelForValue(_t))}U=t.top,j=t.bottom,B=tt+V,N=B+w}else if(e==="y"){if(c==="center")tt=K((t.left+t.right)/2);else if(de(c)){const $=Object.keys(c)[0],_t=c[$];tt=K(this.chart.scales[$].getPixelForValue(_t))}ht=tt-V,O=ht-w,H=t.left,Z=t.right}const Ut=re(a.ticks.maxTicksLimit,x),Ot=Math.max(1,Math.ceil(x/Ut));for(st=0;st<x;st+=Ot){const $=this.getContext(st),_t=l.setContext($),dt=d.setContext($),kt=_t.lineWidth,z=_t.color,lt=dt.dash||[],vt=dt.dashOffset,mt=_t.tickWidth,xt=_t.tickColor,St=_t.tickBorderDash||[],Tt=_t.tickBorderDashOffset;ut=xC(this,st,g),ut!==void 0&&(nt=qo(i,ut,kt),y?ht=O=H=Z=nt:B=N=U=j=nt,R.push({tx1:ht,ty1:B,tx2:O,ty2:N,x1:H,y1:U,x2:Z,y2:j,width:kt,color:z,borderDash:lt,borderDashOffset:vt,tickWidth:mt,tickColor:xt,tickBorderDash:St,tickBorderDashOffset:Tt}))}return this._ticksLength=x,this._borderValue=tt,R}_computeLabelItems(t){const e=this.axis,i=this.options,{position:a,ticks:l}=i,c=this.isHorizontal(),d=this.ticks,{align:g,crossAlign:y,padding:T,mirror:x}=l,w=mc(i.grid),R=w+T,P=x?-T:R,k=-Ur(this.labelRotation),V=[];let K,tt,st,ut,nt,ht,B,O,N,H,U,Z,j="middle";if(a==="top")ht=this.bottom-P,B=this._getXAxisLabelAlignment();else if(a==="bottom")ht=this.top+P,B=this._getXAxisLabelAlignment();else if(a==="left"){const Ot=this._getYAxisLabelAlignment(w);B=Ot.textAlign,nt=Ot.x}else if(a==="right"){const Ot=this._getYAxisLabelAlignment(w);B=Ot.textAlign,nt=Ot.x}else if(e==="x"){if(a==="center")ht=(t.top+t.bottom)/2+R;else if(de(a)){const Ot=Object.keys(a)[0],$=a[Ot];ht=this.chart.scales[Ot].getPixelForValue($)+R}B=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")nt=(t.left+t.right)/2-R;else if(de(a)){const Ot=Object.keys(a)[0],$=a[Ot];nt=this.chart.scales[Ot].getPixelForValue($)}B=this._getYAxisLabelAlignment(w).textAlign}e==="y"&&(g==="start"?j="top":g==="end"&&(j="bottom"));const Ut=this._getLabelSizes();for(K=0,tt=d.length;K<tt;++K){st=d[K],ut=st.label;const Ot=l.setContext(this.getContext(K));O=this.getPixelForTick(K)+l.labelOffset,N=this._resolveTickFontOptions(K),H=N.lineHeight,U=Pn(ut)?ut.length:1;const $=U/2,_t=Ot.color,dt=Ot.textStrokeColor,kt=Ot.textStrokeWidth;let z=B;c?(nt=O,B==="inner"&&(K===tt-1?z=this.options.reverse?"left":"right":K===0?z=this.options.reverse?"right":"left":z="center"),a==="top"?y==="near"||k!==0?Z=-U*H+H/2:y==="center"?Z=-Ut.highest.height/2-$*H+H:Z=-Ut.highest.height+H/2:y==="near"||k!==0?Z=H/2:y==="center"?Z=Ut.highest.height/2-$*H:Z=Ut.highest.height-U*H,x&&(Z*=-1),k!==0&&!Ot.showLabelBackdrop&&(nt+=H/2*Math.sin(k))):(ht=O,Z=(1-U)*H/2);let lt;if(Ot.showLabelBackdrop){const vt=Ls(Ot.backdropPadding),mt=Ut.heights[K],xt=Ut.widths[K];let St=Z-vt.top,Tt=0-vt.left;switch(j){case"middle":St-=mt/2;break;case"bottom":St-=mt;break}switch(B){case"center":Tt-=xt/2;break;case"right":Tt-=xt;break;case"inner":K===tt-1?Tt-=xt:K>0&&(Tt-=xt/2);break}lt={left:Tt,top:St,width:xt+vt.width,height:mt+vt.height,color:Ot.backdropColor}}V.push({label:ut,font:N,textOffset:Z,options:{rotation:k,color:_t,strokeColor:dt,strokeWidth:kt,textAlign:z,textBaseline:j,translation:[nt,ht],backdrop:lt}})}return V}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ur(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:a,padding:l}}=this.options,c=this._getLabelSizes(),d=t+l,g=c.widest.width;let y,T;return e==="left"?a?(T=this.right+l,i==="near"?y="left":i==="center"?(y="center",T+=g/2):(y="right",T+=g)):(T=this.right-d,i==="near"?y="right":i==="center"?(y="center",T-=g/2):(y="left",T=this.left)):e==="right"?a?(T=this.left+l,i==="near"?y="right":i==="center"?(y="center",T-=g/2):(y="left",T-=g)):(T=this.left+d,i==="near"?y="left":i==="center"?(y="center",T+=g/2):(y="right",T=this.right)):y="right",{textAlign:y,x:T}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:a,width:l,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,a,l,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(l=>l.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let l,c;const d=(g,y,T)=>{!T.width||!T.color||(i.save(),i.lineWidth=T.width,i.strokeStyle=T.color,i.setLineDash(T.borderDash||[]),i.lineDashOffset=T.borderDashOffset,i.beginPath(),i.moveTo(g.x,g.y),i.lineTo(y.x,y.y),i.stroke(),i.restore())};if(e.display)for(l=0,c=a.length;l<c;++l){const g=a[l];e.drawOnChartArea&&d({x:g.x1,y:g.y1},{x:g.x2,y:g.y2},g),e.drawTicks&&d({x:g.tx1,y:g.ty1},{x:g.tx2,y:g.ty2},{color:g.tickColor,width:g.tickWidth,borderDash:g.tickBorderDash,borderDashOffset:g.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:a}}=this,l=i.setContext(this.getContext()),c=i.display?l.width:0;if(!c)return;const d=a.setContext(this.getContext(0)).lineWidth,g=this._borderValue;let y,T,x,w;this.isHorizontal()?(y=qo(t,this.left,c)-c/2,T=qo(t,this.right,d)+d/2,x=w=g):(x=qo(t,this.top,c)-c/2,w=qo(t,this.bottom,d)+d/2,y=T=g),e.save(),e.lineWidth=l.width,e.strokeStyle=l.color,e.beginPath(),e.moveTo(y,x),e.lineTo(T,w),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&wp(i,a);const l=this.getLabelItems(t);for(const c of l){const d=c.options,g=c.font,y=c.label,T=c.textOffset;Hf(i,y,0,T,g,d)}a&&Ap(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:a}}=this;if(!i.display)return;const l=Ei(i.font),c=Ls(i.padding),d=i.align;let g=l.lineHeight/2;e==="bottom"||e==="center"||de(e)?(g+=c.bottom,Pn(i.text)&&(g+=l.lineHeight*(i.text.length-1))):g+=c.top;const{titleX:y,titleY:T,maxWidth:x,rotation:w}=RC(this,g,e,d);Hf(t,i.text,0,0,l,{color:i.color,maxWidth:x,rotation:w,textAlign:CC(d,e,a),textBaseline:"middle",translation:[y,T]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=re(t.grid&&t.grid.z,-1),a=re(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==pu.prototype.draw?[{z:e,draw:l=>{this.draw(l)}}]:[{z:i,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let l,c;for(l=0,c=e.length;l<c;++l){const d=e[l];d[i]===this.id&&(!t||d.type===t)&&a.push(d)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ei(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class pf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;IC(e)&&(i=this.register(e));const a=this.items,l=t.id,c=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+t);return l in a||(a[l]=t,MC(t,c,i),this.override&&rn.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,a=this.scope;i in e&&delete e[i],a&&i in rn[a]&&(delete rn[a][i],this.override&&delete Jo[i])}}function MC(n,t,e){const i=Nc(Object.create(null),[e?rn.get(e):{},rn.get(t),n.defaults]);rn.set(t,i),n.defaultRoutes&&DC(t,n.defaultRoutes),n.descriptors&&rn.describe(t,n.descriptors)}function DC(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),a=i.pop(),l=[n].concat(i).join("."),c=t[e].split("."),d=c.pop(),g=c.join(".");rn.route(l,a,g,d)})}function IC(n){return"id"in n&&"defaults"in n}class OC{constructor(){this.controllers=new pf(ru,"datasets",!0),this.elements=new pf(ro,"elements"),this.plugins=new pf(Object,"plugins"),this.scales=new pf(pu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(a=>{const l=i||this._getRegistryForType(a);i||l.isForType(a)||l===this.plugins&&a.id?this._exec(t,l,a):we(a,c=>{const d=i||this._getRegistryForType(c);this._exec(t,d,c)})})}_exec(t,e,i){const a=Tp(t);Ue(i["before"+a],[],i),e[t](i),Ue(i["after"+a],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return a}}var nr=new OC;class PC{constructor(){this._init=[]}notify(t,e,i,a){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const l=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(l,t,e,i);return e==="afterDestroy"&&(this._notify(l,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,a){a=a||{};for(const l of t){const c=l.plugin,d=c[i],g=[e,a,l.options];if(Ue(d,g,c)===!1&&a.cancelable)return!1}return!0}invalidate(){Pe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,a=re(i.options&&i.options.plugins,{}),l=LC(i);return a===!1&&!e?[]:NC(t,l,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,a=(l,c)=>l.filter(d=>!c.some(g=>d.plugin.id===g.plugin.id));this._notify(a(e,i),t,"stop"),this._notify(a(i,e),t,"start")}}function LC(n){const t={},e=[],i=Object.keys(nr.plugins.items);for(let l=0;l<i.length;l++)e.push(nr.getPlugin(i[l]));const a=n.plugins||[];for(let l=0;l<a.length;l++){const c=a[l];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function kC(n,t){return!t&&n===!1?null:n===!0?{}:n}function NC(n,{plugins:t,localIds:e},i,a){const l=[],c=n.getContext();for(const d of t){const g=d.id,y=kC(i[g],a);y!==null&&l.push({plugin:d,options:VC(n.config,{plugin:d,local:e[g]},y,c)})}return l}function VC(n,{plugin:t,local:e},i,a){const l=n.pluginScopeKeys(t),c=n.getOptionScopes(i,l);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Fg(n,t){const e=rn.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function zC(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function BC(n,t){return n===t?"_index_":"_value_"}function ab(n){if(n==="x"||n==="y"||n==="r")return n}function jC(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function qg(n,...t){if(ab(n))return n;for(const e of t){const i=e.axis||jC(e.position)||n.length>1&&ab(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function ob(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function UC(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return ob(n,"x",e[0])||ob(n,"y",e[0])}return{}}function HC(n,t){const e=Jo[n.type]||{scales:{}},i=t.scales||{},a=Fg(n.type,t),l=Object.create(null);return Object.keys(i).forEach(c=>{const d=i[c];if(!de(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const g=qg(c,d,UC(c,n),rn.scales[d.type]),y=BC(g,a),T=e.scales||{};l[c]=wc(Object.create(null),[{axis:g},d,T[g],T[y]])}),n.data.datasets.forEach(c=>{const d=c.type||n.type,g=c.indexAxis||Fg(d,t),T=(Jo[d]||{}).scales||{};Object.keys(T).forEach(x=>{const w=zC(x,g),R=c[w+"AxisID"]||w;l[R]=l[R]||Object.create(null),wc(l[R],[{axis:w},i[R],T[x]])})}),Object.keys(l).forEach(c=>{const d=l[c];wc(d,[rn.scales[d.type],rn.scale])}),l}function ME(n){const t=n.options||(n.options={});t.plugins=re(t.plugins,{}),t.scales=HC(n,t)}function DE(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function FC(n){return n=n||{},n.data=DE(n.data),ME(n),n}const lb=new Map,IE=new Set;function _f(n,t){let e=lb.get(n);return e||(e=t(),lb.set(n,e),IE.add(e)),e}const gc=(n,t,e)=>{const i=$o(t,e);i!==void 0&&n.add(i)};class qC{constructor(t){this._config=FC(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=DE(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),ME(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return _f(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return _f(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return _f(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return _f(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let a=i.get(t);return(!a||e)&&(a=new Map,i.set(t,a)),a}getOptionScopes(t,e,i){const{options:a,type:l}=this,c=this._cachedScopes(t,i),d=c.get(e);if(d)return d;const g=new Set;e.forEach(T=>{t&&(g.add(t),T.forEach(x=>gc(g,t,x))),T.forEach(x=>gc(g,a,x)),T.forEach(x=>gc(g,Jo[l]||{},x)),T.forEach(x=>gc(g,rn,x)),T.forEach(x=>gc(g,jg,x))});const y=Array.from(g);return y.length===0&&y.push(Object.create(null)),IE.has(e)&&c.set(e,y),y}chartOptionScopes(){const{options:t,type:e}=this;return[t,Jo[e]||{},rn.datasets[e]||{},{type:e},rn,jg]}resolveNamedOptions(t,e,i,a=[""]){const l={$shared:!0},{resolver:c,subPrefixes:d}=ub(this._resolverCache,t,a);let g=c;if(GC(c,e)){l.$shared=!1,i=Qa(i)?i():i;const y=this.createResolver(t,i,d);g=ou(c,i,y)}for(const y of e)l[y]=g[y];return l}createResolver(t,e,i=[""],a){const{resolver:l}=ub(this._resolverCache,t,i);return de(e)?ou(l,e,void 0,a):l}}function ub(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const a=e.join();let l=i.get(a);return l||(l={resolver:Rp(t,e),subPrefixes:e.filter(d=>!d.toLowerCase().includes("hover"))},i.set(a,l)),l}const ZC=n=>de(n)&&Object.getOwnPropertyNames(n).some(t=>Qa(n[t]));function GC(n,t){const{isScriptable:e,isIndexable:i}=dE(n);for(const a of t){const l=e(a),c=i(a),d=(c||l)&&n[a];if(l&&(Qa(d)||ZC(d))||c&&Pn(d))return!0}return!1}var YC="4.4.9";const KC=["top","bottom","left","right","chartArea"];function cb(n,t){return n==="top"||n==="bottom"||KC.indexOf(n)===-1&&t==="x"}function hb(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function fb(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Ue(e&&e.onComplete,[n],t)}function XC(n){const t=n.chart,e=t.options.animation;Ue(e&&e.onProgress,[n],t)}function OE(n){return Ip()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Mf={},db=n=>{const t=OE(n);return Object.values(Mf).filter(e=>e.canvas===t).pop()};function WC(n,t,e){const i=Object.keys(n);for(const a of i){const l=+a;if(l>=t){const c=n[a];delete n[a],(e>0||l>t)&&(n[l+e]=c)}}}function QC(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}var za;let hd=(za=class{static register(...t){nr.add(...t),mb()}static unregister(...t){nr.remove(...t),mb()}constructor(t,e){const i=this.config=new qC(e),a=OE(t),l=db(a);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||gC(a)),this.platform.updateConfig(i);const d=this.platform.acquireContext(a,c.aspectRatio),g=d&&d.canvas,y=g&&g.height,T=g&&g.width;if(this.id=Kw(),this.ctx=d,this.canvas=g,this.width=T,this.height=y,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PC,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=dA(x=>this.update(x),c.resizeDelay||0),this._dataChanges=[],Mf[this.id]=this,!d||!g){console.error("Failed to create chart: can't acquire context from the given item");return}zr.listen(this,"complete",fb),zr.listen(this,"progress",XC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:a,_aspectRatio:l}=this;return Pe(t)?e&&l?l:a?i/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return nr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():N0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return P0(this.canvas,this.ctx),this}stop(){return zr.stop(this),this}resize(t,e){zr.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.canvas,l=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,e,l),d=i.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,N0(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),Ue(i.onResize,[this,c],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};we(e,(i,a)=>{i.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,a=Object.keys(i).reduce((c,d)=>(c[d]=!1,c),{});let l=[];e&&(l=l.concat(Object.keys(e).map(c=>{const d=e[c],g=qg(c,d),y=g==="r",T=g==="x";return{options:d,dposition:y?"chartArea":T?"bottom":"left",dtype:y?"radialLinear":T?"category":"linear"}}))),we(l,c=>{const d=c.options,g=d.id,y=qg(g,d),T=re(d.type,c.dtype);(d.position===void 0||cb(d.position,y)!==cb(c.dposition))&&(d.position=c.dposition),a[g]=!0;let x=null;if(g in i&&i[g].type===T)x=i[g];else{const w=nr.getScale(T);x=new w({id:g,type:T,ctx:this.ctx,chart:this}),i[x.id]=x}x.init(d,t)}),we(a,(c,d)=>{c||delete i[d]}),we(i,c=>{Ha.configure(this,c,c.options),Ha.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((a,l)=>a.index-l.index),i>e){for(let a=e;a<i;++a)this._destroyDatasetMeta(a);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(hb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,a)=>{e.filter(l=>l===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=e.length;i<a;i++){const l=e[i];let c=this.getDatasetMeta(i);const d=l.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=d,c.indexAxis=l.indexAxis||Fg(d,this.options),c.order=l.order||0,c.index=i,c.label=""+l.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const g=nr.getController(d),{datasetElementType:y,dataElementType:T}=rn.datasets[d];Object.assign(g,{dataElementType:nr.getElement(T),datasetElementType:y&&nr.getElement(y)}),c.controller=new g(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){we(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let y=0,T=this.data.datasets.length;y<T;y++){const{controller:x}=this.getDatasetMeta(y),w=!a&&l.indexOf(x)===-1;x.buildOrUpdateElements(w),c=Math.max(+x.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),a||we(l,y=>{y.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(hb("z","_idx"));const{_active:d,_lastEvent:g}=this;g?this._eventHandler(g,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){we(this.scales,t=>{Ha.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!x0(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:l}of e){const c=i==="_removeElements"?-l:l;WC(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=l=>new Set(t.filter(c=>c[0]===l).map((c,d)=>d+","+c.splice(1).join(","))),a=i(0);for(let l=1;l<e;l++)if(!x0(a,i(l)))return;return Array.from(a).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ha.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],we(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,l)=>{a._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Qa(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),a={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zr.has(this)?this.attached&&!zr.running(this)&&zr.start(this):(this.draw(),fb({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let a,l;for(a=0,l=e.length;a<l;++a){const c=e[a];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},a=_2(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&wp(e,a),t.controller.draw(),a&&Ap(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Bc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,a){const l=K2.modes[e];return typeof l=="function"?l(this,t,i,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let a=i.filter(l=>l&&l._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=rl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const a=i?"show":"hide",l=this.getDatasetMeta(t),c=l.controller._resolveAnimations(void 0,a);Vc(e)?(l.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(l,{visible:i}),this.update(d=>d.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),zr.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),P0(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Mf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},a=(l,c,d)=>{l.offsetX=c,l.offsetY=d,this._eventHandler(l)};we(this.options.events,l=>i(l,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(g,y)=>{e.addEventListener(this,g,y),t[g]=y},a=(g,y)=>{t[g]&&(e.removeEventListener(this,g,y),delete t[g])},l=(g,y)=>{this.canvas&&this.resize(g,y)};let c;const d=()=>{a("attach",d),this.attached=!0,this.resize(),i("resize",l),i("detach",c)};c=()=>{this.attached=!1,a("resize",l),this._stop(),this._resize(0,0),i("attach",d)},e.isAttached(this.canvas)?d():c()}unbindEvents(){we(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},we(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const a=i?"set":"remove";let l,c,d,g;for(e==="dataset"&&(l=this.getDatasetMeta(t[0].datasetIndex),l.controller["_"+a+"DatasetHoverStyle"]()),d=0,g=t.length;d<g;++d){c=t[d];const y=c&&this.getDatasetMeta(c.datasetIndex).controller;y&&y[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:l,index:c})=>{const d=this.getDatasetMeta(l);if(!d)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:d.data[c],index:c}});!zf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const a=this.options.hover,l=(g,y)=>g.filter(T=>!y.some(x=>T.datasetIndex===x.datasetIndex&&T.index===x.index)),c=l(e,t),d=i?t:l(t,e);c.length&&this.updateHoverStyle(c,a.mode,!1),d.length&&a.mode&&this.updateHoverStyle(d,a.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const l=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(l||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:a=[],options:l}=this,c=e,d=this._getActiveElements(t,a,i,c),g=tA(t),y=QC(t,this._lastEvent,i,g);i&&(this._lastEvent=null,Ue(l.onHover,[t,d,this],this),g&&Ue(l.onClick,[t,d,this],this));const T=!zf(d,a);return(T||e)&&(this._active=d,this._updateHoverStyles(d,a,e)),this._lastEvent=y,T}_getActiveElements(t,e,i,a){if(t.type==="mouseout")return[];if(!i)return e;const l=this.options.hover;return this.getElementsAtEventForMode(t,l.mode,l,a)}},It(za,"defaults",rn),It(za,"instances",Mf),It(za,"overrides",Jo),It(za,"registry",nr),It(za,"version",YC),It(za,"getChart",db),za);function mb(){return we(hd.instances,n=>n._plugins.invalidate())}function $C(n,t,e){const{startAngle:i,pixelMargin:a,x:l,y:c,outerRadius:d,innerRadius:g}=t;let y=a/d;n.beginPath(),n.arc(l,c,d,i-y,e+y),g>a?(y=a/g,n.arc(l,c,g,e+y,i-y,!0)):n.arc(l,c,a,e+vn,i-vn),n.closePath(),n.clip()}function JC(n){return Cp(n,["outerStart","outerEnd","innerStart","innerEnd"])}function tR(n,t,e,i){const a=JC(n.options.borderRadius),l=(e-t)/2,c=Math.min(l,i*t/2),d=g=>{const y=(e-Math.min(l,g))*i/2;return Ti(g,0,Math.min(l,y))};return{outerStart:d(a.outerStart),outerEnd:d(a.outerEnd),innerStart:Ti(a.innerStart,0,c),innerEnd:Ti(a.innerEnd,0,c)}}function Ql(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Gf(n,t,e,i,a,l){const{x:c,y:d,startAngle:g,pixelMargin:y,innerRadius:T}=t,x=Math.max(t.outerRadius+i+e-y,0),w=T>0?T+i+e+y:0;let R=0;const P=a-g;if(i){const Ot=T>0?T-i:0,$=x>0?x-i:0,_t=(Ot+$)/2,dt=_t!==0?P*_t/(_t+i):P;R=(P-dt)/2}const k=Math.max(.001,P*x-e/fn)/x,V=(P-k)/2,K=g+V+R,tt=a-V-R,{outerStart:st,outerEnd:ut,innerStart:nt,innerEnd:ht}=tR(t,w,x,tt-K),B=x-st,O=x-ut,N=K+st/B,H=tt-ut/O,U=w+nt,Z=w+ht,j=K+nt/U,Ut=tt-ht/Z;if(n.beginPath(),l){const Ot=(N+H)/2;if(n.arc(c,d,x,N,Ot),n.arc(c,d,x,Ot,H),ut>0){const kt=Ql(O,H,c,d);n.arc(kt.x,kt.y,ut,H,tt+vn)}const $=Ql(Z,tt,c,d);if(n.lineTo($.x,$.y),ht>0){const kt=Ql(Z,Ut,c,d);n.arc(kt.x,kt.y,ht,tt+vn,Ut+Math.PI)}const _t=(tt-ht/w+(K+nt/w))/2;if(n.arc(c,d,w,tt-ht/w,_t,!0),n.arc(c,d,w,_t,K+nt/w,!0),nt>0){const kt=Ql(U,j,c,d);n.arc(kt.x,kt.y,nt,j+Math.PI,K-vn)}const dt=Ql(B,K,c,d);if(n.lineTo(dt.x,dt.y),st>0){const kt=Ql(B,N,c,d);n.arc(kt.x,kt.y,st,K-vn,N)}}else{n.moveTo(c,d);const Ot=Math.cos(N)*x+c,$=Math.sin(N)*x+d;n.lineTo(Ot,$);const _t=Math.cos(H)*x+c,dt=Math.sin(H)*x+d;n.lineTo(_t,dt)}n.closePath()}function eR(n,t,e,i,a){const{fullCircles:l,startAngle:c,circumference:d}=t;let g=t.endAngle;if(l){Gf(n,t,e,i,g,a);for(let y=0;y<l;++y)n.fill();isNaN(d)||(g=c+(d%$e||$e))}return Gf(n,t,e,i,g,a),n.fill(),g}function nR(n,t,e,i,a){const{fullCircles:l,startAngle:c,circumference:d,options:g}=t,{borderWidth:y,borderJoinStyle:T,borderDash:x,borderDashOffset:w}=g,R=g.borderAlign==="inner";if(!y)return;n.setLineDash(x||[]),n.lineDashOffset=w,R?(n.lineWidth=y*2,n.lineJoin=T||"round"):(n.lineWidth=y,n.lineJoin=T||"bevel");let P=t.endAngle;if(l){Gf(n,t,e,i,P,a);for(let k=0;k<l;++k)n.stroke();isNaN(d)||(P=c+(d%$e||$e))}R&&$C(n,t,P),l||(Gf(n,t,e,i,P,a),n.stroke())}class yc extends ro{constructor(e){super();It(this,"circumference");It(this,"endAngle");It(this,"fullCircles");It(this,"innerRadius");It(this,"outerRadius");It(this,"pixelMargin");It(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,a){const l=this.getProps(["x","y"],a),{angle:c,distance:d}=sE(l,{x:e,y:i}),{startAngle:g,endAngle:y,innerRadius:T,outerRadius:x,circumference:w}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),R=(this.options.spacing+this.options.borderWidth)/2,P=re(w,y-g),k=zc(c,g,y)&&g!==y,V=P>=$e||k,K=Ua(d,T+R,x+R);return V&&K}getCenterPoint(e){const{x:i,y:a,startAngle:l,endAngle:c,innerRadius:d,outerRadius:g}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:y,spacing:T}=this.options,x=(l+c)/2,w=(d+g+T+y)/2;return{x:i+Math.cos(x)*w,y:a+Math.sin(x)*w}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:a}=this,l=(i.offset||0)/4,c=(i.spacing||0)/2,d=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=a>$e?Math.floor(a/$e):0,a===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const g=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(g)*l,Math.sin(g)*l);const y=1-Math.sin(Math.min(fn,a||0)),T=l*y;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,eR(e,this,T,c,d),nR(e,this,T,c,d),e.restore()}}It(yc,"id","arc"),It(yc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),It(yc,"defaultRoutes",{backgroundColor:"backgroundColor"}),It(yc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function PE(n,t,e=t){n.lineCap=re(e.borderCapStyle,t.borderCapStyle),n.setLineDash(re(e.borderDash,t.borderDash)),n.lineDashOffset=re(e.borderDashOffset,t.borderDashOffset),n.lineJoin=re(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=re(e.borderWidth,t.borderWidth),n.strokeStyle=re(e.borderColor,t.borderColor)}function iR(n,t,e){n.lineTo(e.x,e.y)}function sR(n){return n.stepped?wA:n.tension||n.cubicInterpolationMode==="monotone"?AA:iR}function LE(n,t,e={}){const i=n.length,{start:a=0,end:l=i-1}=e,{start:c,end:d}=t,g=Math.max(a,c),y=Math.min(l,d),T=a<c&&l<c||a>d&&l>d;return{count:i,start:g,loop:t.loop,ilen:y<g&&!T?i+y-g:y-g}}function rR(n,t,e,i){const{points:a,options:l}=t,{count:c,start:d,loop:g,ilen:y}=LE(a,e,i),T=sR(l);let{move:x=!0,reverse:w}=i||{},R,P,k;for(R=0;R<=y;++R)P=a[(d+(w?y-R:R))%c],!P.skip&&(x?(n.moveTo(P.x,P.y),x=!1):T(n,k,P,w,l.stepped),k=P);return g&&(P=a[(d+(w?y:0))%c],T(n,k,P,w,l.stepped)),!!g}function aR(n,t,e,i){const a=t.points,{count:l,start:c,ilen:d}=LE(a,e,i),{move:g=!0,reverse:y}=i||{};let T=0,x=0,w,R,P,k,V,K;const tt=ut=>(c+(y?d-ut:ut))%l,st=()=>{k!==V&&(n.lineTo(T,V),n.lineTo(T,k),n.lineTo(T,K))};for(g&&(R=a[tt(0)],n.moveTo(R.x,R.y)),w=0;w<=d;++w){if(R=a[tt(w)],R.skip)continue;const ut=R.x,nt=R.y,ht=ut|0;ht===P?(nt<k?k=nt:nt>V&&(V=nt),T=(x*T+ut)/++x):(st(),n.lineTo(ut,nt),P=ht,x=0,k=V=nt),K=nt}st()}function Zg(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?aR:rR}function oR(n){return n.stepped?s2:n.tension||n.cubicInterpolationMode==="monotone"?r2:Yo}function lR(n,t,e,i){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,i)&&a.closePath()),PE(n,t.options),n.stroke(a)}function uR(n,t,e,i){const{segments:a,options:l}=t,c=Zg(t);for(const d of a)PE(n,l,d.style),n.beginPath(),c(n,t,d,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const cR=typeof Path2D=="function";function hR(n,t,e,i){cR&&!t.options.segment?lR(n,t,e,i):uR(n,t,e,i)}class vc extends ro{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const a=i.spanGaps?this._loop:this._fullLoop;WA(this._points,i,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=d2(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,a=t[e],l=this.points,c=c2(this,{property:e,start:a,end:a});if(!c.length)return;const d=[],g=oR(i);let y,T;for(y=0,T=c.length;y<T;++y){const{start:x,end:w}=c[y],R=l[x],P=l[w];if(R===P){d.push(R);continue}const k=Math.abs((a-R[e])/(P[e]-R[e])),V=g(R,P,k,i.stepped);V[e]=t[e],d.push(V)}return d.length===1?d[0]:d}pathSegment(t,e,i){return Zg(this)(t,this,e,i)}path(t,e,i){const a=this.segments,l=Zg(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const d of a)c&=l(t,this,d,{start:e,end:e+i-1});return!!c}draw(t,e,i,a){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(t.save(),hR(t,this,i,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}It(vc,"id","line"),It(vc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),It(vc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),It(vc,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function gb(n,t,e,i){const a=n.options,{[e]:l}=n.getProps([e],i);return Math.abs(t-l)<a.radius+a.hitRadius}class Df extends ro{constructor(e){super();It(this,"parsed");It(this,"skip");It(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,a){const l=this.options,{x:c,y:d}=this.getProps(["x","y"],a);return Math.pow(e-c,2)+Math.pow(i-d,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(e,i){return gb(this,e,"x",i)}inYRange(e,i){return gb(this,e,"y",i)}getCenterPoint(e){const{x:i,y:a}=this.getProps(["x","y"],e);return{x:i,y:a}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const a=i&&e.borderWidth||0;return(i+a)*2}draw(e,i){const a=this.options;this.skip||a.radius<.1||!Bc(this,i,this.size(a)/2)||(e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.fillStyle=a.backgroundColor,Ug(e,a,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}It(Df,"id","point"),It(Df,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),It(Df,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function kE(n,t){const{x:e,y:i,base:a,width:l,height:c}=n.getProps(["x","y","base","width","height"],t);let d,g,y,T,x;return n.horizontal?(x=c/2,d=Math.min(e,a),g=Math.max(e,a),y=i-x,T=i+x):(x=l/2,d=e-x,g=e+x,y=Math.min(i,a),T=Math.max(i,a)),{left:d,top:y,right:g,bottom:T}}function Fa(n,t,e,i){return n?0:Ti(t,e,i)}function fR(n,t,e){const i=n.options.borderWidth,a=n.borderSkipped,l=fE(i);return{t:Fa(a.top,l.top,0,e),r:Fa(a.right,l.right,0,t),b:Fa(a.bottom,l.bottom,0,e),l:Fa(a.left,l.left,0,t)}}function dR(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),a=n.options.borderRadius,l=iu(a),c=Math.min(t,e),d=n.borderSkipped,g=i||de(a);return{topLeft:Fa(!g||d.top||d.left,l.topLeft,0,c),topRight:Fa(!g||d.top||d.right,l.topRight,0,c),bottomLeft:Fa(!g||d.bottom||d.left,l.bottomLeft,0,c),bottomRight:Fa(!g||d.bottom||d.right,l.bottomRight,0,c)}}function mR(n){const t=kE(n),e=t.right-t.left,i=t.bottom-t.top,a=fR(n,e/2,i/2),l=dR(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:l},inner:{x:t.left+a.l,y:t.top+a.t,w:e-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,l.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(a.b,a.r))}}}}function xg(n,t,e,i){const a=t===null,l=e===null,d=n&&!(a&&l)&&kE(n,i);return d&&(a||Ua(t,d.left,d.right))&&(l||Ua(e,d.top,d.bottom))}function gR(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function pR(n,t){n.rect(t.x,t.y,t.w,t.h)}function Sg(n,t,e={}){const i=n.x!==e.x?-t:0,a=n.y!==e.y?-t:0,l=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-a;return{x:n.x+i,y:n.y+a,w:n.w+l,h:n.h+c,radius:n.radius}}class If extends ro{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:a}}=this,{inner:l,outer:c}=mR(this),d=gR(c.radius)?Ff:pR;t.save(),(c.w!==l.w||c.h!==l.h)&&(t.beginPath(),d(t,Sg(c,e,l)),t.clip(),d(t,Sg(l,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),d(t,Sg(l,e)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,i){return xg(this,t,e,i)}inXRange(t,e){return xg(this,t,null,e)}inYRange(t,e){return xg(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:a,horizontal:l}=this.getProps(["x","y","base","horizontal"],t);return{x:l?(e+a)/2:e,y:l?i:(i+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}It(If,"id","bar"),It(If,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),It(If,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const pb=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},_R=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class _b extends ro{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Ue(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,a)=>t.sort(i,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,a=Ei(i.font),l=a.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:g}=pb(i,l);let y,T;e.font=a.string,this.isHorizontal()?(y=this.maxWidth,T=this._fitRows(c,l,d,g)+10):(T=this.maxHeight,y=this._fitCols(c,a,d,g)+10),this.width=Math.min(y,t.maxWidth||this.maxWidth),this.height=Math.min(T,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,a){const{ctx:l,maxWidth:c,options:{labels:{padding:d}}}=this,g=this.legendHitBoxes=[],y=this.lineWidths=[0],T=a+d;let x=t;l.textAlign="left",l.textBaseline="middle";let w=-1,R=-T;return this.legendItems.forEach((P,k)=>{const V=i+e/2+l.measureText(P.text).width;(k===0||y[y.length-1]+V+2*d>c)&&(x+=T,y[y.length-(k>0?0:1)]=0,R+=T,w++),g[k]={left:0,top:R,row:w,width:V,height:a},y[y.length-1]+=V+d}),x}_fitCols(t,e,i,a){const{ctx:l,maxHeight:c,options:{labels:{padding:d}}}=this,g=this.legendHitBoxes=[],y=this.columnSizes=[],T=c-t;let x=d,w=0,R=0,P=0,k=0;return this.legendItems.forEach((V,K)=>{const{itemWidth:tt,itemHeight:st}=yR(i,e,l,V,a);K>0&&R+st+2*d>T&&(x+=w+d,y.push({width:w,height:R}),P+=w+d,k++,w=R=0),g[K]={left:P,top:R,col:k,width:tt,height:st},w=Math.max(w,tt),R+=st+d}),x+=w,y.push({width:w,height:R}),x}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:a},rtl:l}}=this,c=su(l,this.left,this.width);if(this.isHorizontal()){let d=0,g=Fi(i,this.left+a,this.right-this.lineWidths[d]);for(const y of e)d!==y.row&&(d=y.row,g=Fi(i,this.left+a,this.right-this.lineWidths[d])),y.top+=this.top+t+a,y.left=c.leftForLtr(c.x(g),y.width),g+=y.width+a}else{let d=0,g=Fi(i,this.top+t+a,this.bottom-this.columnSizes[d].height);for(const y of e)y.col!==d&&(d=y.col,g=Fi(i,this.top+t+a,this.bottom-this.columnSizes[d].height)),y.top=g,y.left+=this.left+a,y.left=c.leftForLtr(c.x(y.left),y.width),g+=y.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;wp(t,this),this._draw(),Ap(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:a}=this,{align:l,labels:c}=t,d=rn.color,g=su(t.rtl,this.left,this.width),y=Ei(c.font),{padding:T}=c,x=y.size,w=x/2;let R;this.drawTitle(),a.textAlign=g.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=y.string;const{boxWidth:P,boxHeight:k,itemHeight:V}=pb(c,x),K=function(ht,B,O){if(isNaN(P)||P<=0||isNaN(k)||k<0)return;a.save();const N=re(O.lineWidth,1);if(a.fillStyle=re(O.fillStyle,d),a.lineCap=re(O.lineCap,"butt"),a.lineDashOffset=re(O.lineDashOffset,0),a.lineJoin=re(O.lineJoin,"miter"),a.lineWidth=N,a.strokeStyle=re(O.strokeStyle,d),a.setLineDash(re(O.lineDash,[])),c.usePointStyle){const H={radius:k*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:N},U=g.xPlus(ht,P/2),Z=B+w;hE(a,H,U,Z,c.pointStyleWidth&&P)}else{const H=B+Math.max((x-k)/2,0),U=g.leftForLtr(ht,P),Z=iu(O.borderRadius);a.beginPath(),Object.values(Z).some(j=>j!==0)?Ff(a,{x:U,y:H,w:P,h:k,radius:Z}):a.rect(U,H,P,k),a.fill(),N!==0&&a.stroke()}a.restore()},tt=function(ht,B,O){Hf(a,O.text,ht,B+V/2,y,{strikethrough:O.hidden,textAlign:g.textAlign(O.textAlign)})},st=this.isHorizontal(),ut=this._computeTitleHeight();st?R={x:Fi(l,this.left+T,this.right-i[0]),y:this.top+T+ut,line:0}:R={x:this.left+T,y:Fi(l,this.top+ut+T,this.bottom-e[0].height),line:0},yE(this.ctx,t.textDirection);const nt=V+T;this.legendItems.forEach((ht,B)=>{a.strokeStyle=ht.fontColor,a.fillStyle=ht.fontColor;const O=a.measureText(ht.text).width,N=g.textAlign(ht.textAlign||(ht.textAlign=c.textAlign)),H=P+w+O;let U=R.x,Z=R.y;g.setWidth(this.width),st?B>0&&U+H+T>this.right&&(Z=R.y+=nt,R.line++,U=R.x=Fi(l,this.left+T,this.right-i[R.line])):B>0&&Z+nt>this.bottom&&(U=R.x=U+e[R.line].width+T,R.line++,Z=R.y=Fi(l,this.top+ut+T,this.bottom-e[R.line].height));const j=g.x(U);if(K(j,Z,ht),U=mA(N,U+P+w,st?U+H:this.right,t.rtl),tt(g.x(U),Z,ht),st)R.x+=H+T;else if(typeof ht.text!="string"){const Ut=y.lineHeight;R.y+=NE(ht,Ut)+T}else R.y+=nt}),vE(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Ei(e.font),a=Ls(e.padding);if(!e.display)return;const l=su(t.rtl,this.left,this.width),c=this.ctx,d=e.position,g=i.size/2,y=a.top+g;let T,x=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),T=this.top+y,x=Fi(t.align,x,this.right-w);else{const P=this.columnSizes.reduce((k,V)=>Math.max(k,V.height),0);T=y+Fi(t.align,this.top,this.bottom-P-t.labels.padding-this._computeTitleHeight())}const R=Fi(d,x,x+w);c.textAlign=l.textAlign(uE(d)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Hf(c,e.text,R,T,i)}_computeTitleHeight(){const t=this.options.title,e=Ei(t.font),i=Ls(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,a,l;if(Ua(t,this.left,this.right)&&Ua(e,this.top,this.bottom)){for(l=this.legendHitBoxes,i=0;i<l.length;++i)if(a=l[i],Ua(t,a.left,a.left+a.width)&&Ua(e,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!TR(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,l=_R(a,i);a&&!l&&Ue(e.onLeave,[t,a,this],this),this._hoveredItem=i,i&&!l&&Ue(e.onHover,[t,i,this],this)}else i&&Ue(e.onClick,[t,i,this],this)}}function yR(n,t,e,i,a){const l=vR(i,n,t,e),c=bR(a,i,t.lineHeight);return{itemWidth:l,itemHeight:c}}function vR(n,t,e,i){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((l,c)=>l.length>c.length?l:c)),t+e.size/2+i.measureText(a).width}function bR(n,t,e){let i=n;return typeof t.text!="string"&&(i=NE(t,e)),i}function NE(n,t){const e=n.text?n.text.length:0;return t*e}function TR(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var ER={id:"legend",_element:_b,start(n,t,e){const i=n.legend=new _b({ctx:n.ctx,options:e,chart:n});Ha.configure(n,i,e),Ha.addBox(n,i)},stop(n){Ha.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ha.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,a=e.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:a,color:l,useBorderRadius:c,borderRadius:d}}=n.legend.options;return n._getSortedDatasetMetas().map(g=>{const y=g.controller.getStyle(e?0:void 0),T=Ls(y.borderWidth);return{text:t[g.index].label,fillStyle:y.backgroundColor,fontColor:l,hidden:!g.visible,lineCap:y.borderCapStyle,lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:(T.width+T.height)/4,strokeStyle:y.borderColor,pointStyle:i||y.pointStyle,rotation:y.rotation,textAlign:a||y.textAlign,borderRadius:c&&(d||y.borderRadius),datasetIndex:g.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const bc={average(n){if(!n.length)return!1;let t,e,i=new Set,a=0,l=0;for(t=0,e=n.length;t<e;++t){const d=n[t].element;if(d&&d.hasValue()){const g=d.tooltipPosition();i.add(g.x),a+=g.y,++l}}return l===0||i.size===0?!1:{x:[...i].reduce((d,g)=>d+g)/i.size,y:a/l}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,a=Number.POSITIVE_INFINITY,l,c,d;for(l=0,c=n.length;l<c;++l){const g=n[l].element;if(g&&g.hasValue()){const y=g.getCenterPoint(),T=zg(t,y);T<a&&(a=T,d=g)}}if(d){const g=d.tooltipPosition();e=g.x,i=g.y}return{x:e,y:i}}};function er(n,t){return t&&(Pn(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Br(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function xR(n,t){const{element:e,datasetIndex:i,index:a}=t,l=n.getDatasetMeta(i).controller,{label:c,value:d}=l.getLabelAndValue(a);return{chart:n,label:c,parsed:l.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:d,dataset:l.getDataset(),dataIndex:a,datasetIndex:i,element:e}}function yb(n,t){const e=n.chart.ctx,{body:i,footer:a,title:l}=n,{boxWidth:c,boxHeight:d}=t,g=Ei(t.bodyFont),y=Ei(t.titleFont),T=Ei(t.footerFont),x=l.length,w=a.length,R=i.length,P=Ls(t.padding);let k=P.height,V=0,K=i.reduce((ut,nt)=>ut+nt.before.length+nt.lines.length+nt.after.length,0);if(K+=n.beforeBody.length+n.afterBody.length,x&&(k+=x*y.lineHeight+(x-1)*t.titleSpacing+t.titleMarginBottom),K){const ut=t.displayColors?Math.max(d,g.lineHeight):g.lineHeight;k+=R*ut+(K-R)*g.lineHeight+(K-1)*t.bodySpacing}w&&(k+=t.footerMarginTop+w*T.lineHeight+(w-1)*t.footerSpacing);let tt=0;const st=function(ut){V=Math.max(V,e.measureText(ut).width+tt)};return e.save(),e.font=y.string,we(n.title,st),e.font=g.string,we(n.beforeBody.concat(n.afterBody),st),tt=t.displayColors?c+2+t.boxPadding:0,we(i,ut=>{we(ut.before,st),we(ut.lines,st),we(ut.after,st)}),tt=0,e.font=T.string,we(n.footer,st),e.restore(),V+=P.width,{width:V,height:k}}function SR(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function wR(n,t,e,i){const{x:a,width:l}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&a+l+c>t.width||n==="right"&&a-l-c<0)return!0}function AR(n,t,e,i){const{x:a,width:l}=e,{width:c,chartArea:{left:d,right:g}}=n;let y="center";return i==="center"?y=a<=(d+g)/2?"left":"right":a<=l/2?y="left":a>=c-l/2&&(y="right"),wR(y,n,t,e)&&(y="center"),y}function vb(n,t,e){const i=e.yAlign||t.yAlign||SR(n,e);return{xAlign:e.xAlign||t.xAlign||AR(n,t,e,i),yAlign:i}}function CR(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function RR(n,t,e){let{y:i,height:a}=n;return t==="top"?i+=e:t==="bottom"?i-=a+e:i-=a/2,i}function bb(n,t,e,i){const{caretSize:a,caretPadding:l,cornerRadius:c}=n,{xAlign:d,yAlign:g}=e,y=a+l,{topLeft:T,topRight:x,bottomLeft:w,bottomRight:R}=iu(c);let P=CR(t,d);const k=RR(t,g,y);return g==="center"?d==="left"?P+=y:d==="right"&&(P-=y):d==="left"?P-=Math.max(T,w)+a:d==="right"&&(P+=Math.max(x,R)+a),{x:Ti(P,0,i.width-t.width),y:Ti(k,0,i.height-t.height)}}function yf(n,t,e){const i=Ls(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function Tb(n){return er([],Br(n))}function MR(n,t,e){return rl(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Eb(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const VE={beforeTitle:Vr,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Vr,beforeBody:Vr,beforeLabel:Vr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Pe(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Vr,afterBody:Vr,beforeFooter:Vr,footer:Vr,afterFooter:Vr};function yi(n,t,e,i){const a=n[t].call(e,i);return typeof a>"u"?VE[t].call(e,i):a}class Gg extends ro{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&e.options.animation&&i.animations,l=new TE(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=MR(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,a=yi(i,"beforeTitle",this,t),l=yi(i,"title",this,t),c=yi(i,"afterTitle",this,t);let d=[];return d=er(d,Br(a)),d=er(d,Br(l)),d=er(d,Br(c)),d}getBeforeBody(t,e){return Tb(yi(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,a=[];return we(t,l=>{const c={before:[],lines:[],after:[]},d=Eb(i,l);er(c.before,Br(yi(d,"beforeLabel",this,l))),er(c.lines,yi(d,"label",this,l)),er(c.after,Br(yi(d,"afterLabel",this,l))),a.push(c)}),a}getAfterBody(t,e){return Tb(yi(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,a=yi(i,"beforeFooter",this,t),l=yi(i,"footer",this,t),c=yi(i,"afterFooter",this,t);let d=[];return d=er(d,Br(a)),d=er(d,Br(l)),d=er(d,Br(c)),d}_createItems(t){const e=this._active,i=this.chart.data,a=[],l=[],c=[];let d=[],g,y;for(g=0,y=e.length;g<y;++g)d.push(xR(this.chart,e[g]));return t.filter&&(d=d.filter((T,x,w)=>t.filter(T,x,w,i))),t.itemSort&&(d=d.sort((T,x)=>t.itemSort(T,x,i))),we(d,T=>{const x=Eb(t.callbacks,T);a.push(yi(x,"labelColor",this,T)),l.push(yi(x,"labelPointStyle",this,T)),c.push(yi(x,"labelTextColor",this,T))}),this.labelColors=a,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=d,d}update(t,e){const i=this.options.setContext(this.getContext()),a=this._active;let l,c=[];if(!a.length)this.opacity!==0&&(l={opacity:0});else{const d=bc[i.position].call(this,a,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const g=this._size=yb(this,i),y=Object.assign({},d,g),T=vb(this.chart,i,y),x=bb(i,y,T,this.chart);this.xAlign=T.xAlign,this.yAlign=T.yAlign,l={opacity:1,x:x.x,y:x.y,width:g.width,height:g.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,a){const l=this.getCaretPosition(t,i,a);e.lineTo(l.x1,l.y1),e.lineTo(l.x2,l.y2),e.lineTo(l.x3,l.y3)}getCaretPosition(t,e,i){const{xAlign:a,yAlign:l}=this,{caretSize:c,cornerRadius:d}=i,{topLeft:g,topRight:y,bottomLeft:T,bottomRight:x}=iu(d),{x:w,y:R}=t,{width:P,height:k}=e;let V,K,tt,st,ut,nt;return l==="center"?(ut=R+k/2,a==="left"?(V=w,K=V-c,st=ut+c,nt=ut-c):(V=w+P,K=V+c,st=ut-c,nt=ut+c),tt=V):(a==="left"?K=w+Math.max(g,T)+c:a==="right"?K=w+P-Math.max(y,x)-c:K=this.caretX,l==="top"?(st=R,ut=st-c,V=K-c,tt=K+c):(st=R+k,ut=st+c,V=K+c,tt=K-c),nt=st),{x1:V,x2:K,x3:tt,y1:st,y2:ut,y3:nt}}drawTitle(t,e,i){const a=this.title,l=a.length;let c,d,g;if(l){const y=su(i.rtl,this.x,this.width);for(t.x=yf(this,i.titleAlign,i),e.textAlign=y.textAlign(i.titleAlign),e.textBaseline="middle",c=Ei(i.titleFont),d=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,g=0;g<l;++g)e.fillText(a[g],y.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+d,g+1===l&&(t.y+=i.titleMarginBottom-d)}}_drawColorBox(t,e,i,a,l){const c=this.labelColors[i],d=this.labelPointStyles[i],{boxHeight:g,boxWidth:y}=l,T=Ei(l.bodyFont),x=yf(this,"left",l),w=a.x(x),R=g<T.lineHeight?(T.lineHeight-g)/2:0,P=e.y+R;if(l.usePointStyle){const k={radius:Math.min(y,g)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},V=a.leftForLtr(w,y)+y/2,K=P+g/2;t.strokeStyle=l.multiKeyBackground,t.fillStyle=l.multiKeyBackground,Ug(t,k,V,K),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Ug(t,k,V,K)}else{t.lineWidth=de(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const k=a.leftForLtr(w,y),V=a.leftForLtr(a.xPlus(w,1),y-2),K=iu(c.borderRadius);Object.values(K).some(tt=>tt!==0)?(t.beginPath(),t.fillStyle=l.multiKeyBackground,Ff(t,{x:k,y:P,w:y,h:g,radius:K}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Ff(t,{x:V,y:P+1,w:y-2,h:g-2,radius:K}),t.fill()):(t.fillStyle=l.multiKeyBackground,t.fillRect(k,P,y,g),t.strokeRect(k,P,y,g),t.fillStyle=c.backgroundColor,t.fillRect(V,P+1,y-2,g-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:a}=this,{bodySpacing:l,bodyAlign:c,displayColors:d,boxHeight:g,boxWidth:y,boxPadding:T}=i,x=Ei(i.bodyFont);let w=x.lineHeight,R=0;const P=su(i.rtl,this.x,this.width),k=function(O){e.fillText(O,P.x(t.x+R),t.y+w/2),t.y+=w+l},V=P.textAlign(c);let K,tt,st,ut,nt,ht,B;for(e.textAlign=c,e.textBaseline="middle",e.font=x.string,t.x=yf(this,V,i),e.fillStyle=i.bodyColor,we(this.beforeBody,k),R=d&&V!=="right"?c==="center"?y/2+T:y+2+T:0,ut=0,ht=a.length;ut<ht;++ut){for(K=a[ut],tt=this.labelTextColors[ut],e.fillStyle=tt,we(K.before,k),st=K.lines,d&&st.length&&(this._drawColorBox(e,t,ut,P,i),w=Math.max(x.lineHeight,g)),nt=0,B=st.length;nt<B;++nt)k(st[nt]),w=x.lineHeight;we(K.after,k)}R=0,w=x.lineHeight,we(this.afterBody,k),t.y-=l}drawFooter(t,e,i){const a=this.footer,l=a.length;let c,d;if(l){const g=su(i.rtl,this.x,this.width);for(t.x=yf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=g.textAlign(i.footerAlign),e.textBaseline="middle",c=Ei(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,d=0;d<l;++d)e.fillText(a[d],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,a){const{xAlign:l,yAlign:c}=this,{x:d,y:g}=t,{width:y,height:T}=i,{topLeft:x,topRight:w,bottomLeft:R,bottomRight:P}=iu(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(d+x,g),c==="top"&&this.drawCaret(t,e,i,a),e.lineTo(d+y-w,g),e.quadraticCurveTo(d+y,g,d+y,g+w),c==="center"&&l==="right"&&this.drawCaret(t,e,i,a),e.lineTo(d+y,g+T-P),e.quadraticCurveTo(d+y,g+T,d+y-P,g+T),c==="bottom"&&this.drawCaret(t,e,i,a),e.lineTo(d+R,g+T),e.quadraticCurveTo(d,g+T,d,g+T-R),c==="center"&&l==="left"&&this.drawCaret(t,e,i,a),e.lineTo(d,g+x),e.quadraticCurveTo(d,g,d+x,g),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,a=i&&i.x,l=i&&i.y;if(a||l){const c=bc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=yb(this,t),g=Object.assign({},c,this._size),y=vb(e,t,g),T=bb(t,g,y,e);(a._to!==T.x||l._to!==T.y)&&(this.xAlign=y.xAlign,this.yAlign=y.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,T))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},l={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=Ls(e.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&d&&(t.save(),t.globalAlpha=i,this.drawBackground(l,t,a,e),yE(t,e.textDirection),l.y+=c.top,this.drawTitle(l,t,e),this.drawBody(l,t,e),this.drawFooter(l,t,e),vE(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,a=t.map(({datasetIndex:d,index:g})=>{const y=this.chart.getDatasetMeta(d);if(!y)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:y.data[g],index:g}}),l=!zf(i,a),c=this._positionChanged(a,e);(l||c)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,l=this._active||[],c=this._getActiveElements(t,l,e,i),d=this._positionChanged(c,t),g=e||!zf(c,l)||d;return g&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),g}_getActiveElements(t,e,i,a){const l=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,l.mode,l,i);return l.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:a,options:l}=this,c=bc[l.position].call(this,t,e);return c!==!1&&(i!==c.x||a!==c.y)}}It(Gg,"positioners",bc);var DR={id:"tooltip",_element:Gg,positioners:bc,afterInit(n,t,e){e&&(n.tooltip=new Gg({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:VE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const IR=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function OR(n,t,e,i){const a=n.indexOf(t);if(a===-1)return IR(n,t,e,i);const l=n.lastIndexOf(t);return a!==l?e:a}const PR=(n,t)=>n===null?null:Ti(Math.round(n),0,t);function xb(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Yg extends pu{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:a,label:l}of e)i[a]===l&&i.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Pe(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:OR(i,t,re(e,t),this._addedLabels),PR(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,a=[];let l=this.getLabels();l=t===0&&e===l.length-1?l:l.slice(t,e+1),this._valueRange=Math.max(l.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)a.push({value:c});return a}getLabelForValue(t){return xb.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}It(Yg,"id","category"),It(Yg,"defaults",{ticks:{callback:xb}});function LR(n,t){const e=[],{bounds:a,step:l,min:c,max:d,precision:g,count:y,maxTicks:T,maxDigits:x,includeBounds:w}=n,R=l||1,P=T-1,{min:k,max:V}=t,K=!Pe(c),tt=!Pe(d),st=!Pe(y),ut=(V-k)/(x+1);let nt=w0((V-k)/P/R)*R,ht,B,O,N;if(nt<1e-14&&!K&&!tt)return[{value:k},{value:V}];N=Math.ceil(V/nt)-Math.floor(k/nt),N>P&&(nt=w0(N*nt/P/R)*R),Pe(g)||(ht=Math.pow(10,g),nt=Math.ceil(nt*ht)/ht),a==="ticks"?(B=Math.floor(k/nt)*nt,O=Math.ceil(V/nt)*nt):(B=k,O=V),K&&tt&&l&&rA((d-c)/l,nt/1e3)?(N=Math.round(Math.min((d-c)/nt,T)),nt=(d-c)/N,B=c,O=d):st?(B=K?c:B,O=tt?d:O,N=y-1,nt=(O-B)/N):(N=(O-B)/nt,Ac(N,Math.round(N),nt/1e3)?N=Math.round(N):N=Math.ceil(N));const H=Math.max(A0(nt),A0(B));ht=Math.pow(10,Pe(g)?H:g),B=Math.round(B*ht)/ht,O=Math.round(O*ht)/ht;let U=0;for(K&&(w&&B!==c?(e.push({value:c}),B<c&&U++,Ac(Math.round((B+U*nt)*ht)/ht,c,Sb(c,ut,n))&&U++):B<c&&U++);U<N;++U){const Z=Math.round((B+U*nt)*ht)/ht;if(tt&&Z>d)break;e.push({value:Z})}return tt&&w&&O!==d?e.length&&Ac(e[e.length-1].value,d,Sb(d,ut,n))?e[e.length-1].value=d:e.push({value:d}):(!tt||O===d)&&e.push({value:O}),e}function Sb(n,t,{horizontal:e,minRotation:i}){const a=Ur(i),l=(e?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+n).length;return Math.min(t/l,c)}class kR extends pu{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Pe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:a,max:l}=this;const c=g=>a=e?a:g,d=g=>l=i?l:g;if(t){const g=sr(a),y=sr(l);g<0&&y<0?d(0):g>0&&y>0&&c(0)}if(a===l){let g=l===0?1:Math.abs(l*.05);d(l+g),t||c(a-g)}this.min=a,this.max=l}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},l=this._range||this,c=LR(a,l);return t.bounds==="ticks"&&aA(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const a=(i-e)/Math.max(t.length-1,1)/2;e-=a,i+=a}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Sp(t,this.chart.options.locale,this.options.ticks.format)}}class Kg extends kR{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ds(t)?t:0,this.max=ds(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ur(this.options.ticks.minRotation),a=(t?Math.sin(i):Math.cos(i))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,l.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}It(Kg,"id","linear"),It(Kg,"defaults",{ticks:{callback:cE.formatters.numeric}});const fd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},bi=Object.keys(fd);function wb(n,t){return n-t}function Ab(n,t){if(Pe(t))return null;const e=n._adapter,{parser:i,round:a,isoWeekday:l}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),ds(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(a&&(c=a==="week"&&(Uf(l)||l===!0)?e.startOf(c,"isoWeek",l):e.startOf(c,a)),+c)}function Cb(n,t,e,i){const a=bi.length;for(let l=bi.indexOf(n);l<a-1;++l){const c=fd[bi[l]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(d*c.size))<=i)return bi[l]}return bi[a-1]}function NR(n,t,e,i,a){for(let l=bi.length-1;l>=bi.indexOf(e);l--){const c=bi[l];if(fd[c].common&&n._adapter.diff(a,i,c)>=t-1)return c}return bi[e?bi.indexOf(e):0]}function VR(n){for(let t=bi.indexOf(n)+1,e=bi.length;t<e;++t)if(fd[bi[t]].common)return bi[t]}function Rb(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:a}=Ep(e,t),l=e[i]>=t?e[i]:e[a];n[l]=!0}}function zR(n,t,e,i){const a=n._adapter,l=+a.startOf(t[0].value,i),c=t[t.length-1].value;let d,g;for(d=l;d<=c;d=+a.add(d,1,i))g=e[d],g>=0&&(t[g].major=!0);return t}function Mb(n,t,e){const i=[],a={},l=t.length;let c,d;for(c=0;c<l;++c)d=t[c],a[d]=c,i.push({value:d,major:!1});return l===0||!e?i:zR(n,i,a,e)}class Yf extends pu{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),a=this._adapter=new F2._date(t.adapters.date);a.init(e),wc(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Ab(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:a,max:l,minDefined:c,maxDefined:d}=this.getUserBounds();function g(y){!c&&!isNaN(y.min)&&(a=Math.min(a,y.min)),!d&&!isNaN(y.max)&&(l=Math.max(l,y.max))}(!c||!d)&&(g(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&g(this.getMinMax(!1))),a=ds(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),l=ds(l)&&!isNaN(l)?l:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,l-1),this.max=Math.max(a+1,l)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const l=this.min,c=this.max,d=hA(a,l,c);return this._unit=e.unit||(i.autoSkip?Cb(e.minUnit,this.min,this.max,this._getLabelCapacity(l)):NR(this,d.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:VR(this._unit),this.initOffsets(a),t.reverse&&d.reverse(),Mb(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,a,l;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,l=this.getDecimalForValue(t[t.length-1]),t.length===1?i=l:i=(l-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Ti(e,0,c),i=Ti(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,a=this.options,l=a.time,c=l.unit||Cb(l.minUnit,e,i,this._getLabelCapacity(e)),d=re(a.ticks.stepSize,1),g=c==="week"?l.isoWeekday:!1,y=Uf(g)||g===!0,T={};let x=e,w,R;if(y&&(x=+t.startOf(x,"isoWeek",g)),x=+t.startOf(x,y?"day":c),t.diff(i,e,c)>1e5*d)throw new Error(e+" and "+i+" are too far apart with stepSize of "+d+" "+c);const P=a.ticks.source==="data"&&this.getDataTimestamps();for(w=x,R=0;w<i;w=+t.add(w,d,c),R++)Rb(T,w,P);return(w===i||a.bounds==="ticks"||R===1)&&Rb(T,w,P),Object.keys(T).sort(wb).map(k=>+k)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,l=this._unit,c=e||a[l];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,a){const l=this.options,c=l.ticks.callback;if(c)return Ue(c,[t,e,i],this);const d=l.time.displayFormats,g=this._unit,y=this._majorUnit,T=g&&d[g],x=y&&d[y],w=i[e],R=y&&x&&w&&w.major;return this._adapter.format(t,a||(R?x:T))}generateTickLabels(t){let e,i,a;for(e=0,i=t.length;e<i;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,a=Ur(this.isHorizontal()?e.maxRotation:e.minRotation),l=Math.cos(a),c=Math.sin(a),d=this._resolveTickFontOptions(0).size;return{w:i*l+d*c,h:i*c+d*l}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,a=i[e.unit]||i.millisecond,l=this._tickFormatFunction(t,0,Mb(this,[t],this._majorUnit),a),c=this._getLabelSize(l),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,i=a.length;e<i;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const a=this.getLabels();for(e=0,i=a.length;e<i;++e)t.push(Ab(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return aE(t.sort(wb))}}It(Yf,"id","time"),It(Yf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function vf(n,t,e){let i=0,a=n.length-1,l,c,d,g;e?(t>=n[i].pos&&t<=n[a].pos&&({lo:i,hi:a}=Bg(n,"pos",t)),{pos:l,time:d}=n[i],{pos:c,time:g}=n[a]):(t>=n[i].time&&t<=n[a].time&&({lo:i,hi:a}=Bg(n,"time",t)),{time:l,pos:d}=n[i],{time:c,pos:g}=n[a]);const y=c-l;return y?d+(g-d)*(t-l)/y:d}class Db extends Yf{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=vf(e,this.min),this._tableRange=vf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,a=[],l=[];let c,d,g,y,T;for(c=0,d=t.length;c<d;++c)y=t[c],y>=e&&y<=i&&a.push(y);if(a.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,d=a.length;c<d;++c)T=a[c+1],g=a[c-1],y=a[c],Math.round((T+g)/2)!==y&&l.push({time:y,pos:c/(d-1)});return l}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((a,l)=>a-l)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(vf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return vf(this._table,i*this._tableRange+this._minPos,!0)}}It(Db,"id","timeseries"),It(Db,"defaults",Yf.defaults);const zE="label";function Ib(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function BR(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function BE(n,t){n.labels=t}function jE(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zE;const i=[];n.datasets=t.map(a=>{const l=n.datasets.find(c=>c[e]===a[e]);return!l||!a.data||i.includes(l)?{...a}:(i.push(l),Object.assign(l,a),l)})}function jR(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zE;const e={labels:[],datasets:[]};return BE(e,n.labels),jE(e,n.datasets,t),e}function UR(n,t){const{height:e=150,width:i=300,redraw:a=!1,datasetIdKey:l,type:c,data:d,options:g,plugins:y=[],fallbackContent:T,updateMode:x,...w}=n,R=De.useRef(null),P=De.useRef(null),k=()=>{R.current&&(P.current=new hd(R.current,{type:c,data:jR(d,l),options:g&&{...g},plugins:y}),Ib(t,P.current))},V=()=>{Ib(t,null),P.current&&(P.current.destroy(),P.current=null)};return De.useEffect(()=>{!a&&P.current&&g&&BR(P.current,g)},[a,g]),De.useEffect(()=>{!a&&P.current&&BE(P.current.config.data,d.labels)},[a,d.labels]),De.useEffect(()=>{!a&&P.current&&d.datasets&&jE(P.current.config.data,d.datasets,l)},[a,d.datasets]),De.useEffect(()=>{P.current&&(a?(V(),setTimeout(k)):P.current.update(x))},[a,g,d.labels,d.datasets,x]),De.useEffect(()=>{P.current&&(V(),setTimeout(k))},[c]),De.useEffect(()=>(k(),()=>V()),[]),QT.createElement("canvas",{ref:R,role:"img",height:e,width:i,...w},T)}const HR=De.forwardRef(UR);function Lp(n,t){return hd.register(t),De.forwardRef((e,i)=>QT.createElement(HR,{...e,ref:i,type:n}))}const FR=Lp("bar",Cf),qR=Lp("doughnut",nu),ZR=Lp("pie",Hg);var Tc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var GR=Tc.exports,Ob;function YR(){return Ob||(Ob=1,function(n,t){(function(e,i){i(t)})(GR,function(e){var i="1.9.4";function a(o){var h,p,b,S;for(p=1,b=arguments.length;p<b;p++){S=arguments[p];for(h in S)o[h]=S[h]}return o}var l=Object.create||function(){function o(){}return function(h){return o.prototype=h,new o}}();function c(o,h){var p=Array.prototype.slice;if(o.bind)return o.bind.apply(o,p.call(arguments,1));var b=p.call(arguments,2);return function(){return o.apply(h,b.length?b.concat(p.call(arguments)):arguments)}}var d=0;function g(o){return"_leaflet_id"in o||(o._leaflet_id=++d),o._leaflet_id}function y(o,h,p){var b,S,M,F;return F=function(){b=!1,S&&(M.apply(p,S),S=!1)},M=function(){b?S=arguments:(o.apply(p,arguments),setTimeout(F,h),b=!0)},M}function T(o,h,p){var b=h[1],S=h[0],M=b-S;return o===b&&p?o:((o-S)%M+M)%M+S}function x(){return!1}function w(o,h){if(h===!1)return o;var p=Math.pow(10,h===void 0?6:h);return Math.round(o*p)/p}function R(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function P(o){return R(o).split(/\s+/)}function k(o,h){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?l(o.options):{});for(var p in h)o.options[p]=h[p];return o.options}function V(o,h,p){var b=[];for(var S in o)b.push(encodeURIComponent(p?S.toUpperCase():S)+"="+encodeURIComponent(o[S]));return(!h||h.indexOf("?")===-1?"?":"&")+b.join("&")}var K=/\{ *([\w_ -]+) *\}/g;function tt(o,h){return o.replace(K,function(p,b){var S=h[b];if(S===void 0)throw new Error("No value provided for variable "+p);return typeof S=="function"&&(S=S(h)),S})}var st=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function ut(o,h){for(var p=0;p<o.length;p++)if(o[p]===h)return p;return-1}var nt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ht(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var B=0;function O(o){var h=+new Date,p=Math.max(0,16-(h-B));return B=h+p,window.setTimeout(o,p)}var N=window.requestAnimationFrame||ht("RequestAnimationFrame")||O,H=window.cancelAnimationFrame||ht("CancelAnimationFrame")||ht("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function U(o,h,p){if(p&&N===O)o.call(h);else return N.call(window,c(o,h))}function Z(o){o&&H.call(window,o)}var j={__proto__:null,extend:a,create:l,bind:c,get lastId(){return d},stamp:g,throttle:y,wrapNum:T,falseFn:x,formatNum:w,trim:R,splitWords:P,setOptions:k,getParamString:V,template:tt,isArray:st,indexOf:ut,emptyImageUrl:nt,requestFn:N,cancelFn:H,requestAnimFrame:U,cancelAnimFrame:Z};function Ut(){}Ut.extend=function(o){var h=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=h.__super__=this.prototype,b=l(p);b.constructor=h,h.prototype=b;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(h[S]=this[S]);return o.statics&&a(h,o.statics),o.includes&&(Ot(o.includes),a.apply(null,[b].concat(o.includes))),a(b,o),delete b.statics,delete b.includes,b.options&&(b.options=p.options?l(p.options):{},a(b.options,o.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,F=b._initHooks.length;M<F;M++)b._initHooks[M].call(this)}},h},Ut.include=function(o){var h=this.prototype.options;return a(this.prototype,o),o.options&&(this.prototype.options=h,this.mergeOptions(o.options)),this},Ut.mergeOptions=function(o){return a(this.prototype.options,o),this},Ut.addInitHook=function(o){var h=Array.prototype.slice.call(arguments,1),p=typeof o=="function"?o:function(){this[o].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Ot(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=st(o)?o:[o];for(var h=0;h<o.length;h++)o[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $={on:function(o,h,p){if(typeof o=="object")for(var b in o)this._on(b,o[b],h);else{o=P(o);for(var S=0,M=o.length;S<M;S++)this._on(o[S],h,p)}return this},off:function(o,h,p){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var b in o)this._off(b,o[b],h);else{o=P(o);for(var S=arguments.length===1,M=0,F=o.length;M<F;M++)S?this._off(o[M]):this._off(o[M],h,p)}return this},_on:function(o,h,p,b){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(o,h,p)===!1){p===this&&(p=void 0);var S={fn:h,ctx:p};b&&(S.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(S)}},_off:function(o,h,p){var b,S,M;if(this._events&&(b=this._events[o],!!b)){if(arguments.length===1){if(this._firingCount)for(S=0,M=b.length;S<M;S++)b[S].fn=x;delete this._events[o];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var F=this._listens(o,h,p);if(F!==!1){var Q=b[F];this._firingCount&&(Q.fn=x,this._events[o]=b=b.slice()),b.splice(F,1)}}},fire:function(o,h,p){if(!this.listens(o,p))return this;var b=a({},h,{type:o,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var S=this._events[o];if(S){this._firingCount=this._firingCount+1||1;for(var M=0,F=S.length;M<F;M++){var Q=S[M],at=Q.fn;Q.once&&this.off(o,at,Q.ctx),at.call(Q.ctx||this,b)}this._firingCount--}}return p&&this._propagateEvent(b),this},listens:function(o,h,p,b){typeof o!="string"&&console.warn('"string" type argument expected');var S=h;typeof h!="function"&&(b=!!h,S=void 0,p=void 0);var M=this._events&&this._events[o];if(M&&M.length&&this._listens(o,S,p)!==!1)return!0;if(b){for(var F in this._eventParents)if(this._eventParents[F].listens(o,h,p,b))return!0}return!1},_listens:function(o,h,p){if(!this._events)return!1;var b=this._events[o]||[];if(!h)return!!b.length;p===this&&(p=void 0);for(var S=0,M=b.length;S<M;S++)if(b[S].fn===h&&b[S].ctx===p)return S;return!1},once:function(o,h,p){if(typeof o=="object")for(var b in o)this._on(b,o[b],h,!0);else{o=P(o);for(var S=0,M=o.length;S<M;S++)this._on(o[S],h,p,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[g(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[g(o)],this},_propagateEvent:function(o){for(var h in this._eventParents)this._eventParents[h].fire(o.type,a({layer:o.target,propagatedFrom:o.target},o),!0)}};$.addEventListener=$.on,$.removeEventListener=$.clearAllEventListeners=$.off,$.addOneTimeEventListener=$.once,$.fireEvent=$.fire,$.hasEventListeners=$.listens;var _t=Ut.extend($);function dt(o,h,p){this.x=p?Math.round(o):o,this.y=p?Math.round(h):h}var kt=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};dt.prototype={clone:function(){return new dt(this.x,this.y)},add:function(o){return this.clone()._add(z(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(z(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new dt(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new dt(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=kt(this.x),this.y=kt(this.y),this},distanceTo:function(o){o=z(o);var h=o.x-this.x,p=o.y-this.y;return Math.sqrt(h*h+p*p)},equals:function(o){return o=z(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=z(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function z(o,h,p){return o instanceof dt?o:st(o)?new dt(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new dt(o.x,o.y):new dt(o,h,p)}function lt(o,h){if(o)for(var p=h?[o,h]:o,b=0,S=p.length;b<S;b++)this.extend(p[b])}lt.prototype={extend:function(o){var h,p;if(!o)return this;if(o instanceof dt||typeof o[0]=="number"||"x"in o)h=p=z(o);else if(o=vt(o),h=o.min,p=o.max,!h||!p)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=p.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(o){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var h,p;return typeof o[0]=="number"||o instanceof dt?o=z(o):o=vt(o),o instanceof lt?(h=o.min,p=o.max):h=p=o,h.x>=this.min.x&&p.x<=this.max.x&&h.y>=this.min.y&&p.y<=this.max.y},intersects:function(o){o=vt(o);var h=this.min,p=this.max,b=o.min,S=o.max,M=S.x>=h.x&&b.x<=p.x,F=S.y>=h.y&&b.y<=p.y;return M&&F},overlaps:function(o){o=vt(o);var h=this.min,p=this.max,b=o.min,S=o.max,M=S.x>h.x&&b.x<p.x,F=S.y>h.y&&b.y<p.y;return M&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var h=this.min,p=this.max,b=Math.abs(h.x-p.x)*o,S=Math.abs(h.y-p.y)*o;return vt(z(h.x-b,h.y-S),z(p.x+b,p.y+S))},equals:function(o){return o?(o=vt(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function vt(o,h){return!o||o instanceof lt?o:new lt(o,h)}function mt(o,h){if(o)for(var p=h?[o,h]:o,b=0,S=p.length;b<S;b++)this.extend(p[b])}mt.prototype={extend:function(o){var h=this._southWest,p=this._northEast,b,S;if(o instanceof St)b=o,S=o;else if(o instanceof mt){if(b=o._southWest,S=o._northEast,!b||!S)return this}else return o?this.extend(Tt(o)||xt(o)):this;return!h&&!p?(this._southWest=new St(b.lat,b.lng),this._northEast=new St(S.lat,S.lng)):(h.lat=Math.min(b.lat,h.lat),h.lng=Math.min(b.lng,h.lng),p.lat=Math.max(S.lat,p.lat),p.lng=Math.max(S.lng,p.lng)),this},pad:function(o){var h=this._southWest,p=this._northEast,b=Math.abs(h.lat-p.lat)*o,S=Math.abs(h.lng-p.lng)*o;return new mt(new St(h.lat-b,h.lng-S),new St(p.lat+b,p.lng+S))},getCenter:function(){return new St((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new St(this.getNorth(),this.getWest())},getSouthEast:function(){return new St(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof St||"lat"in o?o=Tt(o):o=xt(o);var h=this._southWest,p=this._northEast,b,S;return o instanceof mt?(b=o.getSouthWest(),S=o.getNorthEast()):b=S=o,b.lat>=h.lat&&S.lat<=p.lat&&b.lng>=h.lng&&S.lng<=p.lng},intersects:function(o){o=xt(o);var h=this._southWest,p=this._northEast,b=o.getSouthWest(),S=o.getNorthEast(),M=S.lat>=h.lat&&b.lat<=p.lat,F=S.lng>=h.lng&&b.lng<=p.lng;return M&&F},overlaps:function(o){o=xt(o);var h=this._southWest,p=this._northEast,b=o.getSouthWest(),S=o.getNorthEast(),M=S.lat>h.lat&&b.lat<p.lat,F=S.lng>h.lng&&b.lng<p.lng;return M&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,h){return o?(o=xt(o),this._southWest.equals(o.getSouthWest(),h)&&this._northEast.equals(o.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xt(o,h){return o instanceof mt?o:new mt(o,h)}function St(o,h,p){if(isNaN(o)||isNaN(h))throw new Error("Invalid LatLng object: ("+o+", "+h+")");this.lat=+o,this.lng=+h,p!==void 0&&(this.alt=+p)}St.prototype={equals:function(o,h){if(!o)return!1;o=Tt(o);var p=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return p<=(h===void 0?1e-9:h)},toString:function(o){return"LatLng("+w(this.lat,o)+", "+w(this.lng,o)+")"},distanceTo:function(o){return ne.distance(this,Tt(o))},wrap:function(){return ne.wrapLatLng(this)},toBounds:function(o){var h=180*o/40075017,p=h/Math.cos(Math.PI/180*this.lat);return xt([this.lat-h,this.lng-p],[this.lat+h,this.lng+p])},clone:function(){return new St(this.lat,this.lng,this.alt)}};function Tt(o,h,p){return o instanceof St?o:st(o)&&typeof o[0]!="object"?o.length===3?new St(o[0],o[1],o[2]):o.length===2?new St(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new St(o.lat,"lng"in o?o.lng:o.lon,o.alt):h===void 0?null:new St(o,h,p)}var _e={latLngToPoint:function(o,h){var p=this.projection.project(o),b=this.scale(h);return this.transformation._transform(p,b)},pointToLatLng:function(o,h){var p=this.scale(h),b=this.transformation.untransform(o,p);return this.projection.unproject(b)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var h=this.projection.bounds,p=this.scale(o),b=this.transformation.transform(h.min,p),S=this.transformation.transform(h.max,p);return new lt(b,S)},infinite:!1,wrapLatLng:function(o){var h=this.wrapLng?T(o.lng,this.wrapLng,!0):o.lng,p=this.wrapLat?T(o.lat,this.wrapLat,!0):o.lat,b=o.alt;return new St(p,h,b)},wrapLatLngBounds:function(o){var h=o.getCenter(),p=this.wrapLatLng(h),b=h.lat-p.lat,S=h.lng-p.lng;if(b===0&&S===0)return o;var M=o.getSouthWest(),F=o.getNorthEast(),Q=new St(M.lat-b,M.lng-S),at=new St(F.lat-b,F.lng-S);return new mt(Q,at)}},ne=a({},_e,{wrapLng:[-180,180],R:6371e3,distance:function(o,h){var p=Math.PI/180,b=o.lat*p,S=h.lat*p,M=Math.sin((h.lat-o.lat)*p/2),F=Math.sin((h.lng-o.lng)*p/2),Q=M*M+Math.cos(b)*Math.cos(S)*F*F,at=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));return this.R*at}}),ti=6378137,li={R:ti,MAX_LATITUDE:85.0511287798,project:function(o){var h=Math.PI/180,p=this.MAX_LATITUDE,b=Math.max(Math.min(p,o.lat),-p),S=Math.sin(b*h);return new dt(this.R*o.lng*h,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(o){var h=180/Math.PI;return new St((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*h,o.x*h/this.R)},bounds:function(){var o=ti*Math.PI;return new lt([-o,-o],[o,o])}()};function Pt(o,h,p,b){if(st(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=h,this._c=p,this._d=b}Pt.prototype={transform:function(o,h){return this._transform(o.clone(),h)},_transform:function(o,h){return h=h||1,o.x=h*(this._a*o.x+this._b),o.y=h*(this._c*o.y+this._d),o},untransform:function(o,h){return h=h||1,new dt((o.x/h-this._b)/this._a,(o.y/h-this._d)/this._c)}};function Qt(o,h,p,b){return new Pt(o,h,p,b)}var Te=a({},ne,{code:"EPSG:3857",projection:li,transformation:function(){var o=.5/(Math.PI*li.R);return Qt(o,.5,-o,.5)}()}),dn=a({},Te,{code:"EPSG:900913"});function an(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function ui(o,h){var p="",b,S,M,F,Q,at;for(b=0,M=o.length;b<M;b++){for(Q=o[b],S=0,F=Q.length;S<F;S++)at=Q[S],p+=(S?"L":"M")+at.x+" "+at.y;p+=h?Dt.svg?"z":"x":""}return p||"M0 0"}var En=document.documentElement.style,Zi="ActiveXObject"in window,oo=Zi&&!document.addEventListener,hr="msLaunchUri"in navigator&&!("documentMode"in document),ms=qn("webkit"),cl=qn("android"),fr=qn("android 2")||qn("android 3"),lo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),hl=cl&&qn("Google")&&lo<537&&!("AudioNode"in window),Le=!!window.opera,me=!hr&&qn("chrome"),Fn=qn("gecko")&&!ms&&!Le&&!Zi,xn=!me&&qn("safari"),uo=qn("phantom"),fl="OTransition"in En,dr=navigator.platform.indexOf("Win")===0,ks=Zi&&"transition"in En,gs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!fr,ci="MozPerspective"in En,Gr=!window.L_DISABLE_3D&&(ks||gs||ci)&&!fl&&!uo,Si=typeof orientation<"u"||qn("mobile"),co=Si&&ms,ho=Si&&gs,Yr=!window.PointerEvent&&window.MSPointerEvent,Gi=!!(window.PointerEvent||Yr),Yi="ontouchstart"in window||!!window.TouchEvent,fo=!window.L_NO_TOUCH&&(Yi||Gi),Ki=Si&&Le,mo=Si&&Fn,Ns=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Kr=function(){var o=!1;try{var h=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",x,h),window.removeEventListener("testPassiveEventSupport",x,h)}catch{}return o}(),Vs=function(){return!!document.createElement("canvas").getContext}(),Xr=!!(document.createElementNS&&an("svg").createSVGRect),ke=!!Xr&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Je=!Xr&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var h=o.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),Xe=navigator.platform.indexOf("Mac")===0,hi=navigator.platform.indexOf("Linux")===0;function qn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Dt={ie:Zi,ielt9:oo,edge:hr,webkit:ms,android:cl,android23:fr,androidStock:hl,opera:Le,chrome:me,gecko:Fn,safari:xn,phantom:uo,opera12:fl,win:dr,ie3d:ks,webkit3d:gs,gecko3d:ci,any3d:Gr,mobile:Si,mobileWebkit:co,mobileWebkit3d:ho,msPointer:Yr,pointer:Gi,touch:fo,touchNative:Yi,mobileOpera:Ki,mobileGecko:mo,retina:Ns,passiveEvents:Kr,canvas:Vs,svg:Xr,vml:Je,inlineSvg:ke,mac:Xe,linux:hi},ps=Dt.msPointer?"MSPointerDown":"pointerdown",go=Dt.msPointer?"MSPointerMove":"pointermove",zs=Dt.msPointer?"MSPointerUp":"pointerup",_s=Dt.msPointer?"MSPointerCancel":"pointercancel",wi={touchstart:ps,touchmove:go,touchend:zs,touchcancel:_s},Ai={touchstart:gr,touchmove:mr,touchend:mr,touchcancel:mr},Ln={},Sn=!1;function Ze(o,h,p){return h==="touchstart"&&dl(),Ai[h]?(p=Ai[h].bind(this,p),o.addEventListener(wi[h],p,!1),p):(console.warn("wrong event specified:",h),x)}function po(o,h,p){if(!wi[h]){console.warn("wrong event specified:",h);return}o.removeEventListener(wi[h],p,!1)}function Wr(o){Ln[o.pointerId]=o}function Ci(o){Ln[o.pointerId]&&(Ln[o.pointerId]=o)}function Xi(o){delete Ln[o.pointerId]}function dl(){Sn||(document.addEventListener(ps,Wr,!0),document.addEventListener(go,Ci,!0),document.addEventListener(zs,Xi,!0),document.addEventListener(_s,Xi,!0),Sn=!0)}function mr(o,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var p in Ln)h.touches.push(Ln[p]);h.changedTouches=[h],o(h)}}function gr(o,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Ae(h),mr(o,h)}function ml(o){var h={},p,b;for(b in o)p=o[b],h[b]=p&&p.bind?p.bind(o):p;return o=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Bs=200;function Wi(o,h){o.addEventListener("dblclick",h);var p=0,b;function S(M){if(M.detail!==1){b=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var F=Jr(M);if(!(F.some(function(at){return at instanceof HTMLLabelElement&&at.attributes.for})&&!F.some(function(at){return at instanceof HTMLInputElement||at instanceof HTMLSelectElement}))){var Q=Date.now();Q-p<=Bs?(b++,b===2&&h(ml(M))):b=1,p=Q}}}return o.addEventListener("click",S),{dblclick:h,simDblclick:S}}function mn(o,h){o.removeEventListener("dblclick",h.dblclick),o.removeEventListener("click",h.simDblclick)}var ys=Ri(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),js=Ri(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qi=js==="webkitTransition"||js==="OTransition"?js+"End":"transitionend";function pr(o){return typeof o=="string"?document.getElementById(o):o}function $i(o,h){var p=o.style[h]||o.currentStyle&&o.currentStyle[h];if((!p||p==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(o,null);p=b?b[h]:null}return p==="auto"?null:p}function te(o,h,p){var b=document.createElement(o);return b.className=h||"",p&&p.appendChild(b),b}function ye(o){var h=o.parentNode;h&&h.removeChild(o)}function on(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Ji(o){var h=o.parentNode;h&&h.lastChild!==o&&h.appendChild(o)}function Us(o){var h=o.parentNode;h&&h.firstChild!==o&&h.insertBefore(o,h.firstChild)}function Hs(o,h){if(o.classList!==void 0)return o.classList.contains(h);var p=je(o);return p.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(p)}function Gt(o,h){if(o.classList!==void 0)for(var p=P(h),b=0,S=p.length;b<S;b++)o.classList.add(p[b]);else if(!Hs(o,h)){var M=je(o);_o(o,(M?M+" ":"")+h)}}function Ee(o,h){o.classList!==void 0?o.classList.remove(h):_o(o,R((" "+je(o)+" ").replace(" "+h+" "," ")))}function _o(o,h){o.className.baseVal===void 0?o.className=h:o.className.baseVal=h}function je(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Ne(o,h){"opacity"in o.style?o.style.opacity=h:"filter"in o.style&&_r(o,h)}function _r(o,h){var p=!1,b="DXImageTransform.Microsoft.Alpha";try{p=o.filters.item(b)}catch{if(h===1)return}h=Math.round(h*100),p?(p.Enabled=h!==100,p.Opacity=h):o.style.filter+=" progid:"+b+"(opacity="+h+")"}function Ri(o){for(var h=document.documentElement.style,p=0;p<o.length;p++)if(o[p]in h)return o[p];return!1}function kn(o,h,p){var b=h||new dt(0,0);o.style[ys]=(Dt.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(p?" scale("+p+")":"")}function Ht(o,h){o._leaflet_pos=h,Dt.any3d?kn(o,h):(o.style.left=h.x+"px",o.style.top=h.y+"px")}function ei(o){return o._leaflet_pos||new dt(0,0)}var wn,Mi,Qr;if("onselectstart"in document)wn=function(){Vt(window,"selectstart",Ae)},Mi=function(){ue(window,"selectstart",Ae)};else{var vs=Ri(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wn=function(){if(vs){var o=document.documentElement.style;Qr=o[vs],o[vs]="none"}},Mi=function(){vs&&(document.documentElement.style[vs]=Qr,Qr=void 0)}}function yr(){Vt(window,"dragstart",Ae)}function yo(){ue(window,"dragstart",Ae)}var $r,Fs;function Di(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Nn(),$r=o,Fs=o.style.outlineStyle,o.style.outlineStyle="none",Vt(window,"keydown",Nn))}function Nn(){$r&&($r.style.outlineStyle=Fs,$r=void 0,Fs=void 0,ue(window,"keydown",Nn))}function ts(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Ii(o){var h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}var vo={__proto__:null,TRANSFORM:ys,TRANSITION:js,TRANSITION_END:Qi,get:pr,getStyle:$i,create:te,remove:ye,empty:on,toFront:Ji,toBack:Us,hasClass:Hs,addClass:Gt,removeClass:Ee,setClass:_o,getClass:je,setOpacity:Ne,testProp:Ri,setTransform:kn,setPosition:Ht,getPosition:ei,get disableTextSelection(){return wn},get enableTextSelection(){return Mi},disableImageDrag:yr,enableImageDrag:yo,preventOutline:Di,restoreOutline:Nn,getSizedParentNode:ts,getScale:Ii};function Vt(o,h,p,b){if(h&&typeof h=="object")for(var S in h)bs(o,S,h[S],p);else{h=P(h);for(var M=0,F=h.length;M<F;M++)bs(o,h[M],p,b)}return this}var ni="_leaflet_events";function ue(o,h,p,b){if(arguments.length===1)fi(o),delete o[ni];else if(h&&typeof h=="object")for(var S in h)di(o,S,h[S],p);else if(h=P(h),arguments.length===2)fi(o,function(Q){return ut(h,Q)!==-1});else for(var M=0,F=h.length;M<F;M++)di(o,h[M],p,b);return this}function fi(o,h){for(var p in o[ni]){var b=p.split(/\d/)[0];(!h||h(b))&&di(o,b,null,null,p)}}var Zn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function bs(o,h,p,b){var S=h+g(p)+(b?"_"+g(b):"");if(o[ni]&&o[ni][S])return this;var M=function(Q){return p.call(b||o,Q||window.event)},F=M;!Dt.touchNative&&Dt.pointer&&h.indexOf("touch")===0?M=Ze(o,h,M):Dt.touch&&h==="dblclick"?M=Wi(o,M):"addEventListener"in o?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?o.addEventListener(Zn[h]||h,M,Dt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(M=function(Q){Q=Q||window.event,Es(o,Q)&&F(Q)},o.addEventListener(Zn[h],M,!1)):o.addEventListener(h,F,!1):o.attachEvent("on"+h,M),o[ni]=o[ni]||{},o[ni][S]=M}function di(o,h,p,b,S){S=S||h+g(p)+(b?"_"+g(b):"");var M=o[ni]&&o[ni][S];if(!M)return this;!Dt.touchNative&&Dt.pointer&&h.indexOf("touch")===0?po(o,h,M):Dt.touch&&h==="dblclick"?mn(o,M):"removeEventListener"in o?o.removeEventListener(Zn[h]||h,M,!1):o.detachEvent("on"+h,M),o[ni][S]=null}function Gn(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Oi(o){return bs(o,"wheel",Gn),this}function Ts(o){return Vt(o,"mousedown touchstart dblclick contextmenu",Gn),o._leaflet_disable_click=!0,this}function Ae(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function An(o){return Ae(o),Gn(o),this}function Jr(o){if(o.composedPath)return o.composedPath();for(var h=[],p=o.target;p;)h.push(p),p=p.parentNode;return h}function tn(o,h){if(!h)return new dt(o.clientX,o.clientY);var p=Ii(h),b=p.boundingClientRect;return new dt((o.clientX-b.left)/p.x-h.clientLeft,(o.clientY-b.top)/p.y-h.clientTop)}var ge=Dt.linux&&Dt.chrome?window.devicePixelRatio:Dt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function vr(o){return Dt.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/ge:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Es(o,h){var p=h.relatedTarget;if(!p)return!0;try{for(;p&&p!==o;)p=p.parentNode}catch{return!1}return p!==o}var gl={__proto__:null,on:Vt,off:ue,stopPropagation:Gn,disableScrollPropagation:Oi,disableClickPropagation:Ts,preventDefault:Ae,stop:An,getPropagationPath:Jr,getMousePosition:tn,getWheelDelta:vr,isExternalTarget:Es,addListener:Vt,removeListener:ue},br=_t.extend({run:function(o,h,p,b){this.stop(),this._el=o,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=ei(o),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(o){var h=+new Date-this._startTime,p=this._duration*1e3;h<p?this._runFrame(this._easeOut(h/p),o):(this._runFrame(1),this._complete())},_runFrame:function(o,h){var p=this._startPos.add(this._offset.multiplyBy(o));h&&p._round(),Ht(this._el,p),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Xt=_t.extend({options:{crs:Te,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,h){h=k(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Tt(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=js&&Dt.any3d&&!Dt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Vt(this._proxy,Qi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,h,p){if(h=h===void 0?this._zoom:this._limitZoom(h),o=this._limitCenter(Tt(o),h,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=a({animate:p.animate},p.zoom),p.pan=a({animate:p.animate,duration:p.duration},p.pan));var b=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,h,p.zoom):this._tryAnimatedPan(o,p.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(o,h,p.pan&&p.pan.noMoveStart),this},setZoom:function(o,h){return this._loaded?this.setView(this.getCenter(),o,{zoom:h}):(this._zoom=o,this)},zoomIn:function(o,h){return o=o||(Dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,h)},zoomOut:function(o,h){return o=o||(Dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,h)},setZoomAround:function(o,h,p){var b=this.getZoomScale(h),S=this.getSize().divideBy(2),M=o instanceof dt?o:this.latLngToContainerPoint(o),F=M.subtract(S).multiplyBy(1-1/b),Q=this.containerPointToLatLng(S.add(F));return this.setView(Q,h,{zoom:p})},_getBoundsCenterZoom:function(o,h){h=h||{},o=o.getBounds?o.getBounds():xt(o);var p=z(h.paddingTopLeft||h.padding||[0,0]),b=z(h.paddingBottomRight||h.padding||[0,0]),S=this.getBoundsZoom(o,!1,p.add(b));if(S=typeof h.maxZoom=="number"?Math.min(h.maxZoom,S):S,S===1/0)return{center:o.getCenter(),zoom:S};var M=b.subtract(p).divideBy(2),F=this.project(o.getSouthWest(),S),Q=this.project(o.getNorthEast(),S),at=this.unproject(F.add(Q).divideBy(2).add(M),S);return{center:at,zoom:S}},fitBounds:function(o,h){if(o=xt(o),!o.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(o,h);return this.setView(p.center,p.zoom,h)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,h){return this.setView(o,this._zoom,{pan:h})},panBy:function(o,h){if(o=z(o).round(),h=h||{},!o.x&&!o.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new br,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Gt(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,p,h.duration||.25,h.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,h,p){if(p=p||{},p.animate===!1||!Dt.any3d)return this.setView(o,h,p);this._stop();var b=this.project(this.getCenter()),S=this.project(o),M=this.getSize(),F=this._zoom;o=Tt(o),h=h===void 0?F:h;var Q=Math.max(M.x,M.y),at=Q*this.getZoomScale(F,h),yt=S.distanceTo(b)||1,wt=1.42,Ct=wt*wt;function Mt(He){var os=He?-1:1,Rs=He?at:Q,Xs=at*at-Q*Q+os*Ct*Ct*yt*yt,Ms=2*Rs*Ct*yt,Lo=Xs/Ms,Rl=Math.sqrt(Lo*Lo+1)-Lo,ko=Rl<1e-9?-18:Math.log(Rl);return ko}function Zt(He){return(Math.exp(He)-Math.exp(-He))/2}function ze(He){return(Math.exp(He)+Math.exp(-He))/2}function Ge(He){return Zt(He)/ze(He)}var Rn=Mt(0);function mi(He){return Q*(ze(Rn)/ze(Rn+wt*He))}function uh(He){return Q*(ze(Rn)*Ge(Rn+wt*He)-Zt(Rn))/Ct}function ch(He){return 1-Math.pow(1-He,1.5)}var Po=Date.now(),pa=(Mt(1)-Rn)/wt,hh=p.duration?1e3*p.duration:1e3*pa*.8;function _a(){var He=(Date.now()-Po)/hh,os=ch(He)*pa;He<=1?(this._flyToFrame=U(_a,this),this._move(this.unproject(b.add(S.subtract(b).multiplyBy(uh(os)/yt)),F),this.getScaleZoom(Q/mi(os),F),{flyTo:!0})):this._move(o,h)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),_a.call(this),this},flyToBounds:function(o,h){var p=this._getBoundsCenterZoom(o,h);return this.flyTo(p.center,p.zoom,h)},setMaxBounds:function(o){return o=xt(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var h=this.options.minZoom;return this.options.minZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var h=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&h!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,h){this._enforcingBounds=!0;var p=this.getCenter(),b=this._limitCenter(p,this._zoom,xt(o));return p.equals(b)||this.panTo(b,h),this._enforcingBounds=!1,this},panInside:function(o,h){h=h||{};var p=z(h.paddingTopLeft||h.padding||[0,0]),b=z(h.paddingBottomRight||h.padding||[0,0]),S=this.project(this.getCenter()),M=this.project(o),F=this.getPixelBounds(),Q=vt([F.min.add(p),F.max.subtract(b)]),at=Q.getSize();if(!Q.contains(M)){this._enforcingBounds=!0;var yt=M.subtract(Q.getCenter()),wt=Q.extend(M).getSize().subtract(at);S.x+=yt.x<0?-wt.x:wt.x,S.y+=yt.y<0?-wt.y:wt.y,this.panTo(this.unproject(S),h),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=a({animate:!1,pan:!0},o===!0?{animate:!0}:o);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),b=h.divideBy(2).round(),S=p.divideBy(2).round(),M=b.subtract(S);return!M.x&&!M.y?this:(o.animate&&o.pan?this.panBy(M):(o.pan&&this._rawPanBy(M),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=a({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=c(this._handleGeolocationResponse,this),p=c(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,p,o):navigator.geolocation.getCurrentPosition(h,p,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var h=o.code,p=o.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var h=o.coords.latitude,p=o.coords.longitude,b=new St(h,p),S=b.toBounds(o.coords.accuracy*2),M=this._locateOptions;if(M.setView){var F=this.getBoundsZoom(S);this.setView(b,M.maxZoom?Math.min(F,M.maxZoom):F)}var Q={latlng:b,bounds:S,timestamp:o.timestamp};for(var at in o.coords)typeof o.coords[at]=="number"&&(Q[at]=o.coords[at]);this.fire("locationfound",Q)}},addHandler:function(o,h){if(!h)return this;var p=this[o]=new h(this);return this._handlers.push(p),this.options[o]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ye(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)ye(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,h){var p="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),b=te("div",p,h||this._mapPane);return o&&(this._panes[o]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),h=this.unproject(o.getBottomLeft()),p=this.unproject(o.getTopRight());return new mt(h,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,h,p){o=xt(o),p=z(p||[0,0]);var b=this.getZoom()||0,S=this.getMinZoom(),M=this.getMaxZoom(),F=o.getNorthWest(),Q=o.getSouthEast(),at=this.getSize().subtract(p),yt=vt(this.project(Q,b),this.project(F,b)).getSize(),wt=Dt.any3d?this.options.zoomSnap:1,Ct=at.x/yt.x,Mt=at.y/yt.y,Zt=h?Math.max(Ct,Mt):Math.min(Ct,Mt);return b=this.getScaleZoom(Zt,b),wt&&(b=Math.round(b/(wt/100))*(wt/100),b=h?Math.ceil(b/wt)*wt:Math.floor(b/wt)*wt),Math.max(S,Math.min(M,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new dt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,h){var p=this._getTopLeftPoint(o,h);return new lt(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,h){var p=this.options.crs;return h=h===void 0?this._zoom:h,p.scale(o)/p.scale(h)},getScaleZoom:function(o,h){var p=this.options.crs;h=h===void 0?this._zoom:h;var b=p.zoom(o*p.scale(h));return isNaN(b)?1/0:b},project:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Tt(o),h)},unproject:function(o,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(z(o),h)},layerPointToLatLng:function(o){var h=z(o).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(o){var h=this.project(Tt(o))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Tt(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(xt(o))},distance:function(o,h){return this.options.crs.distance(Tt(o),Tt(h))},containerPointToLayerPoint:function(o){return z(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return z(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var h=this.containerPointToLayerPoint(z(o));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Tt(o)))},mouseEventToContainerPoint:function(o){return tn(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var h=this._container=pr(o);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Vt(h,"scroll",this._onScroll,this),this._containerId=g(h)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Dt.any3d,Gt(o,"leaflet-container"+(Dt.touch?" leaflet-touch":"")+(Dt.retina?" leaflet-retina":"")+(Dt.ielt9?" leaflet-oldie":"")+(Dt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=$i(o,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ht(this._mapPane,new dt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Gt(o.markerPane,"leaflet-zoom-hide"),Gt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,h,p){Ht(this._mapPane,new dt(0,0));var b=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var S=this._zoom!==h;this._moveStart(S,p)._move(o,h)._moveEnd(S),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(o,h){return o&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(o,h,p,b){h===void 0&&(h=this._zoom);var S=this._zoom!==h;return this._zoom=h,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),b?p&&p.pinch&&this.fire("zoom",p):((S||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Ht(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[g(this._container)]=this;var h=o?ue:Vt;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Dt.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,h){for(var p=[],b,S=h==="mouseout"||h==="mouseover",M=o.target||o.srcElement,F=!1;M;){if(b=this._targets[g(M)],b&&(h==="click"||h==="preclick")&&this._draggableMoved(b)){F=!0;break}if(b&&b.listens(h,!0)&&(S&&!Es(M,o)||(p.push(b),S))||M===this._container)break;M=M.parentNode}return!p.length&&!F&&!S&&this.listens(h,!0)&&(p=[this]),p},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var h=o.target||o.srcElement;if(!(!this._loaded||h._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(h))){var p=o.type;p==="mousedown"&&Di(h),this._fireDOMEvent(o,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,h,p){if(o.type==="click"){var b=a({},o);b.type="preclick",this._fireDOMEvent(b,b.type,p)}var S=this._findEventTargets(o,h);if(p){for(var M=[],F=0;F<p.length;F++)p[F].listens(h,!0)&&M.push(p[F]);S=M.concat(S)}if(S.length){h==="contextmenu"&&Ae(o);var Q=S[0],at={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var yt=Q.getLatLng&&(!Q._radius||Q._radius<=10);at.containerPoint=yt?this.latLngToContainerPoint(Q.getLatLng()):this.mouseEventToContainerPoint(o),at.layerPoint=this.containerPointToLayerPoint(at.containerPoint),at.latlng=yt?Q.getLatLng():this.layerPointToLatLng(at.layerPoint)}for(F=0;F<S.length;F++)if(S[F].fire(h,at,!0),at.originalEvent._stopped||S[F].options.bubblingMouseEvents===!1&&ut(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,h=this._handlers.length;o<h;o++)this._handlers[o].disable()},whenReady:function(o,h){return this._loaded?o.call(h||this,{target:this}):this.on("load",o,h),this},_getMapPanePos:function(){return ei(this._mapPane)||new dt(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,h){var p=o&&h!==void 0?this._getNewPixelOrigin(o,h):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,h){var p=this.getSize()._divideBy(2);return this.project(o,h)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,h,p){var b=this._getNewPixelOrigin(p,h);return this.project(o,h)._subtract(b)},_latLngBoundsToNewLayerBounds:function(o,h,p){var b=this._getNewPixelOrigin(p,h);return vt([this.project(o.getSouthWest(),h)._subtract(b),this.project(o.getNorthWest(),h)._subtract(b),this.project(o.getSouthEast(),h)._subtract(b),this.project(o.getNorthEast(),h)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,h,p){if(!p)return o;var b=this.project(o,h),S=this.getSize().divideBy(2),M=new lt(b.subtract(S),b.add(S)),F=this._getBoundsOffset(M,p,h);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?o:this.unproject(b.add(F),h)},_limitOffset:function(o,h){if(!h)return o;var p=this.getPixelBounds(),b=new lt(p.min.add(o),p.max.add(o));return o.add(this._getBoundsOffset(b,h))},_getBoundsOffset:function(o,h,p){var b=vt(this.project(h.getNorthEast(),p),this.project(h.getSouthWest(),p)),S=b.min.subtract(o.min),M=b.max.subtract(o.max),F=this._rebound(S.x,-M.x),Q=this._rebound(S.y,-M.y);return new dt(F,Q)},_rebound:function(o,h){return o+h>0?Math.round(o-h)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(h))},_limitZoom:function(o){var h=this.getMinZoom(),p=this.getMaxZoom(),b=Dt.any3d?this.options.zoomSnap:1;return b&&(o=Math.round(o/b)*b),Math.max(h,Math.min(p,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ee(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,h){var p=this._getCenterOffset(o)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,h),!0)},_createAnimProxy:function(){var o=this._proxy=te("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(h){var p=ys,b=this._proxy.style[p];kn(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),b===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ye(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),h=this.getZoom();kn(this._proxy,this.project(o,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,h,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(h),S=this._getCenterOffset(o)._divideBy(1-1/b);return p.animate!==!0&&!this.getSize().contains(S)?!1:(U(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(o,h,!0)},this),!0)},_animateZoom:function(o,h,p,b){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=h,Gt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:h,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ee(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function es(o,h){return new Xt(o,h)}var gn=Ut.extend({options:{position:"topright"},initialize:function(o){k(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var h=this._map;return h&&h.removeControl(this),this.options.position=o,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var h=this._container=this.onAdd(o),p=this.getPosition(),b=o._controlCorners[p];return Gt(h,"leaflet-control"),p.indexOf("bottom")!==-1?b.insertBefore(h,b.firstChild):b.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ye(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Cn=function(o){return new gn(o)};Xt.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},h="leaflet-",p=this._controlContainer=te("div",h+"control-container",this._container);function b(S,M){var F=h+S+" "+h+M;o[S+M]=te("div",F,p)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)ye(this._controlCorners[o]);ye(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var bo=gn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,h,p,b){return p<b?-1:b<p?1:0}},initialize:function(o,h,p){k(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in o)this._addLayer(o[b],b);for(b in h)this._addLayer(h[b],b,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return gn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,h){return this._addLayer(o,h),this._map?this._update():this},addOverlay:function(o,h){return this._addLayer(o,h,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var h=this._getLayer(g(o));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Gt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Gt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Ee(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ee(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",h=this._container=te("div",o),p=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Ts(h),Oi(h);var b=this._section=te("section",o+"-list");p&&(this._map.on("click",this.collapse,this),Vt(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=te("a",o+"-toggle",h);S.href="#",S.title="Layers",S.setAttribute("role","button"),Vt(S,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){Ae(M),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=te("div",o+"-base",b),this._separator=te("div",o+"-separator",b),this._overlaysList=te("div",o+"-overlays",b),h.appendChild(b)},_getLayer:function(o){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&g(this._layers[h].layer)===o)return this._layers[h]},_addLayer:function(o,h,p){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:h,overlay:p}),this.options.sortLayers&&this._layers.sort(c(function(b,S){return this.options.sortFunction(b.layer,S.layer,b.name,S.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;on(this._baseLayersList),on(this._overlaysList),this._layerControlInputs=[];var o,h,p,b,S=0;for(p=0;p<this._layers.length;p++)b=this._layers[p],this._addItem(b),h=h||b.overlay,o=o||!b.overlay,S+=b.overlay?0:1;return this.options.hideSingleBase&&(o=o&&S>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=h&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var h=this._getLayer(g(o.target)),p=h.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;p&&this._map.fire(p,h)},_createRadioElement:function(o,h){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(h?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=p,b.firstChild},_addItem:function(o){var h=document.createElement("label"),p=this._map.hasLayer(o.layer),b;o.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=p):b=this._createRadioElement("leaflet-base-layers_"+g(this),p),this._layerControlInputs.push(b),b.layerId=g(o.layer),Vt(b,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+o.name;var M=document.createElement("span");h.appendChild(M),M.appendChild(b),M.appendChild(S);var F=o.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,h,p,b=[],S=[];this._handlingClick=!0;for(var M=o.length-1;M>=0;M--)h=o[M],p=this._getLayer(h.layerId).layer,h.checked?b.push(p):h.checked||S.push(p);for(M=0;M<S.length;M++)this._map.hasLayer(S[M])&&this._map.removeLayer(S[M]);for(M=0;M<b.length;M++)this._map.hasLayer(b[M])||this._map.addLayer(b[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,h,p,b=this._map.getZoom(),S=o.length-1;S>=0;S--)h=o[S],p=this._getLayer(h.layerId).layer,h.disabled=p.options.minZoom!==void 0&&b<p.options.minZoom||p.options.maxZoom!==void 0&&b>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Vt(o,"click",Ae),this.expand();var h=this;setTimeout(function(){ue(o,"click",Ae),h._preventClick=!1})}}),Tu=function(o,h,p){return new bo(o,h,p)},xs=gn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var h="leaflet-control-zoom",p=te("div",h+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,h+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,h+"-out",p,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,h,p,b,S){var M=te("a",p,b);return M.innerHTML=o,M.href="#",M.title=h,M.setAttribute("role","button"),M.setAttribute("aria-label",h),Ts(M),Vt(M,"click",An),Vt(M,"click",S,this),Vt(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var o=this._map,h="leaflet-disabled";Ee(this._zoomInButton,h),Ee(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Gt(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Gt(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xt.mergeOptions({zoomControl:!0}),Xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xs,this.addControl(this.zoomControl))});var ta=function(o){return new xs(o)},ea=gn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var h="leaflet-control-scale",p=te("div",h),b=this.options;return this._addScales(b,h+"-line",p),o.on(b.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),p},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,h,p){o.metric&&(this._mScale=te("div",h,p)),o.imperial&&(this._iScale=te("div",h,p))},_update:function(){var o=this._map,h=o.getSize().y/2,p=o.distance(o.containerPointToLatLng([0,h]),o.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(p)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var h=this._getRoundNum(o),p=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,p,h/o)},_updateImperial:function(o){var h=o*3.2808399,p,b,S;h>5280?(p=h/5280,b=this._getRoundNum(p),this._updateScale(this._iScale,b+" mi",b/p)):(S=this._getRoundNum(h),this._updateScale(this._iScale,S+" ft",S/h))},_updateScale:function(o,h,p){o.style.width=Math.round(this.options.maxWidth*p)+"px",o.innerHTML=h},_getRoundNum:function(o){var h=Math.pow(10,(Math.floor(o)+"").length-1),p=o/h;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,h*p}}),na=function(o){return new ea(o)},pl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',qs=gn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Dt.inlineSvg?pl+" ":"")+"Leaflet</a>"},initialize:function(o){k(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=te("div","leaflet-control-attribution"),Ts(this._container);for(var h in o._layers)o._layers[h].getAttribution&&this.addAttribution(o._layers[h].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var h in this._attributions)this._attributions[h]&&o.push(h);var p=[];this.options.prefix&&p.push(this.options.prefix),o.length&&p.push(o.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Xt.mergeOptions({attributionControl:!0}),Xt.addInitHook(function(){this.options.attributionControl&&new qs().addTo(this)});var Eu=function(o){return new qs(o)};gn.Layers=bo,gn.Zoom=xs,gn.Scale=ea,gn.Attribution=qs,Cn.layers=Tu,Cn.zoom=ta,Cn.scale=na,Cn.attribution=Eu;var Yn=Ut.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yn.addTo=function(o,h){return o.addHandler(h,this),this};var Tr={Events:$},To=Dt.touch?"touchstart mousedown":"mousedown",Pi=_t.extend({options:{clickTolerance:3},initialize:function(o,h,p,b){k(this,b),this._element=o,this._dragStartTarget=h||o,this._preventOutline=p},enable:function(){this._enabled||(Vt(this._dragStartTarget,To,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pi._dragging===this&&this.finishDrag(!0),ue(this._dragStartTarget,To,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Hs(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Pi._dragging===this&&this.finishDrag();return}if(!(Pi._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Pi._dragging=this,this._preventOutline&&Di(this._element),yr(),wn(),!this._moving)){this.fire("down");var h=o.touches?o.touches[0]:o,p=ts(this._element);this._startPoint=new dt(h.clientX,h.clientY),this._startPos=ei(this._element),this._parentScale=Ii(p);var b=o.type==="mousedown";Vt(document,b?"mousemove":"touchmove",this._onMove,this),Vt(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var h=o.touches&&o.touches.length===1?o.touches[0]:o,p=new dt(h.clientX,h.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Ae(o),this._moved||(this.fire("dragstart"),this._moved=!0,Gt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Gt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Ht(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Ee(document.body,"leaflet-dragging"),this._lastTarget&&(Ee(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ue(document,"mousemove touchmove",this._onMove,this),ue(document,"mouseup touchend touchcancel",this._onUp,this),yo(),Mi();var h=this._moved&&this._moving;this._moving=!1,Pi._dragging=!1,h&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function ia(o,h,p){var b,S=[1,4,2,8],M,F,Q,at,yt,wt,Ct,Mt;for(M=0,wt=o.length;M<wt;M++)o[M]._code=ns(o[M],h);for(Q=0;Q<4;Q++){for(Ct=S[Q],b=[],M=0,wt=o.length,F=wt-1;M<wt;F=M++)at=o[M],yt=o[F],at._code&Ct?yt._code&Ct||(Mt=ln(yt,at,Ct,h,p),Mt._code=ns(Mt,h),b.push(Mt)):(yt._code&Ct&&(Mt=ln(yt,at,Ct,h,p),Mt._code=ns(Mt,h),b.push(Mt)),b.push(at));o=b}return o}function Zs(o,h){var p,b,S,M,F,Q,at,yt,wt;if(!o||o.length===0)throw new Error("latlngs not passed");m(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ct=Tt([0,0]),Mt=xt(o),Zt=Mt.getNorthWest().distanceTo(Mt.getSouthWest())*Mt.getNorthEast().distanceTo(Mt.getNorthWest());Zt<1700&&(Ct=sa(o));var ze=o.length,Ge=[];for(p=0;p<ze;p++){var Rn=Tt(o[p]);Ge.push(h.project(Tt([Rn.lat-Ct.lat,Rn.lng-Ct.lng])))}for(Q=at=yt=0,p=0,b=ze-1;p<ze;b=p++)S=Ge[p],M=Ge[b],F=S.y*M.x-M.y*S.x,at+=(S.x+M.x)*F,yt+=(S.y+M.y)*F,Q+=F*3;Q===0?wt=Ge[0]:wt=[at/Q,yt/Q];var mi=h.unproject(z(wt));return Tt([mi.lat+Ct.lat,mi.lng+Ct.lng])}function sa(o){for(var h=0,p=0,b=0,S=0;S<o.length;S++){var M=Tt(o[S]);h+=M.lat,p+=M.lng,b++}return Tt([h/b,p/b])}var ra={__proto__:null,clipPolygon:ia,polygonCenter:Zs,centroid:sa};function Eo(o,h){if(!h||!o.length)return o.slice();var p=h*h;return o=yl(o,p),o=_l(o,p),o}function aa(o,h,p){return Math.sqrt(Kn(o,h,p,!0))}function Ss(o,h,p){return Kn(o,h,p)}function _l(o,h){var p=o.length,b=typeof Uint8Array<"u"?Uint8Array:Array,S=new b(p);S[0]=S[p-1]=1,oa(o,S,h,0,p-1);var M,F=[];for(M=0;M<p;M++)S[M]&&F.push(o[M]);return F}function oa(o,h,p,b,S){var M=0,F,Q,at;for(Q=b+1;Q<=S-1;Q++)at=Kn(o[Q],o[b],o[S],!0),at>M&&(F=Q,M=at);M>p&&(h[F]=1,oa(o,h,p,b,F),oa(o,h,p,F,S))}function yl(o,h){for(var p=[o[0]],b=1,S=0,M=o.length;b<M;b++)vl(o[b],o[S])>h&&(p.push(o[b]),S=b);return S<M-1&&p.push(o[M-1]),p}var xo;function Er(o,h,p,b,S){var M=b?xo:ns(o,p),F=ns(h,p),Q,at,yt;for(xo=F;;){if(!(M|F))return[o,h];if(M&F)return!1;Q=M||F,at=ln(o,h,Q,p,S),yt=ns(at,p),Q===M?(o=at,M=yt):(h=at,F=yt)}}function ln(o,h,p,b,S){var M=h.x-o.x,F=h.y-o.y,Q=b.min,at=b.max,yt,wt;return p&8?(yt=o.x+M*(at.y-o.y)/F,wt=at.y):p&4?(yt=o.x+M*(Q.y-o.y)/F,wt=Q.y):p&2?(yt=at.x,wt=o.y+F*(at.x-o.x)/M):p&1&&(yt=Q.x,wt=o.y+F*(Q.x-o.x)/M),new dt(yt,wt,S)}function ns(o,h){var p=0;return o.x<h.min.x?p|=1:o.x>h.max.x&&(p|=2),o.y<h.min.y?p|=4:o.y>h.max.y&&(p|=8),p}function vl(o,h){var p=h.x-o.x,b=h.y-o.y;return p*p+b*b}function Kn(o,h,p,b){var S=h.x,M=h.y,F=p.x-S,Q=p.y-M,at=F*F+Q*Q,yt;return at>0&&(yt=((o.x-S)*F+(o.y-M)*Q)/at,yt>1?(S=p.x,M=p.y):yt>0&&(S+=F*yt,M+=Q*yt)),F=o.x-S,Q=o.y-M,b?F*F+Q*Q:new dt(S,M)}function m(o){return!st(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function E(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),m(o)}function A(o,h){var p,b,S,M,F,Q,at,yt;if(!o||o.length===0)throw new Error("latlngs not passed");m(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var wt=Tt([0,0]),Ct=xt(o),Mt=Ct.getNorthWest().distanceTo(Ct.getSouthWest())*Ct.getNorthEast().distanceTo(Ct.getNorthWest());Mt<1700&&(wt=sa(o));var Zt=o.length,ze=[];for(p=0;p<Zt;p++){var Ge=Tt(o[p]);ze.push(h.project(Tt([Ge.lat-wt.lat,Ge.lng-wt.lng])))}for(p=0,b=0;p<Zt-1;p++)b+=ze[p].distanceTo(ze[p+1])/2;if(b===0)yt=ze[0];else for(p=0,M=0;p<Zt-1;p++)if(F=ze[p],Q=ze[p+1],S=F.distanceTo(Q),M+=S,M>b){at=(M-b)/S,yt=[Q.x-at*(Q.x-F.x),Q.y-at*(Q.y-F.y)];break}var Rn=h.unproject(z(yt));return Tt([Rn.lat+wt.lat,Rn.lng+wt.lng])}var I={__proto__:null,simplify:Eo,pointToSegmentDistance:aa,closestPointOnSegment:Ss,clipSegment:Er,_getEdgeIntersection:ln,_getBitCode:ns,_sqClosestPointOnSegment:Kn,isFlat:m,_flat:E,polylineCenter:A},W={project:function(o){return new dt(o.lng,o.lat)},unproject:function(o){return new St(o.y,o.x)},bounds:new lt([-180,-90],[180,90])},ot={R:6378137,R_MINOR:6356752314245179e-9,bounds:new lt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var h=Math.PI/180,p=this.R,b=o.lat*h,S=this.R_MINOR/p,M=Math.sqrt(1-S*S),F=M*Math.sin(b),Q=Math.tan(Math.PI/4-b/2)/Math.pow((1-F)/(1+F),M/2);return b=-p*Math.log(Math.max(Q,1e-10)),new dt(o.lng*h*p,b)},unproject:function(o){for(var h=180/Math.PI,p=this.R,b=this.R_MINOR/p,S=Math.sqrt(1-b*b),M=Math.exp(-o.y/p),F=Math.PI/2-2*Math.atan(M),Q=0,at=.1,yt;Q<15&&Math.abs(at)>1e-7;Q++)yt=S*Math.sin(F),yt=Math.pow((1-yt)/(1+yt),S/2),at=Math.PI/2-2*Math.atan(M*yt)-F,F+=at;return new St(F*h,o.x*h/p)}},Et={__proto__:null,LonLat:W,Mercator:ot,SphericalMercator:li},ae=a({},ne,{code:"EPSG:3395",projection:ot,transformation:function(){var o=.5/(Math.PI*ot.R);return Qt(o,.5,-o,.5)}()}),We=a({},ne,{code:"EPSG:4326",projection:W,transformation:Qt(1/180,1,-1/180,.5)}),oe=a({},_e,{projection:W,transformation:Qt(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,h){var p=h.lng-o.lng,b=h.lat-o.lat;return Math.sqrt(p*p+b*b)},infinite:!0});_e.Earth=ne,_e.EPSG3395=ae,_e.EPSG3857=Te,_e.EPSG900913=dn,_e.EPSG4326=We,_e.Simple=oe;var ve=_t.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[g(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[g(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var h=o.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var p=this.getEvents();h.on(p,this),this.once("remove",function(){h.off(p,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Xt.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var h=g(o);return this._layers[h]?this:(this._layers[h]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var h=g(o);return this._layers[h]?(this._loaded&&o.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return g(o)in this._layers},eachLayer:function(o,h){for(var p in this._layers)o.call(h,this._layers[p]);return this},_addLayers:function(o){o=o?st(o)?o:[o]:[];for(var h=0,p=o.length;h<p;h++)this.addLayer(o[h])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[g(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var h=g(o);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,h=-1/0,p=this._getZoomSpan();for(var b in this._zoomBoundLayers){var S=this._zoomBoundLayers[b].options;o=S.minZoom===void 0?o:Math.min(o,S.minZoom),h=S.maxZoom===void 0?h:Math.max(h,S.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=o===1/0?void 0:o,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ve=ve.extend({initialize:function(o,h){k(this,h),this._layers={};var p,b;if(o)for(p=0,b=o.length;p<b;p++)this.addLayer(o[p])},addLayer:function(o){var h=this.getLayerId(o);return this._layers[h]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var h=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(o){var h=typeof o=="number"?o:this.getLayerId(o);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h=Array.prototype.slice.call(arguments,1),p,b;for(p in this._layers)b=this._layers[p],b[o]&&b[o].apply(b,h);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,h){for(var p in this._layers)o.call(h,this._layers[p]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return g(o)}}),ws=function(o,h){return new Ve(o,h)},Ie=Ve.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Ve.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Ve.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new mt;for(var h in this._layers){var p=this._layers[h];o.extend(p.getBounds?p.getBounds():p.getLatLng())}return o}}),is=function(o,h){return new Ie(o,h)},ss=Ut.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){k(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,h){var p=this._getIconUrl(o);if(!p){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(p,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(b,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(o,h){var p=this.options,b=p[h+"Size"];typeof b=="number"&&(b=[b,b]);var S=z(b),M=z(h==="shadow"&&p.shadowAnchor||p.iconAnchor||S&&S.divideBy(2,!0));o.className="leaflet-marker-"+h+" "+(p.className||""),M&&(o.style.marginLeft=-M.x+"px",o.style.marginTop=-M.y+"px"),S&&(o.style.width=S.x+"px",o.style.height=S.y+"px")},_createImg:function(o,h){return h=h||document.createElement("img"),h.src=o,h},_getIconUrl:function(o){return Dt.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function bl(o){return new ss(o)}var la=ss.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof la.imagePath!="string"&&(la.imagePath=this._detectIconPath()),(this.options.imagePath||la.imagePath)+ss.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var h=function(p,b,S){var M=b.exec(p);return M&&M[S]};return o=h(o,/^url\((['"])?(.+)\1\)$/,2),o&&h(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=te("div","leaflet-default-icon-path",document.body),h=$i(o,"background-image")||$i(o,"backgroundImage");if(document.body.removeChild(o),h=this._stripUrl(h),h)return h;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),xu=Yn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Pi(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Gt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ee(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var h=this._marker,p=h._map,b=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,M=ei(h._icon),F=p.getPixelBounds(),Q=p.getPixelOrigin(),at=vt(F.min._subtract(Q).add(S),F.max._subtract(Q).subtract(S));if(!at.contains(M)){var yt=z((Math.max(at.max.x,M.x)-at.max.x)/(F.max.x-at.max.x)-(Math.min(at.min.x,M.x)-at.min.x)/(F.min.x-at.min.x),(Math.max(at.max.y,M.y)-at.max.y)/(F.max.y-at.max.y)-(Math.min(at.min.y,M.y)-at.min.y)/(F.min.y-at.min.y)).multiplyBy(b);p.panBy(yt,{animate:!1}),this._draggable._newPos._add(yt),this._draggable._startPos._add(yt),Ht(h._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=U(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,o)))},_onDrag:function(o){var h=this._marker,p=h._shadow,b=ei(h._icon),S=h._map.layerPointToLatLng(b);p&&Ht(p,b),h._latlng=S,o.latlng=S,o.oldLatLng=this._oldLatLng,h.fire("move",o).fire("drag",o)},_onDragEnd:function(o){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),ua=ve.extend({options:{icon:new la,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,h){k(this,h),this._latlng=Tt(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var h=this._latlng;return this._latlng=Tt(o),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=o.icon.createIcon(this._icon),b=!1;p!==this._icon&&(this._icon&&this._removeIcon(),b=!0,o.title&&(p.title=o.title),p.tagName==="IMG"&&(p.alt=o.alt||"")),Gt(p,h),o.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Vt(p,"focus",this._panOnFocus,this);var S=o.icon.createShadow(this._shadow),M=!1;S!==this._shadow&&(this._removeShadow(),M=!0),S&&(Gt(S,h),S.alt=""),this._shadow=S,o.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&M&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ue(this._icon,"focus",this._panOnFocus,this),ye(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ye(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Ht(this._icon,o),this._shadow&&Ht(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Gt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xu)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xu(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Ne(this._icon,o),this._shadow&&Ne(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var h=this.options.icon.options,p=h.iconSize?z(h.iconSize):z(0,0),b=h.iconAnchor?z(h.iconAnchor):z(0,0);o.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:p.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Su(o,h){return new ua(o,h)}var As=ve.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return k(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),So=As.extend({options:{fill:!0,radius:10},initialize:function(o,h){k(this,h),this._latlng=Tt(o),this._radius=this.options.radius},setLatLng:function(o){var h=this._latlng;return this._latlng=Tt(o),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var h=o&&o.radius||this._radius;return As.prototype.setStyle.call(this,o),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,h=this._radiusY||o,p=this._clickTolerance(),b=[o+p,h+p];this._pxBounds=new lt(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ih(o,h){return new So(o,h)}var wu=So.extend({initialize:function(o,h,p){if(typeof h=="number"&&(h=a({},p,{radius:h})),k(this,h),this._latlng=Tt(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new mt(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:As.prototype.setStyle,_project:function(){var o=this._latlng.lng,h=this._latlng.lat,p=this._map,b=p.options.crs;if(b.distance===ne.distance){var S=Math.PI/180,M=this._mRadius/ne.R/S,F=p.project([h+M,o]),Q=p.project([h-M,o]),at=F.add(Q).divideBy(2),yt=p.unproject(at).lat,wt=Math.acos((Math.cos(M*S)-Math.sin(h*S)*Math.sin(yt*S))/(Math.cos(h*S)*Math.cos(yt*S)))/S;(isNaN(wt)||wt===0)&&(wt=M/Math.cos(Math.PI/180*h)),this._point=at.subtract(p.getPixelOrigin()),this._radius=isNaN(wt)?0:at.x-p.project([yt,o-wt]).x,this._radiusY=at.y-F.y}else{var Ct=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Ct).x}this._updateBounds()}});function Id(o,h,p){return new wu(o,h,p)}var Cs=As.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,h){k(this,h),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var h=1/0,p=null,b=Kn,S,M,F=0,Q=this._parts.length;F<Q;F++)for(var at=this._parts[F],yt=1,wt=at.length;yt<wt;yt++){S=at[yt-1],M=at[yt];var Ct=b(o,S,M,!0);Ct<h&&(h=Ct,p=b(o,S,M))}return p&&(p.distance=Math.sqrt(h)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return A(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,h){return h=h||this._defaultShape(),o=Tt(o),h.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new mt,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return m(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var h=[],p=m(o),b=0,S=o.length;b<S;b++)p?(h[b]=Tt(o[b]),this._bounds.extend(h[b])):h[b]=this._convertLatLngs(o[b]);return h},_project:function(){var o=new lt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),h=new dt(o,o);this._rawPxBounds&&(this._pxBounds=new lt([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(o,h,p){var b=o[0]instanceof St,S=o.length,M,F;if(b){for(F=[],M=0;M<S;M++)F[M]=this._map.latLngToLayerPoint(o[M]),p.extend(F[M]);h.push(F)}else for(M=0;M<S;M++)this._projectLatlngs(o[M],h,p)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,p,b,S,M,F,Q,at;for(p=0,S=0,M=this._rings.length;p<M;p++)for(at=this._rings[p],b=0,F=at.length;b<F-1;b++)Q=Er(at[b],at[b+1],o,b,!0),Q&&(h[S]=h[S]||[],h[S].push(Q[0]),(Q[1]!==at[b+1]||b===F-2)&&(h[S].push(Q[1]),S++))}},_simplifyPoints:function(){for(var o=this._parts,h=this.options.smoothFactor,p=0,b=o.length;p<b;p++)o[p]=Eo(o[p],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,h){var p,b,S,M,F,Q,at=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(p=0,M=this._parts.length;p<M;p++)for(Q=this._parts[p],b=0,F=Q.length,S=F-1;b<F;S=b++)if(!(!h&&b===0)&&aa(o,Q[S],Q[b])<=at)return!0;return!1}});function Od(o,h){return new Cs(o,h)}Cs._flat=E;var ca=Cs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Zs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var h=Cs.prototype._convertLatLngs.call(this,o),p=h.length;return p>=2&&h[0]instanceof St&&h[0].equals(h[p-1])&&h.pop(),h},_setLatLngs:function(o){Cs.prototype._setLatLngs.call(this,o),m(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return m(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,h=this.options.weight,p=new dt(h,h);if(o=new lt(o.min.subtract(p),o.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,S=this._rings.length,M;b<S;b++)M=ia(this._rings[b],o,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h=!1,p,b,S,M,F,Q,at,yt;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(M=0,at=this._parts.length;M<at;M++)for(p=this._parts[M],F=0,yt=p.length,Q=yt-1;F<yt;Q=F++)b=p[F],S=p[Q],b.y>o.y!=S.y>o.y&&o.x<(S.x-b.x)*(o.y-b.y)/(S.y-b.y)+b.x&&(h=!h);return h||Cs.prototype._containsPoint.call(this,o,!0)}});function ii(o,h){return new ca(o,h)}var si=Ie.extend({initialize:function(o,h){k(this,h),this._layers={},o&&this.addData(o)},addData:function(o){var h=st(o)?o:o.features,p,b,S;if(h){for(p=0,b=h.length;p<b;p++)S=h[p],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var M=this.options;if(M.filter&&!M.filter(o))return this;var F=wo(o,M);return F?(F.feature=ha(o),F.defaultOptions=F.options,this.resetStyle(F),M.onEachFeature&&M.onEachFeature(o,F),this.addLayer(F)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=a({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(h){this._setLayerStyle(h,o)},this)},_setLayerStyle:function(o,h){o.setStyle&&(typeof h=="function"&&(h=h(o.feature)),o.setStyle(h))}});function wo(o,h){var p=o.type==="Feature"?o.geometry:o,b=p?p.coordinates:null,S=[],M=h&&h.pointToLayer,F=h&&h.coordsToLatLng||Tl,Q,at,yt,wt;if(!b&&!p)return null;switch(p.type){case"Point":return Q=F(b),Au(M,o,Q,h);case"MultiPoint":for(yt=0,wt=b.length;yt<wt;yt++)Q=F(b[yt]),S.push(Au(M,o,Q,h));return new Ie(S);case"LineString":case"MultiLineString":return at=Ao(b,p.type==="LineString"?0:1,F),new Cs(at,h);case"Polygon":case"MultiPolygon":return at=Ao(b,p.type==="Polygon"?1:2,F),new ca(at,h);case"GeometryCollection":for(yt=0,wt=p.geometries.length;yt<wt;yt++){var Ct=wo({geometry:p.geometries[yt],type:"Feature",properties:o.properties},h);Ct&&S.push(Ct)}return new Ie(S);case"FeatureCollection":for(yt=0,wt=p.features.length;yt<wt;yt++){var Mt=wo(p.features[yt],h);Mt&&S.push(Mt)}return new Ie(S);default:throw new Error("Invalid GeoJSON object.")}}function Au(o,h,p,b){return o?o(h,p):new ua(p,b&&b.markersInheritOptions&&b)}function Tl(o){return new St(o[1],o[0],o[2])}function Ao(o,h,p){for(var b=[],S=0,M=o.length,F;S<M;S++)F=h?Ao(o[S],h-1,p):(p||Tl)(o[S]),b.push(F);return b}function Co(o,h){return o=Tt(o),o.alt!==void 0?[w(o.lng,h),w(o.lat,h),w(o.alt,h)]:[w(o.lng,h),w(o.lat,h)]}function El(o,h,p,b){for(var S=[],M=0,F=o.length;M<F;M++)S.push(h?El(o[M],m(o[M])?0:h-1,p,b):Co(o[M],b));return!h&&p&&S.length>0&&S.push(S[0].slice()),S}function Li(o,h){return o.feature?a({},o.feature,{geometry:h}):ha(h)}function ha(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var xr={toGeoJSON:function(o){return Li(this,{type:"Point",coordinates:Co(this.getLatLng(),o)})}};ua.include(xr),wu.include(xr),So.include(xr),Cs.include({toGeoJSON:function(o){var h=!m(this._latlngs),p=El(this._latlngs,h?1:0,!1,o);return Li(this,{type:(h?"Multi":"")+"LineString",coordinates:p})}}),ca.include({toGeoJSON:function(o){var h=!m(this._latlngs),p=h&&!m(this._latlngs[0]),b=El(this._latlngs,p?2:h?1:0,!0,o);return h||(b=[b]),Li(this,{type:(p?"Multi":"")+"Polygon",coordinates:b})}}),Ve.include({toMultiPoint:function(o){var h=[];return this.eachLayer(function(p){h.push(p.toGeoJSON(o).geometry.coordinates)}),Li(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(o){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(o);var p=h==="GeometryCollection",b=[];return this.eachLayer(function(S){if(S.toGeoJSON){var M=S.toGeoJSON(o);if(p)b.push(M.geometry);else{var F=ha(M);F.type==="FeatureCollection"?b.push.apply(b,F.features):b.push(F)}}}),p?Li(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function xl(o,h){return new si(o,h)}var sh=xl,rs=ve.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,h,p){this._url=o,this._bounds=xt(h),k(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Gt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ye(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Ji(this._image),this},bringToBack:function(){return this._map&&Us(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=xt(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",h=this._image=o?this._url:te("img");if(Gt(h,"leaflet-image-layer"),this._zoomAnimated&&Gt(h,"leaflet-zoom-animated"),this.options.className&&Gt(h,this.options.className),h.onselectstart=x,h.onmousemove=x,h.onload=c(this.fire,this,"load"),h.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(o){var h=this._map.getZoomScale(o.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;kn(this._image,p,h)},_reset:function(){var o=this._image,h=new lt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=h.getSize();Ht(o,h.min),o.style.width=p.x+"px",o.style.height=p.y+"px"},_updateOpacity:function(){Ne(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),fa=function(o,h,p){return new rs(o,h,p)},Sl=rs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",h=this._image=o?this._url:te("video");if(Gt(h,"leaflet-image-layer"),this._zoomAnimated&&Gt(h,"leaflet-zoom-animated"),this.options.className&&Gt(h,this.options.className),h.onselectstart=x,h.onmousemove=x,h.onloadeddata=c(this.fire,this,"load"),o){for(var p=h.getElementsByTagName("source"),b=[],S=0;S<p.length;S++)b.push(p[S].src);this._url=p.length>0?b:[h.src];return}st(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var F=te("source");F.src=this._url[M],h.appendChild(F)}}});function rh(o,h,p){return new Sl(o,h,p)}var Gs=rs.extend({_initImage:function(){var o=this._image=this._url;Gt(o,"leaflet-image-layer"),this._zoomAnimated&&Gt(o,"leaflet-zoom-animated"),this.options.className&&Gt(o,this.options.className),o.onselectstart=x,o.onmousemove=x}});function ah(o,h,p){return new Gs(o,h,p)}var ki=ve.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,h){o&&(o instanceof St||st(o))?(this._latlng=Tt(o),k(this,h)):(k(this,o),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Ne(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Ne(this._container,1),this.bringToFront(),this.options.interactive&&(Gt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Ne(this._container,0),this._removeTimeout=setTimeout(c(ye,void 0,this._container),200)):ye(this._container),this.options.interactive&&(Ee(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Tt(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ji(this._container),this},bringToBack:function(){return this._map&&Us(this._container),this},_prepareOpen:function(o){var h=this._source;if(!h._map)return!1;if(h instanceof Ie){h=null;var p=this._source._layers;for(var b in p)if(p[b]._map){h=p[b];break}if(!h)return!1;this._source=h}if(!o)if(h.getCenter)o=h.getCenter();else if(h.getLatLng)o=h.getLatLng();else if(h.getBounds)o=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")o.innerHTML=h;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),h=z(this.options.offset),p=this._getAnchor();this._zoomAnimated?Ht(this._container,o.add(p)):h=h.add(o).add(p);var b=this._containerBottom=-h.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=b+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Xt.include({_initOverlay:function(o,h,p,b){var S=h;return S instanceof o||(S=new o(b).setContent(h)),p&&S.setLatLng(p),S}}),ve.include({_initOverlay:function(o,h,p,b){var S=p;return S instanceof o?(k(S,b),S._source=this):(S=h&&!b?h:new o(b,this),S.setContent(p)),S}});var Ro=ki.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,ki.prototype.openOn.call(this,o)},onAdd:function(o){ki.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof As||this._source.on("preclick",Gn))},onRemove:function(o){ki.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof As||this._source.off("preclick",Gn))},getEvents:function(){var o=ki.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",h=this._container=te("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=te("div",o+"-content-wrapper",h);if(this._contentNode=te("div",o+"-content",p),Ts(h),Oi(this._contentNode),Vt(h,"contextmenu",Gn),this._tipContainer=te("div",o+"-tip-container",h),this._tip=te("div",o+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=te("a",o+"-close-button",h);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Vt(b,"click",function(S){Ae(S),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,h=o.style;h.width="",h.whiteSpace="nowrap";var p=o.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),h.width=p+1+"px",h.whiteSpace="",h.height="";var b=o.offsetHeight,S=this.options.maxHeight,M="leaflet-popup-scrolled";S&&b>S?(h.height=S+"px",Gt(o,M)):Ee(o,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),p=this._getAnchor();Ht(this._container,h.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,h=parseInt($i(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+h,b=this._containerWidth,S=new dt(this._containerLeft,-p-this._containerBottom);S._add(ei(this._container));var M=o.layerPointToContainerPoint(S),F=z(this.options.autoPanPadding),Q=z(this.options.autoPanPaddingTopLeft||F),at=z(this.options.autoPanPaddingBottomRight||F),yt=o.getSize(),wt=0,Ct=0;M.x+b+at.x>yt.x&&(wt=M.x+b-yt.x+at.x),M.x-wt-Q.x<0&&(wt=M.x-Q.x),M.y+p+at.y>yt.y&&(Ct=M.y+p-yt.y+at.y),M.y-Ct-Q.y<0&&(Ct=M.y-Q.y),(wt||Ct)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([wt,Ct]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Pd=function(o,h){return new Ro(o,h)};Xt.mergeOptions({closePopupOnClick:!0}),Xt.include({openPopup:function(o,h,p){return this._initOverlay(Ro,o,h,p).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),ve.include({bindPopup:function(o,h){return this._popup=this._initOverlay(Ro,this._popup,o,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Ie||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){An(o);var h=o.layer||o.target;if(this._popup._source===h&&!(h instanceof As)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=h,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var wl=ki.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){ki.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){ki.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=ki.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",h=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=te("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var h,p,b=this._map,S=this._container,M=b.latLngToContainerPoint(b.getCenter()),F=b.layerPointToContainerPoint(o),Q=this.options.direction,at=S.offsetWidth,yt=S.offsetHeight,wt=z(this.options.offset),Ct=this._getAnchor();Q==="top"?(h=at/2,p=yt):Q==="bottom"?(h=at/2,p=0):Q==="center"?(h=at/2,p=yt/2):Q==="right"?(h=0,p=yt/2):Q==="left"?(h=at,p=yt/2):F.x<M.x?(Q="right",h=0,p=yt/2):(Q="left",h=at+(wt.x+Ct.x)*2,p=yt/2),o=o.subtract(z(h,p,!0)).add(wt).add(Ct),Ee(S,"leaflet-tooltip-right"),Ee(S,"leaflet-tooltip-left"),Ee(S,"leaflet-tooltip-top"),Ee(S,"leaflet-tooltip-bottom"),Gt(S,"leaflet-tooltip-"+Q),Ht(S,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Ne(this._container,o)},_animateZoom:function(o){var h=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(h)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ld=function(o,h){return new wl(o,h)};Xt.include({openTooltip:function(o,h,p){return this._initOverlay(wl,o,h,p).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),ve.include({bindTooltip:function(o,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(wl,this._tooltip,o,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var h=o?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[h](p),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Ie||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&(Vt(h,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Vt(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var h=typeof o.getElement=="function"&&o.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var h=o.latlng,p,b;this._tooltip.options.sticky&&o.originalEvent&&(p=this._map.mouseEventToContainerPoint(o.originalEvent),b=this._map.containerPointToLayerPoint(p),h=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(h)}});var Cu=ss.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var h=o&&o.tagName==="DIV"?o:document.createElement("div"),p=this.options;if(p.html instanceof Element?(on(h),h.appendChild(p.html)):h.innerHTML=p.html!==!1?p.html:"",p.bgPos){var b=z(p.bgPos);h.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function oh(o){return new Cu(o)}ss.Default=la;var Sr=ve.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Dt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){k(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),ye(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ji(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Us(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof dt?o:new dt(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var h=this.getPane().children,p=-o(-1/0,1/0),b=0,S=h.length,M;b<S;b++)M=h[b].style.zIndex,h[b]!==this._container&&M&&(p=o(p,+M));isFinite(p)&&(this.options.zIndex=p+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Dt.ielt9){Ne(this._container,this.options.opacity);var o=+new Date,h=!1,p=!1;for(var b in this._tiles){var S=this._tiles[b];if(!(!S.current||!S.loaded)){var M=Math.min(1,(o-S.loaded)/200);Ne(S.el,M),M<1?h=!0:(S.active?p=!0:this._onOpaqueTile(S),S.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),h&&(Z(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=te("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,h=this.options.maxZoom;if(o!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===o?(this._levels[p].el.style.zIndex=h-Math.abs(o-p),this._onUpdateLevel(p)):(ye(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var b=this._levels[o],S=this._map;return b||(b=this._levels[o]={},b.el=te("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=h,b.origin=S.project(S.unproject(S.getPixelOrigin()),o).round(),b.zoom=o,this._setZoomTransform(b,S.getCenter(),S.getZoom()),x(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var o,h,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)h=this._tiles[o],h.retain=h.current;for(o in this._tiles)if(h=this._tiles[o],h.current&&!h.active){var b=h.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var h in this._tiles)this._tiles[h].coords.z===o&&this._removeTile(h)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)ye(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,h,p,b){var S=Math.floor(o/2),M=Math.floor(h/2),F=p-1,Q=new dt(+S,+M);Q.z=+F;var at=this._tileCoordsToKey(Q),yt=this._tiles[at];return yt&&yt.active?(yt.retain=!0,!0):(yt&&yt.loaded&&(yt.retain=!0),F>b?this._retainParent(S,M,F,b):!1)},_retainChildren:function(o,h,p,b){for(var S=2*o;S<2*o+2;S++)for(var M=2*h;M<2*h+2;M++){var F=new dt(S,M);F.z=p+1;var Q=this._tileCoordsToKey(F),at=this._tiles[Q];if(at&&at.active){at.retain=!0;continue}else at&&at.loaded&&(at.retain=!0);p+1<b&&this._retainChildren(S,M,p+1,b)}},_resetView:function(o){var h=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var h=this.options;return h.minNativeZoom!==void 0&&o<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<o?h.maxNativeZoom:o},_setView:function(o,h,p,b){var S=Math.round(h);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var M=this.options.updateWhenZooming&&S!==this._tileZoom;(!b||M)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(o),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(o,h)},_setZoomTransforms:function(o,h){for(var p in this._levels)this._setZoomTransform(this._levels[p],o,h)},_setZoomTransform:function(o,h,p){var b=this._map.getZoomScale(p,o.zoom),S=o.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(h,p)).round();Dt.any3d?kn(o.el,S,b):Ht(o.el,S)},_resetGrid:function(){var o=this._map,h=o.options.crs,p=this._tileSize=this.getTileSize(),b=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,h.wrapLng[0]],b).x/p.x),Math.ceil(o.project([0,h.wrapLng[1]],b).x/p.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([h.wrapLat[0],0],b).y/p.x),Math.ceil(o.project([h.wrapLat[1],0],b).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var h=this._map,p=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),b=h.getZoomScale(p,this._tileZoom),S=h.project(o,this._tileZoom).floor(),M=h.getSize().divideBy(b*2);return new lt(S.subtract(M),S.add(M))},_update:function(o){var h=this._map;if(h){var p=this._clampZoom(h.getZoom());if(o===void 0&&(o=h.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(o),S=this._pxBoundsToTileRange(b),M=S.getCenter(),F=[],Q=this.options.keepBuffer,at=new lt(S.getBottomLeft().subtract([Q,-Q]),S.getTopRight().add([Q,-Q]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var yt in this._tiles){var wt=this._tiles[yt].coords;(wt.z!==this._tileZoom||!at.contains(new dt(wt.x,wt.y)))&&(this._tiles[yt].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(o,p);return}for(var Ct=S.min.y;Ct<=S.max.y;Ct++)for(var Mt=S.min.x;Mt<=S.max.x;Mt++){var Zt=new dt(Mt,Ct);if(Zt.z=this._tileZoom,!!this._isValidTile(Zt)){var ze=this._tiles[this._tileCoordsToKey(Zt)];ze?ze.current=!0:F.push(Zt)}}if(F.sort(function(Rn,mi){return Rn.distanceTo(M)-mi.distanceTo(M)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ge=document.createDocumentFragment();for(Mt=0;Mt<F.length;Mt++)this._addTile(F[Mt],Ge);this._level.el.appendChild(Ge)}}}},_isValidTile:function(o){var h=this._map.options.crs;if(!h.infinite){var p=this._globalTileRange;if(!h.wrapLng&&(o.x<p.min.x||o.x>p.max.x)||!h.wrapLat&&(o.y<p.min.y||o.y>p.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(o);return xt(this.options.bounds).overlaps(b)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var h=this._map,p=this.getTileSize(),b=o.scaleBy(p),S=b.add(p),M=h.unproject(b,o.z),F=h.unproject(S,o.z);return[M,F]},_tileCoordsToBounds:function(o){var h=this._tileCoordsToNwSe(o),p=new mt(h[0],h[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var h=o.split(":"),p=new dt(+h[0],+h[1]);return p.z=+h[2],p},_removeTile:function(o){var h=this._tiles[o];h&&(ye(h.el),delete this._tiles[o],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Gt(o,"leaflet-tile");var h=this.getTileSize();o.style.width=h.x+"px",o.style.height=h.y+"px",o.onselectstart=x,o.onmousemove=x,Dt.ielt9&&this.options.opacity<1&&Ne(o,this.options.opacity)},_addTile:function(o,h){var p=this._getTilePos(o),b=this._tileCoordsToKey(o),S=this.createTile(this._wrapCoords(o),c(this._tileReady,this,o));this._initTile(S),this.createTile.length<2&&U(c(this._tileReady,this,o,null,S)),Ht(S,p),this._tiles[b]={el:S,coords:o,current:!0},h.appendChild(S),this.fire("tileloadstart",{tile:S,coords:o})},_tileReady:function(o,h,p){h&&this.fire("tileerror",{error:h,tile:p,coords:o});var b=this._tileCoordsToKey(o);p=this._tiles[b],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Ne(p.el,0),Z(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),h||(Gt(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Dt.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var h=new dt(this._wrapX?T(o.x,this._wrapX):o.x,this._wrapY?T(o.y,this._wrapY):o.y);return h.z=o.z,h},_pxBoundsToTileRange:function(o){var h=this.getTileSize();return new lt(o.min.unscaleBy(h).floor(),o.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Ni(o){return new Sr(o)}var wr=Sr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,h){this._url=o,h=k(this,h),h.detectRetina&&Dt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,h){return this._url===o&&h===void 0&&(h=!0),this._url=o,h||this.redraw(),this},createTile:function(o,h){var p=document.createElement("img");return Vt(p,"load",c(this._tileOnLoad,this,h,p)),Vt(p,"error",c(this._tileOnError,this,h,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(o),p},getTileUrl:function(o){var h={r:Dt.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-o.y;this.options.tms&&(h.y=p),h["-y"]=p}return tt(this._url,a(h,this.options))},_tileOnLoad:function(o,h){Dt.ielt9?setTimeout(c(o,this,null,h),0):o(null,h)},_tileOnError:function(o,h,p){var b=this.options.errorTileUrl;b&&h.getAttribute("src")!==b&&(h.src=b),o(p,h)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,h=this.options.maxZoom,p=this.options.zoomReverse,b=this.options.zoomOffset;return p&&(o=h-o),o+b},_getSubdomain:function(o){var h=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var o,h;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(h=this._tiles[o].el,h.onload=x,h.onerror=x,!h.complete)){h.src=nt;var p=this._tiles[o].coords;ye(h),delete this._tiles[o],this.fire("tileabort",{tile:h,coords:p})}},_removeTile:function(o){var h=this._tiles[o];if(h)return h.el.setAttribute("src",nt),Sr.prototype._removeTile.call(this,o)},_tileReady:function(o,h,p){if(!(!this._map||p&&p.getAttribute("src")===nt))return Sr.prototype._tileReady.call(this,o,h,p)}});function ri(o,h){return new wr(o,h)}var ai=wr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,h){this._url=o;var p=a({},this.defaultWmsParams);for(var b in h)b in this.options||(p[b]=h[b]);h=k(this,h);var S=h.detectRetina&&Dt.retina?2:1,M=this.getTileSize();p.width=M.x*S,p.height=M.y*S,this.wmsParams=p},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,wr.prototype.onAdd.call(this,o)},getTileUrl:function(o){var h=this._tileCoordsToNwSe(o),p=this._crs,b=vt(p.project(h[0]),p.project(h[1])),S=b.min,M=b.max,F=(this._wmsVersion>=1.3&&this._crs===We?[S.y,S.x,M.y,M.x]:[S.x,S.y,M.x,M.y]).join(","),Q=wr.prototype.getTileUrl.call(this,o);return Q+V(this.wmsParams,Q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(o,h){return a(this.wmsParams,o),h||this.redraw(),this}});function da(o,h){return new ai(o,h)}wr.WMS=ai,ri.wms=da;var Vi=ve.extend({options:{padding:.1},initialize:function(o){k(this,o),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Gt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,h){var p=this._map.getZoomScale(h,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,h),M=b.multiplyBy(-p).add(S).subtract(this._map._getNewPixelOrigin(o,h));Dt.any3d?kn(this._container,M,p):Ht(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,h=this._map.getSize(),p=this._map.containerPointToLayerPoint(h.multiplyBy(-o)).round();this._bounds=new lt(p,p.add(h.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Mo=Vi.extend({options:{tolerance:0},getEvents:function(){var o=Vi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Vt(o,"mousemove",this._onMouseMove,this),Vt(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Vt(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,ye(this._container),ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var h in this._layers)o=this._layers[h],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vi.prototype._update.call(this);var o=this._bounds,h=this._container,p=o.getSize(),b=Dt.retina?2:1;Ht(h,o.min),h.width=b*p.x,h.height=b*p.y,h.style.width=p.x+"px",h.style.height=p.y+"px",Dt.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Vi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[g(o)]=o;var h=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var h=o._order,p=h.next,b=h.prev;p?p.prev=b:this._drawLast=b,b?b.next=p:this._drawFirst=p,delete o._order,delete this._layers[g(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var h=o.options.dashArray.split(/[, ]+/),p=[],b,S;for(S=0;S<h.length;S++){if(b=Number(h[S]),isNaN(b))return;p.push(b)}o.options._dashArray=p}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var h=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new lt,this._redrawBounds.extend(o._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(o._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var h=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,h=this._redrawBounds;if(this._ctx.save(),h){var p=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)o=b.layer,(!h||o._pxBounds&&o._pxBounds.intersects(h))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,h){if(this._drawing){var p,b,S,M,F=o._parts,Q=F.length,at=this._ctx;if(Q){for(at.beginPath(),p=0;p<Q;p++){for(b=0,S=F[p].length;b<S;b++)M=F[p][b],at[b?"lineTo":"moveTo"](M.x,M.y);h&&at.closePath()}this._fillStroke(at,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var h=o._point,p=this._ctx,b=Math.max(Math.round(o._radius),1),S=(Math.max(Math.round(o._radiusY),1)||b)/b;S!==1&&(p.save(),p.scale(1,S)),p.beginPath(),p.arc(h.x,h.y/S,b,0,Math.PI*2,!1),S!==1&&p.restore(),this._fillStroke(p,o)}},_fillStroke:function(o,h){var p=h.options;p.fill&&(o.globalAlpha=p.fillOpacity,o.fillStyle=p.fillColor||p.color,o.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(o.setLineDash&&o.setLineDash(h.options&&h.options._dashArray||[]),o.globalAlpha=p.opacity,o.lineWidth=p.weight,o.strokeStyle=p.color,o.lineCap=p.lineCap,o.lineJoin=p.lineJoin,o.stroke())},_onClick:function(o){for(var h=this._map.mouseEventToLayerPoint(o),p,b,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(h)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(p))&&(b=p);this._fireEvent(b?[b]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,h)}},_handleMouseOut:function(o){var h=this._hoveredLayer;h&&(Ee(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,h){if(!this._mouseHoverThrottled){for(var p,b,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(h)&&(b=p);b!==this._hoveredLayer&&(this._handleMouseOut(o),b&&(Gt(this._container,"leaflet-interactive"),this._fireEvent([b],o,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,h,p){this._map._fireDOMEvent(h,p||h.type,o)},_bringToFront:function(o){var h=o._order;if(h){var p=h.next,b=h.prev;if(p)p.prev=b;else return;b?b.next=p:p&&(this._drawFirst=p),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(o)}},_bringToBack:function(o){var h=o._order;if(h){var p=h.next,b=h.prev;if(b)b.next=p;else return;p?p.prev=b:b&&(this._drawLast=b),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(o)}}});function Do(o){return Dt.canvas?new Mo(o):null}var Ar=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ma={_initContainer:function(){this._container=te("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var h=o._container=Ar("shape");Gt(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",o._path=Ar("path"),h.appendChild(o._path),this._updateStyle(o),this._layers[g(o)]=o},_addPath:function(o){var h=o._container;this._container.appendChild(h),o.options.interactive&&o.addInteractiveTarget(h)},_removePath:function(o){var h=o._container;ye(h),o.removeInteractiveTarget(h),delete this._layers[g(o)]},_updateStyle:function(o){var h=o._stroke,p=o._fill,b=o.options,S=o._container;S.stroked=!!b.stroke,S.filled=!!b.fill,b.stroke?(h||(h=o._stroke=Ar("stroke")),S.appendChild(h),h.weight=b.weight+"px",h.color=b.color,h.opacity=b.opacity,b.dashArray?h.dashStyle=st(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=b.lineCap.replace("butt","flat"),h.joinstyle=b.lineJoin):h&&(S.removeChild(h),o._stroke=null),b.fill?(p||(p=o._fill=Ar("fill")),S.appendChild(p),p.color=b.fillColor||b.color,p.opacity=b.fillOpacity):p&&(S.removeChild(p),o._fill=null)},_updateCircle:function(o){var h=o._point.round(),p=Math.round(o._radius),b=Math.round(o._radiusY||p);this._setPath(o,o._empty()?"M0 0":"AL "+h.x+","+h.y+" "+p+","+b+" 0,"+65535*360)},_setPath:function(o,h){o._path.v=h},_bringToFront:function(o){Ji(o._container)},_bringToBack:function(o){Us(o._container)}},Io=Dt.vml?Ar:an,Ys=Vi.extend({_initContainer:function(){this._container=Io("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Io("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ye(this._container),ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vi.prototype._update.call(this);var o=this._bounds,h=o.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,p.setAttribute("width",h.x),p.setAttribute("height",h.y)),Ht(p,o.min),p.setAttribute("viewBox",[o.min.x,o.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(o){var h=o._path=Io("path");o.options.className&&Gt(h,o.options.className),o.options.interactive&&Gt(h,"leaflet-interactive"),this._updateStyle(o),this._layers[g(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){ye(o._path),o.removeInteractiveTarget(o._path),delete this._layers[g(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var h=o._path,p=o.options;h&&(p.stroke?(h.setAttribute("stroke",p.color),h.setAttribute("stroke-opacity",p.opacity),h.setAttribute("stroke-width",p.weight),h.setAttribute("stroke-linecap",p.lineCap),h.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?h.setAttribute("stroke-dasharray",p.dashArray):h.removeAttribute("stroke-dasharray"),p.dashOffset?h.setAttribute("stroke-dashoffset",p.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),p.fill?(h.setAttribute("fill",p.fillColor||p.color),h.setAttribute("fill-opacity",p.fillOpacity),h.setAttribute("fill-rule",p.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(o,h){this._setPath(o,ui(o._parts,h))},_updateCircle:function(o){var h=o._point,p=Math.max(Math.round(o._radius),1),b=Math.max(Math.round(o._radiusY),1)||p,S="a"+p+","+b+" 0 1,0 ",M=o._empty()?"M0 0":"M"+(h.x-p)+","+h.y+S+p*2+",0 "+S+-p*2+",0 ";this._setPath(o,M)},_setPath:function(o,h){o._path.setAttribute("d",h)},_bringToFront:function(o){Ji(o._path)},_bringToBack:function(o){Us(o._path)}});Dt.vml&&Ys.include(ma);function Cr(o){return Dt.svg||Dt.vml?new Ys(o):null}Xt.include({getRenderer:function(o){var h=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var h=this._paneRenderers[o];return h===void 0&&(h=this._createRenderer({pane:o}),this._paneRenderers[o]=h),h},_createRenderer:function(o){return this.options.preferCanvas&&Do(o)||Cr(o)}});var lh=ca.extend({initialize:function(o,h){ca.prototype.initialize.call(this,this._boundsToLatLngs(o),h)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=xt(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function oi(o,h){return new lh(o,h)}Ys.create=Io,Ys.pointsToPath=ui,si.geometryToLayer=wo,si.coordsToLatLng=Tl,si.coordsToLatLngs=Ao,si.latLngToCoords=Co,si.latLngsToCoords=El,si.getFeature=Li,si.asFeature=ha,Xt.mergeOptions({boxZoom:!0});var Al=Yn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Vt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ye(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wn(),yr(),this._startPoint=this._map.mouseEventToContainerPoint(o),Vt(document,{contextmenu:An,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=te("div","leaflet-zoom-box",this._container),Gt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var h=new lt(this._point,this._startPoint),p=h.getSize();Ht(this._box,h.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(ye(this._box),Ee(this._container,"leaflet-crosshair")),Mi(),yo(),ue(document,{contextmenu:An,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var h=new mt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xt.addInitHook("addHandler","boxZoom",Al),Xt.mergeOptions({doubleClickZoom:!0});var as=Yn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var h=this._map,p=h.getZoom(),b=h.options.zoomDelta,S=o.originalEvent.shiftKey?p-b:p+b;h.options.doubleClickZoom==="center"?h.setZoom(S):h.setZoomAround(o.containerPoint,S)}});Xt.addInitHook("addHandler","doubleClickZoom",as),Xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ru=Yn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Pi(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Gt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ee(this._map._container,"leaflet-grab"),Ee(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=xt(this._map.options.maxBounds);this._offsetLimit=vt(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var h=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(h),this._prunePositions(h)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,h){return o-(o-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;o.x<h.min.x&&(o.x=this._viscousLimit(o.x,h.min.x)),o.y<h.min.y&&(o.y=this._viscousLimit(o.y,h.min.y)),o.x>h.max.x&&(o.x=this._viscousLimit(o.x,h.max.x)),o.y>h.max.y&&(o.y=this._viscousLimit(o.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,h=Math.round(o/2),p=this._initialWorldOffset,b=this._draggable._newPos.x,S=(b-h+p)%o+h-p,M=(b+h+p)%o-h-p,F=Math.abs(S+p)<Math.abs(M+p)?S:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(o){var h=this._map,p=h.options,b=!p.inertia||o.noInertia||this._times.length<2;if(h.fire("dragend",o),b)h.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,F=p.easeLinearity,Q=S.multiplyBy(F/M),at=Q.distanceTo([0,0]),yt=Math.min(p.inertiaMaxSpeed,at),wt=Q.multiplyBy(yt/at),Ct=yt/(p.inertiaDeceleration*F),Mt=wt.multiplyBy(-Ct/2).round();!Mt.x&&!Mt.y?h.fire("moveend"):(Mt=h._limitOffset(Mt,h.options.maxBounds),U(function(){h.panBy(Mt,{duration:Ct,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});Xt.addInitHook("addHandler","dragging",Ru),Xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Oo=Yn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Vt(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,h=document.documentElement,p=o.scrollTop||h.scrollTop,b=o.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(b,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h=this._panKeys={},p=this.keyCodes,b,S;for(b=0,S=p.left.length;b<S;b++)h[p.left[b]]=[-1*o,0];for(b=0,S=p.right.length;b<S;b++)h[p.right[b]]=[o,0];for(b=0,S=p.down.length;b<S;b++)h[p.down[b]]=[0,o];for(b=0,S=p.up.length;b<S;b++)h[p.up[b]]=[0,-1*o]},_setZoomDelta:function(o){var h=this._zoomKeys={},p=this.keyCodes,b,S;for(b=0,S=p.zoomIn.length;b<S;b++)h[p.zoomIn[b]]=o;for(b=0,S=p.zoomOut.length;b<S;b++)h[p.zoomOut[b]]=-o},_addHooks:function(){Vt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h=o.keyCode,p=this._map,b;if(h in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(b=this._panKeys[h],o.shiftKey&&(b=z(b).multiplyBy(3)),p.options.maxBounds&&(b=p._limitOffset(z(b),p.options.maxBounds)),p.options.worldCopyJump){var S=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(b)));p.panTo(S)}else p.panBy(b)}else if(h in this._zoomKeys)p.setZoom(p.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;An(o)}}});Xt.addInitHook("addHandler","keyboard",Oo),Xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ks=Yn.extend({addHooks:function(){Vt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var h=vr(o),p=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var b=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),b),An(o)},_performZoom:function(){var o=this._map,h=o.getZoom(),p=this._map.options.zoomSnap||0;o._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,M=p?Math.ceil(S/p)*p:S,F=o._limitZoom(h+(this._delta>0?M:-M))-h;this._delta=0,this._startTime=null,F&&(o.options.scrollWheelZoom==="center"?o.setZoom(h+F):o.setZoomAround(this._lastMousePos,h+F))}});Xt.addInitHook("addHandler","scrollWheelZoom",Ks);var Mu=600;Xt.mergeOptions({tapHold:Dt.touchNative&&Dt.safari&&Dt.mobile,tapTolerance:15});var Cl=Yn.extend({addHooks:function(){Vt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var h=o.touches[0];this._startPos=this._newPos=new dt(h.clientX,h.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Vt(document,"touchend",Ae),Vt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),Mu),Vt(document,"touchend touchcancel contextmenu",this._cancel,this),Vt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){ue(document,"touchend",Ae),ue(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),ue(document,"touchend touchcancel contextmenu",this._cancel,this),ue(document,"touchmove",this._onMove,this)},_onMove:function(o){var h=o.touches[0];this._newPos=new dt(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,h){var p=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});p._simulated=!0,h.target.dispatchEvent(p)}});Xt.addInitHook("addHandler","tapHold",Cl),Xt.mergeOptions({touchZoom:Dt.touch,bounceAtZoomLimits:!0});var Rr=Yn.extend({addHooks:function(){Gt(this._map._container,"leaflet-touch-zoom"),Vt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ee(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var h=this._map;if(!(!o.touches||o.touches.length!==2||h._animatingZoom||this._zooming)){var p=h.mouseEventToContainerPoint(o.touches[0]),b=h.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(p.add(b)._divideBy(2))),this._startDist=p.distanceTo(b),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Vt(document,"touchmove",this._onTouchMove,this),Vt(document,"touchend touchcancel",this._onTouchEnd,this),Ae(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var h=this._map,p=h.mouseEventToContainerPoint(o.touches[0]),b=h.mouseEventToContainerPoint(o.touches[1]),S=p.distanceTo(b)/this._startDist;if(this._zoom=h.getScaleZoom(S,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&S<1||this._zoom>h.getMaxZoom()&&S>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var M=p._add(b)._divideBy(2)._subtract(this._centerPoint);if(S===1&&M.x===0&&M.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var F=c(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(F,this,!0),Ae(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),ue(document,"touchmove",this._onTouchMove,this),ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xt.addInitHook("addHandler","touchZoom",Rr),Xt.BoxZoom=Al,Xt.DoubleClickZoom=as,Xt.Drag=Ru,Xt.Keyboard=Oo,Xt.ScrollWheelZoom=Ks,Xt.TapHold=Cl,Xt.TouchZoom=Rr,e.Bounds=lt,e.Browser=Dt,e.CRS=_e,e.Canvas=Mo,e.Circle=wu,e.CircleMarker=So,e.Class=Ut,e.Control=gn,e.DivIcon=Cu,e.DivOverlay=ki,e.DomEvent=gl,e.DomUtil=vo,e.Draggable=Pi,e.Evented=_t,e.FeatureGroup=Ie,e.GeoJSON=si,e.GridLayer=Sr,e.Handler=Yn,e.Icon=ss,e.ImageOverlay=rs,e.LatLng=St,e.LatLngBounds=mt,e.Layer=ve,e.LayerGroup=Ve,e.LineUtil=I,e.Map=Xt,e.Marker=ua,e.Mixin=Tr,e.Path=As,e.Point=dt,e.PolyUtil=ra,e.Polygon=ca,e.Polyline=Cs,e.Popup=Ro,e.PosAnimation=br,e.Projection=Et,e.Rectangle=lh,e.Renderer=Vi,e.SVG=Ys,e.SVGOverlay=Gs,e.TileLayer=wr,e.Tooltip=wl,e.Transformation=Pt,e.Util=j,e.VideoOverlay=Sl,e.bind=c,e.bounds=vt,e.canvas=Do,e.circle=Id,e.circleMarker=ih,e.control=Cn,e.divIcon=oh,e.extend=a,e.featureGroup=is,e.geoJSON=xl,e.geoJson=sh,e.gridLayer=Ni,e.icon=bl,e.imageOverlay=fa,e.latLng=Tt,e.latLngBounds=xt,e.layerGroup=ws,e.map=es,e.marker=Su,e.point=z,e.polygon=ii,e.polyline=Od,e.popup=Pd,e.rectangle=oi,e.setOptions=k,e.stamp=g,e.svg=Cr,e.svgOverlay=ah,e.tileLayer=ri,e.tooltip=Ld,e.transformation=Qt,e.version=i,e.videoOverlay=rh;var ga=window.L;e.noConflict=function(){return window.L=ga,this},window.L=e})}(Tc,Tc.exports)),Tc.exports}YR();hd.register(yc,DR,ER,Yg,Kg,If,Df,vc);function KR({isDark:n,incomeActual:t,billsActual:e,expensesActual:i,savingsActual:a,incomeBudget:l,billsBudget:c,expensesBudget:d,savingsBudget:g,incomeSpent:y}){const T=n?"#f0f0f0":"#222",x={labels:["income","bills","expenses","savings"],datasets:[{data:[t,e,i,a],backgroundColor:["#038828","#eb0808","#f66f1b","#1e40ff"]}]},w={responsive:!0,plugins:{legend:{position:"top",labels:{color:T}}}},R={labels:["income","bills","expenses","savings"],datasets:[{label:"Budget",data:[l,c,d,g],barThickness:40,backgroundColor:"#ec7a34"},{label:"Actual",data:[t,e,i,a],backgroundColor:"#01d93e",barThickness:40}]},P={responsive:!0,plugins:{legend:{position:"top",labels:{color:T}}},scales:{x:{stacked:!1,categoryPercentage:.6,barPercentage:.6,ticks:{color:T}},y:{beginAtZero:!0,ticks:{color:T}}}},k=y,V=t||1,K=Math.min(k/V*100,100),tt={labels:["Spent","Left"],datasets:[{data:[k,V-k],backgroundColor:["#eb0808","#36A2EB"],borderWidth:1}]},st={cutout:"70%",responsive:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1}}};return G.jsxs("section",{className:"myCharts",children:[G.jsxs("div",{className:"remainder",children:[G.jsx("h4",{children:"INCOME SPENT"}),G.jsx(qR,{data:tt,options:st}),Math.round(K),"%"]}),G.jsxs("div",{className:"comparison",children:[G.jsx("h4",{children:"BUDGET VS ACTUAL"}),G.jsx(FR,{data:R,options:P})]}),G.jsxs("div",{className:"analysis",children:[G.jsx("h4",{children:"FINANCIAL DISTRIBUTION"}),G.jsx(ZR,{data:x,options:w})]})]})}function XR({monthSelect:n,handleMonthSelect:t,months:e,selectedMonth:i,allRows:a,inputStyles:l,handleRowChange:c,incomeBudget:d,incomeActual:g,billsBudget:y,billsActual:T,expensesBudget:x,expensesActual:w,savingsBudget:R,savingsActual:P,grandBudgetTotal:k,grandActualTotal:V,incomeLeft:K,incomeSpent:tt,savingsActual:st}){return G.jsxs("div",{className:"myTables",children:[G.jsxs("table",{className:"overview",border:1,children:[G.jsx("thead",{children:G.jsx("tr",{children:G.jsx("th",{colSpan:2,className:"heading",children:"OVERVIEW"})})}),G.jsxs("tbody",{children:[G.jsxs("tr",{children:[G.jsx("td",{className:"subHeading",children:"Choose a Month"}),G.jsx("td",{children:G.jsxs("select",{className:"monthSelect",name:"months",id:"months",ref:n,value:i,onChange:t,children:[G.jsx("option",{value:"",children:" Month"}),e.map((ut,nt)=>G.jsx("option",{value:ut,children:ut},nt))]})})]}),G.jsxs("tr",{children:[G.jsx("td",{className:"subHeading",children:"Choose a Year"}),G.jsx("td",{children:G.jsxs("select",{className:"chooseYear",name:"years",id:"years",children:[G.jsx("option",{value:"1",children:"2025"}),G.jsx("option",{value:"2",children:"2024"}),G.jsx("option",{value:"3",children:"2023"})]})})]})]})]}),G.jsxs("table",{className:"overflow",border:1,children:[G.jsxs("thead",{children:[G.jsx("tr",{children:G.jsx("th",{colSpan:3,children:"CASH OVERFLOW SUMMARY"})}),G.jsxs("tr",{children:[G.jsx("td",{children:"Name"}),G.jsx("td",{children:"Budget"}),G.jsx("td",{children:"Actual"})]})]}),G.jsxs("tbody",{children:[G.jsxs("tr",{children:[G.jsx("td",{children:"Income"}),G.jsx("td",{children:d}),G.jsx("td",{children:g})]}),G.jsxs("tr",{children:[G.jsx("td",{children:"Bills"}),G.jsx("td",{children:y}),G.jsx("td",{children:T})]}),G.jsxs("tr",{children:[G.jsx("td",{children:"Expenses"}),G.jsx("td",{children:x}),G.jsx("td",{children:w})]}),G.jsxs("tr",{children:[G.jsx("td",{children:"Savings"}),G.jsx("td",{children:R}),G.jsx("td",{children:P})]}),G.jsxs("tr",{children:[G.jsx("td",{children:"Sum"}),G.jsx("td",{children:k}),G.jsx("td",{children:V})]})]})]}),G.jsxs("table",{className:"income",border:1,children:[G.jsxs("thead",{children:[G.jsx("tr",{children:G.jsx("th",{colSpan:3,children:"INCOME"})}),G.jsxs("tr",{children:[G.jsx("td",{children:"Name"}),G.jsx("td",{children:"Budget"}),G.jsx("td",{children:"Actual"})]})]}),G.jsx("tbody",{children:a.income.map((ut,nt)=>G.jsxs("tr",{children:[G.jsx("td",{children:G.jsx("input",{type:"text",placeholder:"Income",style:l,name:"incomeSource",value:ut.col1,onChange:ht=>c("income",nt,"col1",ht.target.value)})}),G.jsx("td",{children:G.jsx("input",{type:"number",placeholder:"Budgeted",style:l,name:"incomeBudget",value:ut.col2,onChange:ht=>c("income",nt,"col2",ht.target.value)})}),G.jsx("td",{children:G.jsx("input",{type:"number",placeholder:"Actual",style:l,name:"incomeActual",value:ut.col3,onChange:ht=>c("income",nt,"col3",ht.target.value)})})]},nt))})]}),G.jsxs("table",{className:"bills",border:"1",children:[G.jsxs("thead",{children:[G.jsx("tr",{children:G.jsx("th",{colSpan:3,children:"BILLS"})}),G.jsxs("tr",{children:[G.jsx("td",{children:"Name"}),G.jsx("td",{children:"Budget"}),G.jsx("td",{children:"Actual"})]})]}),G.jsx("tbody",{children:a.bills.map((ut,nt)=>G.jsxs("tr",{children:[G.jsx("td",{children:G.jsx("input",{type:"text",placeholder:"Bills",value:ut.col1,name:"billsSource",style:l,onChange:ht=>c("bills",nt,"col1",ht.target.value)})}),G.jsx("td",{children:G.jsx("input",{type:"number",placeholder:" Budgeted",value:ut.col2,name:"billBudget",style:l,onChange:ht=>c("bills",nt,"col2",ht.target.value)})}),G.jsx("td",{children:G.jsx("input",{type:"number",placeholder:" Actual",value:ut.col3,name:"billActual",style:l,onChange:ht=>c("bills",nt,"col3",ht.target.value)})})]},nt))})]}),G.jsxs("table",{className:"expenses",border:"1",children:[G.jsxs("thead",{children:[G.jsx("tr",{children:G.jsx("th",{colSpan:3,children:"EXPENSES"})}),G.jsxs("tr",{children:[G.jsx("td",{children:"Name"}),G.jsx("td",{children:"Budget"}),G.jsx("td",{children:"Actual"})]})]}),G.jsx("tbody",{children:a.expenses.map((ut,nt)=>G.jsxs("tr",{children:[G.jsx("td",{children:G.jsx("input",{type:"text",placeholder:"Expenses",value:ut.col1,style:l,name:"expensesSource",onChange:ht=>c("expenses",nt,"col1",ht.target.value)})}),G.jsx("td",{children:G.jsx("input",{type:"number",placeholder:"Budgeted",value:ut.col2,style:l,name:"expenseBudget",onChange:ht=>c("expenses",nt,"col2",ht.target.value)})}),G.jsx("td",{children:G.jsx("input",{type:"number",placeholder:"Actual",value:ut.col3,style:l,name:"expenseActual",onChange:ht=>c("expenses",nt,"col3",ht.target.value)})})]},nt))})]}),G.jsxs("table",{className:"savings",border:"1",children:[G.jsxs("thead",{children:[G.jsx("tr",{children:G.jsx("th",{colSpan:3,children:"SAVINGS"})}),G.jsxs("tr",{children:[G.jsx("td",{children:"Name"}),G.jsx("td",{children:"Budget"}),G.jsx("td",{children:"Actual"})]})]}),G.jsx("tbody",{children:a.savings.map((ut,nt)=>G.jsxs("tr",{children:[G.jsx("td",{children:G.jsx("input",{type:"text",placeholder:"Savings",value:ut.col1,name:"savingSource",style:l,onChange:ht=>c("savings",nt,"col1",ht.target.value)})}),G.jsx("td",{children:G.jsx("input",{type:"number",placeholder:"Budgeted",value:ut.col2,style:l,name:"savingBudget",onChange:ht=>c("savings",nt,"col2",ht.target.value)})}),G.jsx("td",{children:G.jsx("input",{type:"number",placeholder:"Actual",value:ut.col3,style:l,name:"savingActual",onChange:ht=>c("savings",nt,"col3",ht.target.value)})})]},nt))})]})]})}const WR=()=>{};var Pb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},QR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],c=n[e++],d=n[e++],g=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[i++]=String.fromCharCode(55296+(g>>10)),t[i++]=String.fromCharCode(56320+(g&1023))}else{const l=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},HE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,g=a+2<n.length,y=g?n[a+2]:0,T=l>>2,x=(l&3)<<4|d>>4;let w=(d&15)<<2|y>>6,R=y&63;g||(R=64,c||(w=64)),i.push(e[T],e[x],e[w],e[R])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(UE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):QR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],d=a<n.length?e[n.charAt(a)]:0;++a;const y=a<n.length?e[n.charAt(a)]:64;++a;const x=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||d==null||y==null||x==null)throw new $R;const w=l<<2|d>>4;if(i.push(w),y!==64){const R=d<<4&240|y>>2;if(i.push(R),x!==64){const P=y<<6&192|x;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class $R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JR=function(n){const t=UE(n);return HE.encodeByteArray(t,!0)},Kf=function(n){return JR(n).replace(/\./g,"")},tM=function(n){try{return HE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=()=>eM().__FIREBASE_DEFAULTS__,iM=()=>{if(typeof process>"u"||typeof Pb>"u")return;const n=Pb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&tM(n[1]);return t&&JSON.parse(t)},kp=()=>{try{return WR()||nM()||iM()||sM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rM=n=>{var t,e;return(e=(t=kp())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},aM=n=>{const t=rM(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},FE=()=>{var n;return(n=kp())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n){return n.endsWith(".cloudworkstations.dev")}async function lM(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Kf(JSON.stringify(e)),Kf(JSON.stringify(c)),""].join(".")}const Mc={};function cM(){const n={prod:[],emulator:[]};for(const t of Object.keys(Mc))Mc[t]?n.emulator.push(t):n.prod.push(t);return n}function hM(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Lb=!1;function qE(n,t){if(typeof window>"u"||typeof document>"u"||!Np(window.location.host)||Mc[n]===t||Mc[n]||Lb)return;Mc[n]=t;function e(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=cM().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,R){w.setAttribute("width","24"),w.setAttribute("id",R),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Lb=!0,c()},w}function T(w,R){w.setAttribute("id",R),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function x(){const w=hM(i),R=e("text"),P=document.getElementById(R)||document.createElement("span"),k=e("learnmore"),V=document.getElementById(k)||document.createElement("a"),K=e("preprendIcon"),tt=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const st=w.element;d(st),T(V,k);const ut=y();g(tt,K),st.append(tt,P,V,ut),document.body.appendChild(st)}l?(P.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dM(){var n;const t=(n=kp())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function gM(){return!dM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZE(){try{return typeof indexedDB=="object"}catch{return!1}}function GE(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}function pM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="FirebaseError";class ao extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=_M,Object.setPrototypeOf(this,ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dd.prototype.create)}}class dd{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?yM(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ao(a,d,i)}}function yM(n,t){return n.replace(vM,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const vM=/\{\$([^}]+)}/g;function Uc(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const l=n[a],c=t[a];if(kb(l)&&kb(c)){if(!Uc(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function kb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=1e3,TM=2,EM=4*60*60*1e3,xM=.5;function Nb(n,t=bM,e=TM){const i=t*Math.pow(e,n),a=Math.round(xM*i*(Math.random()-.5)*2);return Math.min(EM,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(n){return n&&n._delegate?n._delegate:n}class Hr{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new oM;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AM(t))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=Ko){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ko){return this.instances.has(t)}getOptions(t=Ko){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(t,e){var i;const a=this.normalizeInstanceIdentifier(e),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wM(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ko){return this.component?this.component.multipleInstances?t:Ko:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wM(n){return n===Ko?void 0:n}function AM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new SM(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(fe||(fe={}));const RM={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},MM=fe.INFO,DM={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},IM=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=DM[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Vp{constructor(t){this.name=t,this._logLevel=MM,this._logHandler=IM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in fe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...t),this._logHandler(this,fe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...t),this._logHandler(this,fe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...t),this._logHandler(this,fe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...t),this._logHandler(this,fe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...t),this._logHandler(this,fe.ERROR,...t)}}const OM=(n,t)=>t.some(e=>n instanceof e);let Vb,zb;function PM(){return Vb||(Vb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LM(){return zb||(zb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,Xg=new WeakMap,KE=new WeakMap,wg=new WeakMap,zp=new WeakMap;function kM(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(Ga(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&YE.set(e,n)}).catch(()=>{}),zp.set(t,n),t}function NM(n){if(Xg.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Xg.set(n,t)}let Wg={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Xg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||KE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ga(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function VM(n){Wg=n(Wg)}function zM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Ag(this),t,...e);return KE.set(i,t.sort?t.sort():[t]),Ga(i)}:LM().includes(n)?function(...t){return n.apply(Ag(this),t),Ga(YE.get(this))}:function(...t){return Ga(n.apply(Ag(this),t))}}function BM(n){return typeof n=="function"?zM(n):(n instanceof IDBTransaction&&NM(n),OM(n,PM())?new Proxy(n,Wg):n)}function Ga(n){if(n instanceof IDBRequest)return kM(n);if(wg.has(n))return wg.get(n);const t=BM(n);return t!==n&&(wg.set(n,t),zp.set(t,n)),t}const Ag=n=>zp.get(n);function XE(n,t,{blocked:e,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,t),d=Ga(c);return i&&c.addEventListener("upgradeneeded",g=>{i(Ga(c.result),g.oldVersion,g.newVersion,Ga(c.transaction),g)}),e&&c.addEventListener("blocked",g=>e(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const jM=["get","getKey","getAll","getAllKeys","count"],UM=["put","add","delete","clear"],Cg=new Map;function Bb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Cg.get(t))return Cg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=UM.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||jM.includes(e)))return;const l=async function(c,...d){const g=this.transaction(c,a?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[e](...d),a&&g.done]))[0]};return Cg.set(t,l),l}VM(n=>({...n,get:(t,e,i)=>Bb(t,e)||n.get(t,e,i),has:(t,e)=>!!Bb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(FM(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function FM(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Qg="@firebase/app",jb="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Vp("@firebase/app"),qM="@firebase/app-compat",ZM="@firebase/analytics-compat",GM="@firebase/analytics",YM="@firebase/app-check-compat",KM="@firebase/app-check",XM="@firebase/auth",WM="@firebase/auth-compat",QM="@firebase/database",$M="@firebase/data-connect",JM="@firebase/database-compat",tD="@firebase/functions",eD="@firebase/functions-compat",nD="@firebase/installations",iD="@firebase/installations-compat",sD="@firebase/messaging",rD="@firebase/messaging-compat",aD="@firebase/performance",oD="@firebase/performance-compat",lD="@firebase/remote-config",uD="@firebase/remote-config-compat",cD="@firebase/storage",hD="@firebase/storage-compat",fD="@firebase/firestore",dD="@firebase/ai",mD="@firebase/firestore-compat",gD="firebase",pD="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="[DEFAULT]",_D={[Qg]:"fire-core",[qM]:"fire-core-compat",[GM]:"fire-analytics",[ZM]:"fire-analytics-compat",[KM]:"fire-app-check",[YM]:"fire-app-check-compat",[XM]:"fire-auth",[WM]:"fire-auth-compat",[QM]:"fire-rtdb",[$M]:"fire-data-connect",[JM]:"fire-rtdb-compat",[tD]:"fire-fn",[eD]:"fire-fn-compat",[nD]:"fire-iid",[iD]:"fire-iid-compat",[sD]:"fire-fcm",[rD]:"fire-fcm-compat",[aD]:"fire-perf",[oD]:"fire-perf-compat",[lD]:"fire-rc",[uD]:"fire-rc-compat",[cD]:"fire-gcs",[hD]:"fire-gcs-compat",[fD]:"fire-fst",[mD]:"fire-fst-compat",[dD]:"fire-vertex","fire-js":"fire-js",[gD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=new Map,yD=new Map,Jg=new Map;function Ub(n,t){try{n.container.addComponent(t)}catch(e){Fr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function $a(n){const t=n.name;if(Jg.has(t))return Fr.debug(`There were multiple attempts to register component ${t}.`),!1;Jg.set(t,n);for(const e of Xf.values())Ub(e,n);for(const e of yD.values())Ub(e,n);return!0}function $c(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function vD(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ya=new dd("app","Firebase",bD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ya.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=pD;function WE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:$g,automaticDataCollectionEnabled:!0},t),a=i.name;if(typeof a!="string"||!a)throw Ya.create("bad-app-name",{appName:String(a)});if(e||(e=FE()),!e)throw Ya.create("no-options");const l=Xf.get(a);if(l){if(Uc(e,l.options)&&Uc(i,l.config))return l;throw Ya.create("duplicate-app",{appName:a})}const c=new CM(a);for(const g of Jg.values())c.addComponent(g);const d=new TD(e,i,c);return Xf.set(a,d),d}function QE(n=$g){const t=Xf.get(n);if(!t&&n===$g&&FE())return WE();if(!t)throw Ya.create("no-app",{appName:n});return t}function rr(n,t,e){var i;let a=(i=_D[n])!==null&&i!==void 0?i:n;e&&(a+=`-${e}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fr.warn(d.join(" "));return}$a(new Hr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="firebase-heartbeat-database",SD=1,Hc="firebase-heartbeat-store";let Rg=null;function $E(){return Rg||(Rg=XE(xD,SD,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Hc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ya.create("idb-open",{originalErrorMessage:n.message})})),Rg}async function wD(n){try{const e=(await $E()).transaction(Hc),i=await e.objectStore(Hc).get(JE(n));return await e.done,i}catch(t){if(t instanceof ao)Fr.warn(t.message);else{const e=Ya.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fr.warn(e.message)}}}async function Hb(n,t){try{const i=(await $E()).transaction(Hc,"readwrite");await i.objectStore(Hc).put(t,JE(n)),await i.done}catch(e){if(e instanceof ao)Fr.warn(e.message);else{const i=Ya.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(i.message)}}}function JE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=1024,CD=30;class RD{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new DD(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Fb();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>CD){const c=ID(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Fr.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fb(),{heartbeatsToSend:i,unsentEntries:a}=MD(this._heartbeatsCache.heartbeats),l=Kf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Fr.warn(e),""}}}function Fb(){return new Date().toISOString().substring(0,10)}function MD(n,t=AD){const e=[];let i=n.slice();for(const a of n){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),qb(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),qb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class DD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZE()?GE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await wD(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return Hb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return Hb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function qb(n){return Kf(JSON.stringify({version:2,heartbeats:n})).length}function ID(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(n){$a(new Hr("platform-logger",t=>new HM(t),"PRIVATE")),$a(new Hr("heartbeat",t=>new RD(t),"PRIVATE")),rr(Qg,jb,n),rr(Qg,jb,"esm2017"),rr("fire-js","")}OD("");var PD="firebase",LD="11.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(PD,LD,"app");const tx="@firebase/installations",Bp="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=1e4,nx=`w:${Bp}`,ix="FIS_v2",kD="https://firebaseinstallations.googleapis.com/v1",ND=60*60*1e3,VD="installations",zD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},el=new dd(VD,zD,BD);function sx(n){return n instanceof ao&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx({projectId:n}){return`${kD}/projects/${n}/installations`}function ax(n){return{token:n.token,requestStatus:2,expiresIn:UD(n.expiresIn),creationTime:Date.now()}}async function ox(n,t){const i=(await t.json()).error;return el.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function lx({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function jD(n,{refreshToken:t}){const e=lx(n);return e.append("Authorization",HD(t)),e}async function ux(n){const t=await n();return t.status>=500&&t.status<600?n():t}function UD(n){return Number(n.replace("s","000"))}function HD(n){return`${ix} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const i=rx(n),a=lx(n),l=t.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&a.append("x-firebase-client",y)}const c={fid:e,authVersion:ix,appId:n.appId,sdkVersion:nx},d={method:"POST",headers:a,body:JSON.stringify(c)},g=await ux(()=>fetch(i,d));if(g.ok){const y=await g.json();return{fid:y.fid||e,registrationStatus:2,refreshToken:y.refreshToken,authToken:ax(y.authToken)}}else throw await ox("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=/^[cdef][\w-]{21}$/,tp="";function GD(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=YD(n);return ZD.test(e)?e:tp}catch{return tp}}function YD(n){return qD(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=new Map;function fx(n,t){const e=md(n);dx(e,t),KD(e,t)}function dx(n,t){const e=hx.get(n);if(e)for(const i of e)i(t)}function KD(n,t){const e=XD();e&&e.postMessage({key:n,fid:t}),WD()}let Xo=null;function XD(){return!Xo&&"BroadcastChannel"in self&&(Xo=new BroadcastChannel("[Firebase] FID Change"),Xo.onmessage=n=>{dx(n.data.key,n.data.fid)}),Xo}function WD(){hx.size===0&&Xo&&(Xo.close(),Xo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="firebase-installations-database",$D=1,nl="firebase-installations-store";let Mg=null;function jp(){return Mg||(Mg=XE(QD,$D,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(nl)}}})),Mg}async function Wf(n,t){const e=md(n),a=(await jp()).transaction(nl,"readwrite"),l=a.objectStore(nl),c=await l.get(e);return await l.put(t,e),await a.done,(!c||c.fid!==t.fid)&&fx(n,t.fid),t}async function mx(n){const t=md(n),i=(await jp()).transaction(nl,"readwrite");await i.objectStore(nl).delete(t),await i.done}async function gd(n,t){const e=md(n),a=(await jp()).transaction(nl,"readwrite"),l=a.objectStore(nl),c=await l.get(e),d=t(c);return d===void 0?await l.delete(e):await l.put(d,e),await a.done,d&&(!c||c.fid!==d.fid)&&fx(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(n){let t;const e=await gd(n.appConfig,i=>{const a=JD(i),l=tI(n,a);return t=l.registrationPromise,l.installationEntry});return e.fid===tp?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function JD(n){const t=n||{fid:GD(),registrationStatus:0};return gx(t)}function tI(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(el.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=eI(n,e);return{installationEntry:e,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:nI(n)}:{installationEntry:t}}async function eI(n,t){try{const e=await FD(n,t);return Wf(n.appConfig,e)}catch(e){throw sx(e)&&e.customData.serverCode===409?await mx(n.appConfig):await Wf(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function nI(n){let t=await Zb(n.appConfig);for(;t.registrationStatus===1;)await cx(100),t=await Zb(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:i}=await Up(n);return i||e}return t}function Zb(n){return gd(n,t=>{if(!t)throw el.create("installation-not-found");return gx(t)})}function gx(n){return iI(n)?{fid:n.fid,registrationStatus:0}:n}function iI(n){return n.registrationStatus===1&&n.registrationTime+ex<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI({appConfig:n,heartbeatServiceProvider:t},e){const i=rI(n,e),a=jD(n,e),l=t.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&a.append("x-firebase-client",y)}const c={installation:{sdkVersion:nx,appId:n.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},g=await ux(()=>fetch(i,d));if(g.ok){const y=await g.json();return ax(y)}else throw await ox("Generate Auth Token",g)}function rI(n,{fid:t}){return`${rx(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hp(n,t=!1){let e;const i=await gd(n.appConfig,l=>{if(!px(l))throw el.create("not-registered");const c=l.authToken;if(!t&&lI(c))return l;if(c.requestStatus===1)return e=aI(n,t),l;{if(!navigator.onLine)throw el.create("app-offline");const d=cI(l);return e=oI(n,d),d}});return e?await e:i.authToken}async function aI(n,t){let e=await Gb(n.appConfig);for(;e.authToken.requestStatus===1;)await cx(100),e=await Gb(n.appConfig);const i=e.authToken;return i.requestStatus===0?Hp(n,t):i}function Gb(n){return gd(n,t=>{if(!px(t))throw el.create("not-registered");const e=t.authToken;return hI(e)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function oI(n,t){try{const e=await sI(n,t),i=Object.assign(Object.assign({},t),{authToken:e});return await Wf(n.appConfig,i),e}catch(e){if(sx(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await mx(n.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Wf(n.appConfig,i)}throw e}}function px(n){return n!==void 0&&n.registrationStatus===2}function lI(n){return n.requestStatus===2&&!uI(n)}function uI(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+ND}function cI(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function hI(n){return n.requestStatus===1&&n.requestTime+ex<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(n){const t=n,{installationEntry:e,registrationPromise:i}=await Up(t);return i?i.catch(console.error):Hp(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(n,t=!1){const e=n;return await mI(e),(await Hp(e,t)).token}async function mI(n){const{registrationPromise:t}=await Up(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(n){if(!n||!n.options)throw Dg("App Configuration");if(!n.name)throw Dg("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw Dg(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Dg(n){return el.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="installations",pI="installations-internal",_I=n=>{const t=n.getProvider("app").getImmediate(),e=gI(t),i=$c(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},yI=n=>{const t=n.getProvider("app").getImmediate(),e=$c(t,_x).getImmediate();return{getId:()=>fI(e),getToken:a=>dI(e,a)}};function vI(){$a(new Hr(_x,_I,"PUBLIC")),$a(new Hr(pI,yI,"PRIVATE"))}vI();rr(tx,Bp);rr(tx,Bp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="analytics",bI="firebase_id",TI="origin",EI=60*1e3,xI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Vp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qi=new dd("analytics","Analytics",SI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(n){if(!n.startsWith(Fp)){const t=qi.create("invalid-gtag-resource",{gtagURL:n});return xi.warn(t.message),""}return n}function yx(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function AI(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function CI(n,t){const e=AI("firebase-js-sdk-policy",{createScriptURL:wI}),i=document.createElement("script"),a=`${Fp}?l=${n}&id=${t}`;i.src=e?e==null?void 0:e.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function RI(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function MI(n,t,e,i,a,l){const c=i[a];try{if(c)await t[c];else{const g=(await yx(e)).find(y=>y.measurementId===a);g&&await t[g.appId]}}catch(d){xi.error(d)}n("config",a,l)}async function DI(n,t,e,i,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await yx(e);for(const g of c){const y=d.find(x=>x.measurementId===g),T=y&&t[y.appId];if(T)l.push(T);else{l=[];break}}}l.length===0&&(l=Object.values(t)),await Promise.all(l),n("event",i,a||{})}catch(l){xi.error(l)}}function II(n,t,e,i){async function a(l,...c){try{if(l==="event"){const[d,g]=c;await DI(n,t,e,d,g)}else if(l==="config"){const[d,g]=c;await MI(n,t,e,i,d,g)}else if(l==="consent"){const[d,g]=c;n("consent",d,g)}else if(l==="get"){const[d,g,y]=c;n("get",d,g,y)}else if(l==="set"){const[d]=c;n("set",d)}else n(l,...c)}catch(d){xi.error(d)}}return a}function OI(n,t,e,i,a){let l=function(...c){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=II(l,n,t,e),{gtagCore:l,wrappedGtag:window[a]}}function PI(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Fp)&&e.src.includes(n))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=30,kI=1e3;class NI{constructor(t={},e=kI){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const vx=new NI;function VI(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function zI(n){var t;const{appId:e,apiKey:i}=n,a={method:"GET",headers:VI(i)},l=xI.replace("{app-id}",e),c=await fetch(l,a);if(c.status!==200&&c.status!==304){let d="";try{const g=await c.json();!((t=g.error)===null||t===void 0)&&t.message&&(d=g.error.message)}catch{}throw qi.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function BI(n,t=vx,e){const{appId:i,apiKey:a,measurementId:l}=n.options;if(!i)throw qi.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw qi.create("no-api-key")}const c=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new HI;return setTimeout(async()=>{d.abort()},EI),bx({appId:i,apiKey:a,measurementId:l},c,d,t)}async function bx(n,{throttleEndTimeMillis:t,backoffCount:e},i,a=vx){var l;const{appId:c,measurementId:d}=n;try{await jI(i,t)}catch(g){if(d)return xi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:c,measurementId:d};throw g}try{const g=await zI(n);return a.deleteThrottleMetadata(c),g}catch(g){const y=g;if(!UI(y)){if(a.deleteThrottleMetadata(c),d)return xi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:c,measurementId:d};throw g}const T=Number((l=y==null?void 0:y.customData)===null||l===void 0?void 0:l.httpStatus)===503?Nb(e,a.intervalMillis,LI):Nb(e,a.intervalMillis),x={throttleEndTimeMillis:Date.now()+T,backoffCount:e+1};return a.setThrottleMetadata(c,x),xi.debug(`Calling attemptFetch again in ${T} millis`),bx(n,x,i,a)}}function jI(n,t){return new Promise((e,i)=>{const a=Math.max(t-Date.now(),0),l=setTimeout(e,a);n.addEventListener(()=>{clearTimeout(l),i(qi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function UI(n){if(!(n instanceof ao)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class HI{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function FI(n,t,e,i,a){if(a&&a.global){n("event",e,i);return}else{const l=await t,c=Object.assign(Object.assign({},i),{send_to:l});n("event",e,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(){if(ZE())try{await GE()}catch(n){return xi.warn(qi.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return xi.warn(qi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ZI(n,t,e,i,a,l,c){var d;const g=BI(n);g.then(R=>{e[R.measurementId]=R.appId,n.options.measurementId&&R.measurementId!==n.options.measurementId&&xi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>xi.error(R)),t.push(g);const y=qI().then(R=>{if(R)return i.getId()}),[T,x]=await Promise.all([g,y]);PI(l)||CI(l,T.measurementId),a("js",new Date);const w=(d=c==null?void 0:c.config)!==null&&d!==void 0?d:{};return w[TI]="firebase",w.update=!0,x!=null&&(w[bI]=x),a("config",T.measurementId,w),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.app=t}_delete(){return delete Dc[this.app.options.appId],Promise.resolve()}}let Dc={},Yb=[];const Kb={};let Ig="dataLayer",YI="gtag",Xb,Tx,Wb=!1;function KI(){const n=[];if(mM()&&n.push("This is a browser extension environment."),pM()||n.push("Cookies are not available."),n.length>0){const t=n.map((i,a)=>`(${a+1}) ${i}`).join(" "),e=qi.create("invalid-analytics-context",{errorInfo:t});xi.warn(e.message)}}function XI(n,t,e){KI();const i=n.options.appId;if(!i)throw qi.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)xi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qi.create("no-api-key");if(Dc[i]!=null)throw qi.create("already-exists",{id:i});if(!Wb){RI(Ig);const{wrappedGtag:l,gtagCore:c}=OI(Dc,Yb,Kb,Ig,YI);Tx=l,Xb=c,Wb=!0}return Dc[i]=ZI(n,Yb,Kb,t,Xb,Ig,e),new GI(n)}function WI(n=QE()){n=tl(n);const t=$c(n,Qf);return t.isInitialized()?t.getImmediate():QI(n)}function QI(n,t={}){const e=$c(n,Qf);if(e.isInitialized()){const a=e.getImmediate();if(Uc(t,e.getOptions()))return a;throw qi.create("already-initialized")}return e.initialize({options:t})}function $I(n,t,e,i){n=tl(n),FI(Tx,Dc[n.app.options.appId],t,e,i).catch(a=>xi.error(a))}const Qb="@firebase/analytics",$b="0.10.16";function JI(){$a(new Hr(Qf,(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return XI(i,a,e)},"PUBLIC")),$a(new Hr("analytics-internal",n,"PRIVATE")),rr(Qb,$b),rr(Qb,$b,"esm2017");function n(t){try{const e=t.getProvider(Qf).getImmediate();return{logEvent:(i,a,l)=>$I(e,i,a,l)}}catch(e){throw qi.create("interop-component-reg-failed",{reason:e})}}}JI();var Jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ka,Ex;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(B,O){function N(){}N.prototype=O.prototype,B.D=O.prototype,B.prototype=new N,B.prototype.constructor=B,B.C=function(H,U,Z){for(var j=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)j[Ut-2]=arguments[Ut];return O.prototype[U].apply(H,j)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(B,O,N){N||(N=0);var H=Array(16);if(typeof O=="string")for(var U=0;16>U;++U)H[U]=O.charCodeAt(N++)|O.charCodeAt(N++)<<8|O.charCodeAt(N++)<<16|O.charCodeAt(N++)<<24;else for(U=0;16>U;++U)H[U]=O[N++]|O[N++]<<8|O[N++]<<16|O[N++]<<24;O=B.g[0],N=B.g[1],U=B.g[2];var Z=B.g[3],j=O+(Z^N&(U^Z))+H[0]+3614090360&4294967295;O=N+(j<<7&4294967295|j>>>25),j=Z+(U^O&(N^U))+H[1]+3905402710&4294967295,Z=O+(j<<12&4294967295|j>>>20),j=U+(N^Z&(O^N))+H[2]+606105819&4294967295,U=Z+(j<<17&4294967295|j>>>15),j=N+(O^U&(Z^O))+H[3]+3250441966&4294967295,N=U+(j<<22&4294967295|j>>>10),j=O+(Z^N&(U^Z))+H[4]+4118548399&4294967295,O=N+(j<<7&4294967295|j>>>25),j=Z+(U^O&(N^U))+H[5]+1200080426&4294967295,Z=O+(j<<12&4294967295|j>>>20),j=U+(N^Z&(O^N))+H[6]+2821735955&4294967295,U=Z+(j<<17&4294967295|j>>>15),j=N+(O^U&(Z^O))+H[7]+4249261313&4294967295,N=U+(j<<22&4294967295|j>>>10),j=O+(Z^N&(U^Z))+H[8]+1770035416&4294967295,O=N+(j<<7&4294967295|j>>>25),j=Z+(U^O&(N^U))+H[9]+2336552879&4294967295,Z=O+(j<<12&4294967295|j>>>20),j=U+(N^Z&(O^N))+H[10]+4294925233&4294967295,U=Z+(j<<17&4294967295|j>>>15),j=N+(O^U&(Z^O))+H[11]+2304563134&4294967295,N=U+(j<<22&4294967295|j>>>10),j=O+(Z^N&(U^Z))+H[12]+1804603682&4294967295,O=N+(j<<7&4294967295|j>>>25),j=Z+(U^O&(N^U))+H[13]+4254626195&4294967295,Z=O+(j<<12&4294967295|j>>>20),j=U+(N^Z&(O^N))+H[14]+2792965006&4294967295,U=Z+(j<<17&4294967295|j>>>15),j=N+(O^U&(Z^O))+H[15]+1236535329&4294967295,N=U+(j<<22&4294967295|j>>>10),j=O+(U^Z&(N^U))+H[1]+4129170786&4294967295,O=N+(j<<5&4294967295|j>>>27),j=Z+(N^U&(O^N))+H[6]+3225465664&4294967295,Z=O+(j<<9&4294967295|j>>>23),j=U+(O^N&(Z^O))+H[11]+643717713&4294967295,U=Z+(j<<14&4294967295|j>>>18),j=N+(Z^O&(U^Z))+H[0]+3921069994&4294967295,N=U+(j<<20&4294967295|j>>>12),j=O+(U^Z&(N^U))+H[5]+3593408605&4294967295,O=N+(j<<5&4294967295|j>>>27),j=Z+(N^U&(O^N))+H[10]+38016083&4294967295,Z=O+(j<<9&4294967295|j>>>23),j=U+(O^N&(Z^O))+H[15]+3634488961&4294967295,U=Z+(j<<14&4294967295|j>>>18),j=N+(Z^O&(U^Z))+H[4]+3889429448&4294967295,N=U+(j<<20&4294967295|j>>>12),j=O+(U^Z&(N^U))+H[9]+568446438&4294967295,O=N+(j<<5&4294967295|j>>>27),j=Z+(N^U&(O^N))+H[14]+3275163606&4294967295,Z=O+(j<<9&4294967295|j>>>23),j=U+(O^N&(Z^O))+H[3]+4107603335&4294967295,U=Z+(j<<14&4294967295|j>>>18),j=N+(Z^O&(U^Z))+H[8]+1163531501&4294967295,N=U+(j<<20&4294967295|j>>>12),j=O+(U^Z&(N^U))+H[13]+2850285829&4294967295,O=N+(j<<5&4294967295|j>>>27),j=Z+(N^U&(O^N))+H[2]+4243563512&4294967295,Z=O+(j<<9&4294967295|j>>>23),j=U+(O^N&(Z^O))+H[7]+1735328473&4294967295,U=Z+(j<<14&4294967295|j>>>18),j=N+(Z^O&(U^Z))+H[12]+2368359562&4294967295,N=U+(j<<20&4294967295|j>>>12),j=O+(N^U^Z)+H[5]+4294588738&4294967295,O=N+(j<<4&4294967295|j>>>28),j=Z+(O^N^U)+H[8]+2272392833&4294967295,Z=O+(j<<11&4294967295|j>>>21),j=U+(Z^O^N)+H[11]+1839030562&4294967295,U=Z+(j<<16&4294967295|j>>>16),j=N+(U^Z^O)+H[14]+4259657740&4294967295,N=U+(j<<23&4294967295|j>>>9),j=O+(N^U^Z)+H[1]+2763975236&4294967295,O=N+(j<<4&4294967295|j>>>28),j=Z+(O^N^U)+H[4]+1272893353&4294967295,Z=O+(j<<11&4294967295|j>>>21),j=U+(Z^O^N)+H[7]+4139469664&4294967295,U=Z+(j<<16&4294967295|j>>>16),j=N+(U^Z^O)+H[10]+3200236656&4294967295,N=U+(j<<23&4294967295|j>>>9),j=O+(N^U^Z)+H[13]+681279174&4294967295,O=N+(j<<4&4294967295|j>>>28),j=Z+(O^N^U)+H[0]+3936430074&4294967295,Z=O+(j<<11&4294967295|j>>>21),j=U+(Z^O^N)+H[3]+3572445317&4294967295,U=Z+(j<<16&4294967295|j>>>16),j=N+(U^Z^O)+H[6]+76029189&4294967295,N=U+(j<<23&4294967295|j>>>9),j=O+(N^U^Z)+H[9]+3654602809&4294967295,O=N+(j<<4&4294967295|j>>>28),j=Z+(O^N^U)+H[12]+3873151461&4294967295,Z=O+(j<<11&4294967295|j>>>21),j=U+(Z^O^N)+H[15]+530742520&4294967295,U=Z+(j<<16&4294967295|j>>>16),j=N+(U^Z^O)+H[2]+3299628645&4294967295,N=U+(j<<23&4294967295|j>>>9),j=O+(U^(N|~Z))+H[0]+4096336452&4294967295,O=N+(j<<6&4294967295|j>>>26),j=Z+(N^(O|~U))+H[7]+1126891415&4294967295,Z=O+(j<<10&4294967295|j>>>22),j=U+(O^(Z|~N))+H[14]+2878612391&4294967295,U=Z+(j<<15&4294967295|j>>>17),j=N+(Z^(U|~O))+H[5]+4237533241&4294967295,N=U+(j<<21&4294967295|j>>>11),j=O+(U^(N|~Z))+H[12]+1700485571&4294967295,O=N+(j<<6&4294967295|j>>>26),j=Z+(N^(O|~U))+H[3]+2399980690&4294967295,Z=O+(j<<10&4294967295|j>>>22),j=U+(O^(Z|~N))+H[10]+4293915773&4294967295,U=Z+(j<<15&4294967295|j>>>17),j=N+(Z^(U|~O))+H[1]+2240044497&4294967295,N=U+(j<<21&4294967295|j>>>11),j=O+(U^(N|~Z))+H[8]+1873313359&4294967295,O=N+(j<<6&4294967295|j>>>26),j=Z+(N^(O|~U))+H[15]+4264355552&4294967295,Z=O+(j<<10&4294967295|j>>>22),j=U+(O^(Z|~N))+H[6]+2734768916&4294967295,U=Z+(j<<15&4294967295|j>>>17),j=N+(Z^(U|~O))+H[13]+1309151649&4294967295,N=U+(j<<21&4294967295|j>>>11),j=O+(U^(N|~Z))+H[4]+4149444226&4294967295,O=N+(j<<6&4294967295|j>>>26),j=Z+(N^(O|~U))+H[11]+3174756917&4294967295,Z=O+(j<<10&4294967295|j>>>22),j=U+(O^(Z|~N))+H[2]+718787259&4294967295,U=Z+(j<<15&4294967295|j>>>17),j=N+(Z^(U|~O))+H[9]+3951481745&4294967295,B.g[0]=B.g[0]+O&4294967295,B.g[1]=B.g[1]+(U+(j<<21&4294967295|j>>>11))&4294967295,B.g[2]=B.g[2]+U&4294967295,B.g[3]=B.g[3]+Z&4294967295}i.prototype.u=function(B,O){O===void 0&&(O=B.length);for(var N=O-this.blockSize,H=this.B,U=this.h,Z=0;Z<O;){if(U==0)for(;Z<=N;)a(this,B,Z),Z+=this.blockSize;if(typeof B=="string"){for(;Z<O;)if(H[U++]=B.charCodeAt(Z++),U==this.blockSize){a(this,H),U=0;break}}else for(;Z<O;)if(H[U++]=B[Z++],U==this.blockSize){a(this,H),U=0;break}}this.h=U,this.o+=O},i.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var O=1;O<B.length-8;++O)B[O]=0;var N=8*this.o;for(O=B.length-8;O<B.length;++O)B[O]=N&255,N/=256;for(this.u(B),B=Array(16),O=N=0;4>O;++O)for(var H=0;32>H;H+=8)B[N++]=this.g[O]>>>H&255;return B};function l(B,O){var N=d;return Object.prototype.hasOwnProperty.call(N,B)?N[B]:N[B]=O(B)}function c(B,O){this.h=O;for(var N=[],H=!0,U=B.length-1;0<=U;U--){var Z=B[U]|0;H&&Z==O||(N[U]=Z,H=!1)}this.g=N}var d={};function g(B){return-128<=B&&128>B?l(B,function(O){return new c([O|0],0>O?-1:0)}):new c([B|0],0>B?-1:0)}function y(B){if(isNaN(B)||!isFinite(B))return x;if(0>B)return V(y(-B));for(var O=[],N=1,H=0;B>=N;H++)O[H]=B/N|0,N*=4294967296;return new c(O,0)}function T(B,O){if(B.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(B.charAt(0)=="-")return V(T(B.substring(1),O));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=y(Math.pow(O,8)),H=x,U=0;U<B.length;U+=8){var Z=Math.min(8,B.length-U),j=parseInt(B.substring(U,U+Z),O);8>Z?(Z=y(Math.pow(O,Z)),H=H.j(Z).add(y(j))):(H=H.j(N),H=H.add(y(j)))}return H}var x=g(0),w=g(1),R=g(16777216);n=c.prototype,n.m=function(){if(k(this))return-V(this).m();for(var B=0,O=1,N=0;N<this.g.length;N++){var H=this.i(N);B+=(0<=H?H:4294967296+H)*O,O*=4294967296}return B},n.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(P(this))return"0";if(k(this))return"-"+V(this).toString(B);for(var O=y(Math.pow(B,6)),N=this,H="";;){var U=ut(N,O).g;N=K(N,U.j(O));var Z=((0<N.g.length?N.g[0]:N.h)>>>0).toString(B);if(N=U,P(N))return Z+H;for(;6>Z.length;)Z="0"+Z;H=Z+H}},n.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function P(B){if(B.h!=0)return!1;for(var O=0;O<B.g.length;O++)if(B.g[O]!=0)return!1;return!0}function k(B){return B.h==-1}n.l=function(B){return B=K(this,B),k(B)?-1:P(B)?0:1};function V(B){for(var O=B.g.length,N=[],H=0;H<O;H++)N[H]=~B.g[H];return new c(N,~B.h).add(w)}n.abs=function(){return k(this)?V(this):this},n.add=function(B){for(var O=Math.max(this.g.length,B.g.length),N=[],H=0,U=0;U<=O;U++){var Z=H+(this.i(U)&65535)+(B.i(U)&65535),j=(Z>>>16)+(this.i(U)>>>16)+(B.i(U)>>>16);H=j>>>16,Z&=65535,j&=65535,N[U]=j<<16|Z}return new c(N,N[N.length-1]&-2147483648?-1:0)};function K(B,O){return B.add(V(O))}n.j=function(B){if(P(this)||P(B))return x;if(k(this))return k(B)?V(this).j(V(B)):V(V(this).j(B));if(k(B))return V(this.j(V(B)));if(0>this.l(R)&&0>B.l(R))return y(this.m()*B.m());for(var O=this.g.length+B.g.length,N=[],H=0;H<2*O;H++)N[H]=0;for(H=0;H<this.g.length;H++)for(var U=0;U<B.g.length;U++){var Z=this.i(H)>>>16,j=this.i(H)&65535,Ut=B.i(U)>>>16,Ot=B.i(U)&65535;N[2*H+2*U]+=j*Ot,tt(N,2*H+2*U),N[2*H+2*U+1]+=Z*Ot,tt(N,2*H+2*U+1),N[2*H+2*U+1]+=j*Ut,tt(N,2*H+2*U+1),N[2*H+2*U+2]+=Z*Ut,tt(N,2*H+2*U+2)}for(H=0;H<O;H++)N[H]=N[2*H+1]<<16|N[2*H];for(H=O;H<2*O;H++)N[H]=0;return new c(N,0)};function tt(B,O){for(;(B[O]&65535)!=B[O];)B[O+1]+=B[O]>>>16,B[O]&=65535,O++}function st(B,O){this.g=B,this.h=O}function ut(B,O){if(P(O))throw Error("division by zero");if(P(B))return new st(x,x);if(k(B))return O=ut(V(B),O),new st(V(O.g),V(O.h));if(k(O))return O=ut(B,V(O)),new st(V(O.g),O.h);if(30<B.g.length){if(k(B)||k(O))throw Error("slowDivide_ only works with positive integers.");for(var N=w,H=O;0>=H.l(B);)N=nt(N),H=nt(H);var U=ht(N,1),Z=ht(H,1);for(H=ht(H,2),N=ht(N,2);!P(H);){var j=Z.add(H);0>=j.l(B)&&(U=U.add(N),Z=j),H=ht(H,1),N=ht(N,1)}return O=K(B,U.j(O)),new st(U,O)}for(U=x;0<=B.l(O);){for(N=Math.max(1,Math.floor(B.m()/O.m())),H=Math.ceil(Math.log(N)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),Z=y(N),j=Z.j(O);k(j)||0<j.l(B);)N-=H,Z=y(N),j=Z.j(O);P(Z)&&(Z=w),U=U.add(Z),B=K(B,j)}return new st(U,B)}n.A=function(B){return ut(this,B).h},n.and=function(B){for(var O=Math.max(this.g.length,B.g.length),N=[],H=0;H<O;H++)N[H]=this.i(H)&B.i(H);return new c(N,this.h&B.h)},n.or=function(B){for(var O=Math.max(this.g.length,B.g.length),N=[],H=0;H<O;H++)N[H]=this.i(H)|B.i(H);return new c(N,this.h|B.h)},n.xor=function(B){for(var O=Math.max(this.g.length,B.g.length),N=[],H=0;H<O;H++)N[H]=this.i(H)^B.i(H);return new c(N,this.h^B.h)};function nt(B){for(var O=B.g.length+1,N=[],H=0;H<O;H++)N[H]=B.i(H)<<1|B.i(H-1)>>>31;return new c(N,B.h)}function ht(B,O){var N=O>>5;O%=32;for(var H=B.g.length-N,U=[],Z=0;Z<H;Z++)U[Z]=0<O?B.i(Z+N)>>>O|B.i(Z+N+1)<<32-O:B.i(Z+N);return new c(U,B.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Ex=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=T,Ka=c}).apply(typeof Jb<"u"?Jb:typeof self<"u"?self:typeof window<"u"?window:{});var bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xx,Ec,Sx,Of,ep,wx,Ax,Cx;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,A){return m==Array.prototype||m==Object.prototype||(m[E]=A.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof bf=="object"&&bf];for(var E=0;E<m.length;++E){var A=m[E];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var i=e(this);function a(m,E){if(E)t:{var A=i;m=m.split(".");for(var I=0;I<m.length-1;I++){var W=m[I];if(!(W in A))break t;A=A[W]}m=m[m.length-1],I=A[m],E=E(I),E!=I&&E!=null&&t(A,m,{configurable:!0,writable:!0,value:E})}}function l(m,E){m instanceof String&&(m+="");var A=0,I=!1,W={next:function(){if(!I&&A<m.length){var ot=A++;return{value:E(ot,m[ot]),done:!1}}return I=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}a("Array.prototype.values",function(m){return m||function(){return l(this,function(E,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function y(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function T(m,E,A){return m.call.apply(m.bind,arguments)}function x(m,E,A){if(!m)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,I),m.apply(E,W)}}return function(){return m.apply(E,arguments)}}function w(m,E,A){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:x,w.apply(null,arguments)}function R(m,E){var A=Array.prototype.slice.call(arguments,1);return function(){var I=A.slice();return I.push.apply(I,arguments),m.apply(this,I)}}function P(m,E){function A(){}A.prototype=E.prototype,m.aa=E.prototype,m.prototype=new A,m.prototype.constructor=m,m.Qb=function(I,W,ot){for(var Et=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)Et[ae-2]=arguments[ae];return E.prototype[W].apply(I,Et)}}function k(m){const E=m.length;if(0<E){const A=Array(E);for(let I=0;I<E;I++)A[I]=m[I];return A}return[]}function V(m,E){for(let A=1;A<arguments.length;A++){const I=arguments[A];if(g(I)){const W=m.length||0,ot=I.length||0;m.length=W+ot;for(let Et=0;Et<ot;Et++)m[W+Et]=I[Et]}else m.push(I)}}class K{constructor(E,A){this.i=E,this.j=A,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function tt(m){return/^[\s\xa0]*$/.test(m)}function st(){var m=d.navigator;return m&&(m=m.userAgent)?m:""}function ut(m){return ut[" "](m),m}ut[" "]=function(){};var nt=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function ht(m,E,A){for(const I in m)E.call(A,m[I],I,m)}function B(m,E){for(const A in m)E.call(void 0,m[A],A,m)}function O(m){const E={};for(const A in m)E[A]=m[A];return E}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(m,E){let A,I;for(let W=1;W<arguments.length;W++){I=arguments[W];for(A in I)m[A]=I[A];for(let ot=0;ot<N.length;ot++)A=N[ot],Object.prototype.hasOwnProperty.call(I,A)&&(m[A]=I[A])}}function U(m){var E=1;m=m.split(":");const A=[];for(;0<E&&m.length;)A.push(m.shift()),E--;return m.length&&A.push(m.join(":")),A}function Z(m){d.setTimeout(()=>{throw m},0)}function j(){var m=kt;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class Ut{constructor(){this.h=this.g=null}add(E,A){const I=Ot.get();I.set(E,A),this.h?this.h.next=I:this.g=I,this.h=I}}var Ot=new K(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(E,A){this.h=E,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,dt=!1,kt=new Ut,z=()=>{const m=d.Promise.resolve(void 0);_t=()=>{m.then(lt)}};var lt=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(A){Z(A)}var E=Ot;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}dt=!1};function vt(){this.s=this.s,this.C=this.C}vt.prototype.s=!1,vt.prototype.ma=function(){this.s||(this.s=!0,this.N())},vt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var xt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const A=()=>{};d.addEventListener("test",A,E),d.removeEventListener("test",A,E)}catch{}return m}();function St(m,E){if(mt.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var A=this.type=m.type,I=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(nt){t:{try{ut(E.nodeName);var W=!0;break t}catch{}W=!1}W||(E=null)}}else A=="mouseover"?E=m.fromElement:A=="mouseout"&&(E=m.toElement);this.relatedTarget=E,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Tt[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&St.aa.h.call(this)}}P(St,mt);var Tt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),ne=0;function ti(m,E,A,I,W){this.listener=m,this.proxy=null,this.src=E,this.type=A,this.capture=!!I,this.ha=W,this.key=++ne,this.da=this.fa=!1}function li(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Pt(m){this.src=m,this.g={},this.h=0}Pt.prototype.add=function(m,E,A,I,W){var ot=m.toString();m=this.g[ot],m||(m=this.g[ot]=[],this.h++);var Et=Te(m,E,I,W);return-1<Et?(E=m[Et],A||(E.fa=!1)):(E=new ti(E,this.src,ot,!!I,W),E.fa=A,m.push(E)),E};function Qt(m,E){var A=E.type;if(A in m.g){var I=m.g[A],W=Array.prototype.indexOf.call(I,E,void 0),ot;(ot=0<=W)&&Array.prototype.splice.call(I,W,1),ot&&(li(E),m.g[A].length==0&&(delete m.g[A],m.h--))}}function Te(m,E,A,I){for(var W=0;W<m.length;++W){var ot=m[W];if(!ot.da&&ot.listener==E&&ot.capture==!!A&&ot.ha==I)return W}return-1}var dn="closure_lm_"+(1e6*Math.random()|0),an={};function ui(m,E,A,I,W){if(Array.isArray(E)){for(var ot=0;ot<E.length;ot++)ui(m,E[ot],A,I,W);return null}return A=hl(A),m&&m[_e]?m.K(E,A,y(I)?!!I.capture:!1,W):En(m,E,A,!1,I,W)}function En(m,E,A,I,W,ot){if(!E)throw Error("Invalid event type");var Et=y(W)?!!W.capture:!!W,ae=fr(m);if(ae||(m[dn]=ae=new Pt(m)),A=ae.add(E,A,I,Et,ot),A.proxy)return A;if(I=Zi(),A.proxy=I,I.src=m,I.listener=A,m.addEventListener)xt||(W=Et),W===void 0&&(W=!1),m.addEventListener(E.toString(),I,W);else if(m.attachEvent)m.attachEvent(ms(E.toString()),I);else if(m.addListener&&m.removeListener)m.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Zi(){function m(A){return E.call(m.src,m.listener,A)}const E=cl;return m}function oo(m,E,A,I,W){if(Array.isArray(E))for(var ot=0;ot<E.length;ot++)oo(m,E[ot],A,I,W);else I=y(I)?!!I.capture:!!I,A=hl(A),m&&m[_e]?(m=m.i,E=String(E).toString(),E in m.g&&(ot=m.g[E],A=Te(ot,A,I,W),-1<A&&(li(ot[A]),Array.prototype.splice.call(ot,A,1),ot.length==0&&(delete m.g[E],m.h--)))):m&&(m=fr(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Te(E,A,I,W)),(A=-1<m?E[m]:null)&&hr(A))}function hr(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[_e])Qt(E.i,m);else{var A=m.type,I=m.proxy;E.removeEventListener?E.removeEventListener(A,I,m.capture):E.detachEvent?E.detachEvent(ms(A),I):E.addListener&&E.removeListener&&E.removeListener(I),(A=fr(E))?(Qt(A,m),A.h==0&&(A.src=null,E[dn]=null)):li(m)}}}function ms(m){return m in an?an[m]:an[m]="on"+m}function cl(m,E){if(m.da)m=!0;else{E=new St(E,this);var A=m.listener,I=m.ha||m.src;m.fa&&hr(m),m=A.call(I,E)}return m}function fr(m){return m=m[dn],m instanceof Pt?m:null}var lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function hl(m){return typeof m=="function"?m:(m[lo]||(m[lo]=function(E){return m.handleEvent(E)}),m[lo])}function Le(){vt.call(this),this.i=new Pt(this),this.M=this,this.F=null}P(Le,vt),Le.prototype[_e]=!0,Le.prototype.removeEventListener=function(m,E,A,I){oo(this,m,E,A,I)};function me(m,E){var A,I=m.F;if(I)for(A=[];I;I=I.F)A.push(I);if(m=m.M,I=E.type||E,typeof E=="string")E=new mt(E,m);else if(E instanceof mt)E.target=E.target||m;else{var W=E;E=new mt(I,m),H(E,W)}if(W=!0,A)for(var ot=A.length-1;0<=ot;ot--){var Et=E.g=A[ot];W=Fn(Et,I,!0,E)&&W}if(Et=E.g=m,W=Fn(Et,I,!0,E)&&W,W=Fn(Et,I,!1,E)&&W,A)for(ot=0;ot<A.length;ot++)Et=E.g=A[ot],W=Fn(Et,I,!1,E)&&W}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var A=m.g[E],I=0;I<A.length;I++)li(A[I]);delete m.g[E],m.h--}}this.F=null},Le.prototype.K=function(m,E,A,I){return this.i.add(String(m),E,!1,A,I)},Le.prototype.L=function(m,E,A,I){return this.i.add(String(m),E,!0,A,I)};function Fn(m,E,A,I){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var W=!0,ot=0;ot<E.length;++ot){var Et=E[ot];if(Et&&!Et.da&&Et.capture==A){var ae=Et.listener,We=Et.ha||Et.src;Et.fa&&Qt(m.i,Et),W=ae.call(We,I)!==!1&&W}}return W&&!I.defaultPrevented}function xn(m,E,A){if(typeof m=="function")A&&(m=w(m,A));else if(m&&typeof m.handleEvent=="function")m=w(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:d.setTimeout(m,E||0)}function uo(m){m.g=xn(()=>{m.g=null,m.i&&(m.i=!1,uo(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class fl extends vt{constructor(E,A){super(),this.m=E,this.l=A,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(m){vt.call(this),this.h=m,this.g={}}P(dr,vt);var ks=[];function gs(m){ht(m.g,function(E,A){this.g.hasOwnProperty(A)&&hr(E)},m),m.g={}}dr.prototype.N=function(){dr.aa.N.call(this),gs(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ci=d.JSON.stringify,Gr=d.JSON.parse,Si=class{stringify(m){return d.JSON.stringify(m,void 0)}parse(m){return d.JSON.parse(m,void 0)}};function co(){}co.prototype.h=null;function ho(m){return m.h||(m.h=m.i())}function Yr(){}var Gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yi(){mt.call(this,"d")}P(Yi,mt);function fo(){mt.call(this,"c")}P(fo,mt);var Ki={},mo=null;function Ns(){return mo=mo||new Le}Ki.La="serverreachability";function Kr(m){mt.call(this,Ki.La,m)}P(Kr,mt);function Vs(m){const E=Ns();me(E,new Kr(E))}Ki.STAT_EVENT="statevent";function Xr(m,E){mt.call(this,Ki.STAT_EVENT,m),this.stat=E}P(Xr,mt);function ke(m){const E=Ns();me(E,new Xr(E,m))}Ki.Ma="timingevent";function Je(m,E){mt.call(this,Ki.Ma,m),this.size=E}P(Je,mt);function Xe(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){m()},E)}function hi(){this.g=!0}hi.prototype.xa=function(){this.g=!1};function qn(m,E,A,I,W,ot){m.info(function(){if(m.g)if(ot)for(var Et="",ae=ot.split("&"),We=0;We<ae.length;We++){var oe=ae[We].split("=");if(1<oe.length){var ve=oe[0];oe=oe[1];var Ve=ve.split("_");Et=2<=Ve.length&&Ve[1]=="type"?Et+(ve+"="+oe+"&"):Et+(ve+"=redacted&")}}else Et=null;else Et=ot;return"XMLHTTP REQ ("+I+") [attempt "+W+"]: "+E+`
`+A+`
`+Et})}function Dt(m,E,A,I,W,ot,Et){m.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+W+"]: "+E+`
`+A+`
`+ot+" "+Et})}function ps(m,E,A,I){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+zs(m,A)+(I?" "+I:"")})}function go(m,E){m.info(function(){return"TIMEOUT: "+E})}hi.prototype.info=function(){};function zs(m,E){if(!m.g)return E;if(!E)return null;try{var A=JSON.parse(E);if(A){for(m=0;m<A.length;m++)if(Array.isArray(A[m])){var I=A[m];if(!(2>I.length)){var W=I[1];if(Array.isArray(W)&&!(1>W.length)){var ot=W[0];if(ot!="noop"&&ot!="stop"&&ot!="close")for(var Et=1;Et<W.length;Et++)W[Et]=""}}}}return ci(A)}catch{return E}}var _s={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ai;function Ln(){}P(Ln,co),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},Ai=new Ln;function Sn(m,E,A,I){this.j=m,this.i=E,this.l=A,this.R=I||1,this.U=new dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ze}function Ze(){this.i=null,this.g="",this.h=!1}var po={},Wr={};function Ci(m,E,A){m.L=1,m.v=ei(Ne(E)),m.m=A,m.P=!0,Xi(m,null)}function Xi(m,E){m.F=Date.now(),gr(m),m.A=Ne(m.v);var A=m.A,I=m.R;Array.isArray(I)||(I=[String(I)]),vo(A.i,"t",I),m.C=0,A=m.j.J,m.h=new Ze,m.g=yl(m.j,A?E:null,!m.m),0<m.O&&(m.M=new fl(w(m.Y,m,m.g),m.O)),E=m.U,A=m.g,I=m.ca;var W="readystatechange";Array.isArray(W)||(W&&(ks[0]=W.toString()),W=ks);for(var ot=0;ot<W.length;ot++){var Et=ui(A,W[ot],I||E.handleEvent,!1,E.h||E);if(!Et)break;E.g[Et.key]=Et}E=m.H?O(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),Vs(),qn(m.i,m.u,m.A,m.l,m.R,m.m)}Sn.prototype.ca=function(m){m=m.target;const E=this.M;E&&Cn(m)==3?E.j():this.Y(m)},Sn.prototype.Y=function(m){try{if(m==this.g)t:{const Ve=Cn(this.g);var E=this.g.Ba();const ws=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||bo(this.g)))){this.J||Ve!=4||E==7||(E==8||0>=ws?Vs(3):Vs(2)),Bs(this);var A=this.g.Z();this.X=A;e:if(dl(this)){var I=bo(this.g);m="";var W=I.length,ot=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Wi(this);var Et="";break e}this.h.i=new d.TextDecoder}for(E=0;E<W;E++)this.h.h=!0,m+=this.h.i.decode(I[E],{stream:!(ot&&E==W-1)});I.length=0,this.h.g+=m,this.C=0,Et=this.h.g}else Et=this.g.oa();if(this.o=A==200,Dt(this.i,this.u,this.A,this.l,this.R,Ve,A),this.o){if(this.T&&!this.K){e:{if(this.g){var ae,We=this.g;if((ae=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(ae)){var oe=ae;break e}}oe=null}if(A=oe)ps(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ys(this,A);else{this.o=!1,this.s=3,ke(12),mn(this),Wi(this);break t}}if(this.P){A=!0;let Ie;for(;!this.J&&this.C<Et.length;)if(Ie=mr(this,Et),Ie==Wr){Ve==4&&(this.s=4,ke(14),A=!1),ps(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==po){this.s=4,ke(15),ps(this.i,this.l,Et,"[Invalid Chunk]"),A=!1;break}else ps(this.i,this.l,Ie,null),ys(this,Ie);if(dl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||Et.length!=0||this.h.h||(this.s=1,ke(16),A=!1),this.o=this.o&&A,!A)ps(this.i,this.l,Et,"[Invalid Chunked Response]"),mn(this),Wi(this);else if(0<Et.length&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.ba&&!ve.M&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+Et.length),Zs(ve),ve.M=!0,ke(11))}}else ps(this.i,this.l,Et,null),ys(this,Et);Ve==4&&mn(this),this.o&&!this.J&&(Ve==4?Eo(this.j,this):(this.o=!1,gr(this)))}else Tu(this.g),A==400&&0<Et.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),mn(this),Wi(this)}}}catch{}finally{}};function dl(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function mr(m,E){var A=m.C,I=E.indexOf(`
`,A);return I==-1?Wr:(A=Number(E.substring(A,I)),isNaN(A)?po:(I+=1,I+A>E.length?Wr:(E=E.slice(I,I+A),m.C=I+A,E)))}Sn.prototype.cancel=function(){this.J=!0,mn(this)};function gr(m){m.S=Date.now()+m.I,ml(m,m.I)}function ml(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Xe(w(m.ba,m),E)}function Bs(m){m.B&&(d.clearTimeout(m.B),m.B=null)}Sn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(go(this.i,this.A),this.L!=2&&(Vs(),ke(17)),mn(this),this.s=2,Wi(this)):ml(this,this.S-m)};function Wi(m){m.j.G==0||m.J||Eo(m.j,m)}function mn(m){Bs(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,gs(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function ys(m,E){try{var A=m.j;if(A.G!=0&&(A.g==m||te(A.h,m))){if(!m.K&&te(A.h,m)&&A.G==3){try{var I=A.Da.g.parse(E)}catch{I=null}if(Array.isArray(I)&&I.length==3){var W=I;if(W[0]==0){t:if(!A.u){if(A.g)if(A.g.F+3e3<m.F)ra(A),na(A);else break t;ia(A),ke(18)}}else A.za=W[1],0<A.za-A.T&&37500>W[2]&&A.F&&A.v==0&&!A.C&&(A.C=Xe(w(A.Za,A),6e3));if(1>=$i(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ss(A,11)}else if((m.K||A.g==m)&&ra(A),!tt(E))for(W=A.Da.g.parse(E),E=0;E<W.length;E++){let oe=W[E];if(A.T=oe[0],oe=oe[1],A.G==2)if(oe[0]=="c"){A.K=oe[1],A.ia=oe[2];const ve=oe[3];ve!=null&&(A.la=ve,A.j.info("VER="+A.la));const Ve=oe[4];Ve!=null&&(A.Aa=Ve,A.j.info("SVER="+A.Aa));const ws=oe[5];ws!=null&&typeof ws=="number"&&0<ws&&(I=1.5*ws,A.L=I,A.j.info("backChannelRequestTimeoutMs_="+I)),I=A;const Ie=m.g;if(Ie){const is=Ie.g?Ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var ot=I.h;ot.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(ot.j=ot.l,ot.g=new Set,ot.h&&(ye(ot,ot.h),ot.h=null))}if(I.D){const ss=Ie.g?Ie.g.getResponseHeader("X-HTTP-Session-Id"):null;ss&&(I.ya=ss,Ht(I.I,I.D,ss))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-m.F,A.j.info("Handshake RTT: "+A.R+"ms")),I=A;var Et=m;if(I.qa=oa(I,I.J?I.ia:null,I.W),Et.K){on(I.h,Et);var ae=Et,We=I.L;We&&(ae.I=We),ae.B&&(Bs(ae),gr(ae)),I.g=Et}else Pi(I);0<A.i.length&&qs(A)}else oe[0]!="stop"&&oe[0]!="close"||Ss(A,7);else A.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?Ss(A,7):ea(A):oe[0]!="noop"&&A.l&&A.l.ta(oe),A.v=0)}}Vs(4)}catch{}}var js=class{constructor(m,E){this.g=m,this.map=E}};function Qi(m){this.l=m||10,d.PerformanceNavigationTiming?(m=d.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function $i(m){return m.h?1:m.g?m.g.size:0}function te(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function ye(m,E){m.g?m.g.add(E):m.h=E}function on(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}Qi.prototype.cancel=function(){if(this.i=Ji(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ji(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const A of m.g.values())E=E.concat(A.D);return E}return k(m.i)}function Us(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(g(m)){for(var E=[],A=m.length,I=0;I<A;I++)E.push(m[I]);return E}E=[],A=0;for(I in m)E[A++]=m[I];return E}function Hs(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(g(m)||typeof m=="string"){var E=[];m=m.length;for(var A=0;A<m;A++)E.push(A);return E}E=[],A=0;for(const I in m)E[A++]=I;return E}}}function Gt(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(g(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var A=Hs(m),I=Us(m),W=I.length,ot=0;ot<W;ot++)E.call(void 0,I[ot],A&&A[ot],m)}var Ee=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _o(m,E){if(m){m=m.split("&");for(var A=0;A<m.length;A++){var I=m[A].indexOf("="),W=null;if(0<=I){var ot=m[A].substring(0,I);W=m[A].substring(I+1)}else ot=m[A];E(ot,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function je(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof je){this.h=m.h,_r(this,m.j),this.o=m.o,this.g=m.g,Ri(this,m.s),this.l=m.l;var E=m.i,A=new Di;A.i=E.i,E.g&&(A.g=new Map(E.g),A.h=E.h),kn(this,A),this.m=m.m}else m&&(E=String(m).match(Ee))?(this.h=!1,_r(this,E[1]||"",!0),this.o=wn(E[2]||""),this.g=wn(E[3]||"",!0),Ri(this,E[4]),this.l=wn(E[5]||"",!0),kn(this,E[6]||"",!0),this.m=wn(E[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}je.prototype.toString=function(){var m=[],E=this.j;E&&m.push(Mi(E,vs,!0),":");var A=this.g;return(A||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Mi(E,vs,!0),"@"),m.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&m.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&m.push("/"),m.push(Mi(A,A.charAt(0)=="/"?yo:yr,!0))),(A=this.i.toString())&&m.push("?",A),(A=this.m)&&m.push("#",Mi(A,Fs)),m.join("")};function Ne(m){return new je(m)}function _r(m,E,A){m.j=A?wn(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function Ri(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function kn(m,E,A){E instanceof Di?(m.i=E,ni(m.i,m.h)):(A||(E=Mi(E,$r)),m.i=new Di(E,m.h))}function Ht(m,E,A){m.i.set(E,A)}function ei(m){return Ht(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function wn(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Mi(m,E,A){return typeof m=="string"?(m=encodeURI(m).replace(E,Qr),A&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Qr(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var vs=/[#\/\?@]/g,yr=/[#\?:]/g,yo=/[#\?]/g,$r=/[#\?@]/g,Fs=/#/g;function Di(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function Nn(m){m.g||(m.g=new Map,m.h=0,m.i&&_o(m.i,function(E,A){m.add(decodeURIComponent(E.replace(/\+/g," ")),A)}))}n=Di.prototype,n.add=function(m,E){Nn(this),this.i=null,m=Vt(this,m);var A=this.g.get(m);return A||this.g.set(m,A=[]),A.push(E),this.h+=1,this};function ts(m,E){Nn(m),E=Vt(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function Ii(m,E){return Nn(m),E=Vt(m,E),m.g.has(E)}n.forEach=function(m,E){Nn(this),this.g.forEach(function(A,I){A.forEach(function(W){m.call(E,W,I,this)},this)},this)},n.na=function(){Nn(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),A=[];for(let I=0;I<E.length;I++){const W=m[I];for(let ot=0;ot<W.length;ot++)A.push(E[I])}return A},n.V=function(m){Nn(this);let E=[];if(typeof m=="string")Ii(this,m)&&(E=E.concat(this.g.get(Vt(this,m))));else{m=Array.from(this.g.values());for(let A=0;A<m.length;A++)E=E.concat(m[A])}return E},n.set=function(m,E){return Nn(this),this.i=null,m=Vt(this,m),Ii(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function vo(m,E,A){ts(m,E),0<A.length&&(m.i=null,m.g.set(Vt(m,E),k(A)),m.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var A=0;A<E.length;A++){var I=E[A];const ot=encodeURIComponent(String(I)),Et=this.V(I);for(I=0;I<Et.length;I++){var W=ot;Et[I]!==""&&(W+="="+encodeURIComponent(String(Et[I]))),m.push(W)}}return this.i=m.join("&")};function Vt(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function ni(m,E){E&&!m.j&&(Nn(m),m.i=null,m.g.forEach(function(A,I){var W=I.toLowerCase();I!=W&&(ts(this,I),vo(this,W,A))},m)),m.j=E}function ue(m,E){const A=new hi;if(d.Image){const I=new Image;I.onload=R(Zn,A,"TestLoadImage: loaded",!0,E,I),I.onerror=R(Zn,A,"TestLoadImage: error",!1,E,I),I.onabort=R(Zn,A,"TestLoadImage: abort",!1,E,I),I.ontimeout=R(Zn,A,"TestLoadImage: timeout",!1,E,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=m}else E(!1)}function fi(m,E){const A=new hi,I=new AbortController,W=setTimeout(()=>{I.abort(),Zn(A,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:I.signal}).then(ot=>{clearTimeout(W),ot.ok?Zn(A,"TestPingServer: ok",!0,E):Zn(A,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(W),Zn(A,"TestPingServer: error",!1,E)})}function Zn(m,E,A,I,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),I(A)}catch{}}function bs(){this.g=new Si}function di(m,E,A){const I=A||"";try{Gt(m,function(W,ot){let Et=W;y(W)&&(Et=ci(W)),E.push(I+ot+"="+encodeURIComponent(Et))})}catch(W){throw E.push(I+"type="+encodeURIComponent("_badmap")),W}}function Gn(m){this.l=m.Ub||null,this.j=m.eb||!1}P(Gn,co),Gn.prototype.g=function(){return new Oi(this.l,this.j)},Gn.prototype.i=function(m){return function(){return m}}({});function Oi(m,E){Le.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Oi,Le),n=Oi.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,An(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||d).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ae(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ts(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ts(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?Ae(this):An(this),this.readyState==3&&Ts(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ae(this))},n.Qa=function(m){this.g&&(this.response=m,Ae(this))},n.ga=function(){this.g&&Ae(this)};function Ae(m){m.readyState=4,m.l=null,m.j=null,m.v=null,An(m)}n.setRequestHeader=function(m,E){this.u.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var A=E.next();!A.done;)A=A.value,m.push(A[0]+": "+A[1]),A=E.next();return m.join(`\r
`)};function An(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Jr(m){let E="";return ht(m,function(A,I){E+=I,E+=":",E+=A,E+=`\r
`}),E}function tn(m,E,A){t:{for(I in A){var I=!1;break t}I=!0}I||(A=Jr(A),typeof m=="string"?A!=null&&encodeURIComponent(String(A)):Ht(m,E,A))}function ge(m){Le.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(ge,Le);var vr=/^https?$/i,Es=["POST","PUT"];n=ge.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,E,A,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ai.g(),this.v=this.o?ho(this.o):ho(Ai),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(ot){gl(this,ot);return}if(m=A||"",A=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var W in I)A.set(W,I[W]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const ot of I.keys())A.set(ot,I.get(ot));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(A.keys()).find(ot=>ot.toLowerCase()=="content-type"),W=d.FormData&&m instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Es,E,void 0))||I||W||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ot,Et]of A)this.g.setRequestHeader(ot,Et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gn(this),this.u=!0,this.g.send(m),this.u=!1}catch(ot){gl(this,ot)}};function gl(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,br(m),es(m)}function br(m){m.A||(m.A=!0,me(m,"complete"),me(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,me(this,"complete"),me(this,"abort"),es(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),ge.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Xt(this):this.bb())},n.bb=function(){Xt(this)};function Xt(m){if(m.h&&typeof c<"u"&&(!m.v[1]||Cn(m)!=4||m.Z()!=2)){if(m.u&&Cn(m)==4)xn(m.Ea,0,m);else if(me(m,"readystatechange"),Cn(m)==4){m.h=!1;try{const Et=m.Z();t:switch(Et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var A;if(!(A=E)){var I;if(I=Et===0){var W=String(m.D).match(Ee)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),I=!vr.test(W?W.toLowerCase():"")}A=I}if(A)me(m,"complete"),me(m,"success");else{m.m=6;try{var ot=2<Cn(m)?m.g.statusText:""}catch{ot=""}m.l=ot+" ["+m.Z()+"]",br(m)}}finally{es(m)}}}}function es(m,E){if(m.g){gn(m);const A=m.g,I=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||me(m,"ready");try{A.onreadystatechange=I}catch{}}}function gn(m){m.I&&(d.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Cn(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Gr(E)}};function bo(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Tu(m){const E={};m=(m.g&&2<=Cn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<m.length;I++){if(tt(m[I]))continue;var A=U(m[I]);const W=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ot=E[W]||[];E[W]=ot,ot.push(A)}B(E,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(m,E,A){return A&&A.internalChannelParams&&A.internalChannelParams[m]||E}function ta(m){this.Aa=0,this.i=[],this.j=new hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xs("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xs("baseRetryDelayMs",5e3,m),this.cb=xs("retryDelaySeedMs",1e4,m),this.Wa=xs("forwardChannelMaxRetries",2,m),this.wa=xs("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Qi(m&&m.concurrentRequestLimit),this.Da=new bs,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ta.prototype,n.la=8,n.G=1,n.connect=function(m,E,A,I){ke(0),this.W=m,this.H=E||{},A&&I!==void 0&&(this.H.OSID=A,this.H.OAID=I),this.F=this.X,this.I=oa(this,null,this.W),qs(this)};function ea(m){if(pl(m),m.G==3){var E=m.U++,A=Ne(m.I);if(Ht(A,"SID",m.K),Ht(A,"RID",E),Ht(A,"TYPE","terminate"),Tr(m,A),E=new Sn(m,m.j,E),E.L=2,E.v=ei(Ne(A)),A=!1,d.navigator&&d.navigator.sendBeacon)try{A=d.navigator.sendBeacon(E.v.toString(),"")}catch{}!A&&d.Image&&(new Image().src=E.v,A=!0),A||(E.g=yl(E.j,null),E.g.ea(E.v)),E.F=Date.now(),gr(E)}_l(m)}function na(m){m.g&&(Zs(m),m.g.cancel(),m.g=null)}function pl(m){na(m),m.u&&(d.clearTimeout(m.u),m.u=null),ra(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&d.clearTimeout(m.s),m.s=null)}function qs(m){if(!pr(m.h)&&!m.s){m.s=!0;var E=m.Ga;_t||z(),dt||(_t(),dt=!0),kt.add(E,m),m.B=0}}function Eu(m,E){return $i(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Xe(w(m.Ga,m,E),aa(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const W=new Sn(this,this.j,m);let ot=this.o;if(this.S&&(ot?(ot=O(ot),H(ot,this.S)):ot=this.S),this.m!==null||this.O||(W.H=ot,ot=null),this.P)t:{for(var E=0,A=0;A<this.i.length;A++){e:{var I=this.i[A];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(E+=I,4096<E){E=A;break t}if(E===4096||A===this.i.length-1){E=A+1;break t}}E=1e3}else E=1e3;E=To(this,W,E),A=Ne(this.I),Ht(A,"RID",m),Ht(A,"CVER",22),this.D&&Ht(A,"X-HTTP-Session-Id",this.D),Tr(this,A),ot&&(this.O?E="headers="+encodeURIComponent(String(Jr(ot)))+"&"+E:this.m&&tn(A,this.m,ot)),ye(this.h,W),this.Ua&&Ht(A,"TYPE","init"),this.P?(Ht(A,"$req",E),Ht(A,"SID","null"),W.T=!0,Ci(W,A,null)):Ci(W,A,E),this.G=2}}else this.G==3&&(m?Yn(this,m):this.i.length==0||pr(this.h)||Yn(this))};function Yn(m,E){var A;E?A=E.l:A=m.U++;const I=Ne(m.I);Ht(I,"SID",m.K),Ht(I,"RID",A),Ht(I,"AID",m.T),Tr(m,I),m.m&&m.o&&tn(I,m.m,m.o),A=new Sn(m,m.j,A,m.B+1),m.m===null&&(A.H=m.o),E&&(m.i=E.D.concat(m.i)),E=To(m,A,1e3),A.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),ye(m.h,A),Ci(A,I,E)}function Tr(m,E){m.H&&ht(m.H,function(A,I){Ht(E,I,A)}),m.l&&Gt({},function(A,I){Ht(E,I,A)})}function To(m,E,A){A=Math.min(m.i.length,A);var I=m.l?w(m.l.Na,m.l,m):null;t:{var W=m.i;let ot=-1;for(;;){const Et=["count="+A];ot==-1?0<A?(ot=W[0].g,Et.push("ofs="+ot)):ot=0:Et.push("ofs="+ot);let ae=!0;for(let We=0;We<A;We++){let oe=W[We].g;const ve=W[We].map;if(oe-=ot,0>oe)ot=Math.max(0,W[We].g-100),ae=!1;else try{di(ve,Et,"req"+oe+"_")}catch{I&&I(ve)}}if(ae){I=Et.join("&");break t}}}return m=m.i.splice(0,A),E.D=m,I}function Pi(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;_t||z(),dt||(_t(),dt=!0),kt.add(E,m),m.v=0}}function ia(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Xe(w(m.Fa,m),aa(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,sa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Xe(w(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),na(this),sa(this))};function Zs(m){m.A!=null&&(d.clearTimeout(m.A),m.A=null)}function sa(m){m.g=new Sn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=Ne(m.qa);Ht(E,"RID","rpc"),Ht(E,"SID",m.K),Ht(E,"AID",m.T),Ht(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&Ht(E,"TO",m.ja),Ht(E,"TYPE","xmlhttp"),Tr(m,E),m.m&&m.o&&tn(E,m.m,m.o),m.L&&(m.g.I=m.L);var A=m.g;m=m.ia,A.L=1,A.v=ei(Ne(E)),A.m=null,A.P=!0,Xi(A,m)}n.Za=function(){this.C!=null&&(this.C=null,na(this),ia(this),ke(19))};function ra(m){m.C!=null&&(d.clearTimeout(m.C),m.C=null)}function Eo(m,E){var A=null;if(m.g==E){ra(m),Zs(m),m.g=null;var I=2}else if(te(m.h,E))A=E.D,on(m.h,E),I=1;else return;if(m.G!=0){if(E.o)if(I==1){A=E.m?E.m.length:0,E=Date.now()-E.F;var W=m.B;I=Ns(),me(I,new Je(I,A)),qs(m)}else Pi(m);else if(W=E.s,W==3||W==0&&0<E.X||!(I==1&&Eu(m,E)||I==2&&ia(m)))switch(A&&0<A.length&&(E=m.h,E.i=E.i.concat(A)),W){case 1:Ss(m,5);break;case 4:Ss(m,10);break;case 3:Ss(m,6);break;default:Ss(m,2)}}}function aa(m,E){let A=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(A*=2),A*E}function Ss(m,E){if(m.j.info("Error code "+E),E==2){var A=w(m.fb,m),I=m.Xa;const W=!I;I=new je(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||_r(I,"https"),ei(I),W?ue(I.toString(),A):fi(I.toString(),A)}else ke(2);m.G=0,m.l&&m.l.sa(E),_l(m),pl(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function _l(m){if(m.G=0,m.ka=[],m.l){const E=Ji(m.h);(E.length!=0||m.i.length!=0)&&(V(m.ka,E),V(m.ka,m.i),m.h.i.length=0,k(m.i),m.i.length=0),m.l.ra()}}function oa(m,E,A){var I=A instanceof je?Ne(A):new je(A);if(I.g!="")E&&(I.g=E+"."+I.g),Ri(I,I.s);else{var W=d.location;I=W.protocol,E=E?E+"."+W.hostname:W.hostname,W=+W.port;var ot=new je(null);I&&_r(ot,I),E&&(ot.g=E),W&&Ri(ot,W),A&&(ot.l=A),I=ot}return A=m.D,E=m.ya,A&&E&&Ht(I,A,E),Ht(I,"VER",m.la),Tr(m,I),I}function yl(m,E,A){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new ge(new Gn({eb:A})):new ge(m.pa),E.Ha(m.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xo(){}n=xo.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Er(){}Er.prototype.g=function(m,E){return new ln(m,E)};function ln(m,E){Le.call(this),this.g=new ta(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!tt(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!tt(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new Kn(this)}P(ln,Le),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ea(this.g)},ln.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var A={};A.__data__=m,m=A}else this.u&&(A={},A.__data__=ci(m),m=A);E.i.push(new js(E.Ya++,m)),E.G==3&&qs(E)},ln.prototype.N=function(){this.g.l=null,delete this.j,ea(this.g),delete this.g,ln.aa.N.call(this)};function ns(m){Yi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){t:{for(const A in E){m=A;break t}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}P(ns,Yi);function vl(){fo.call(this),this.status=1}P(vl,fo);function Kn(m){this.g=m}P(Kn,xo),Kn.prototype.ua=function(){me(this.g,"a")},Kn.prototype.ta=function(m){me(this.g,new ns(m))},Kn.prototype.sa=function(m){me(this.g,new vl)},Kn.prototype.ra=function(){me(this.g,"b")},Er.prototype.createWebChannel=Er.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Cx=function(){return new Er},Ax=function(){return Ns()},wx=Ki,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,Of=_s,wi.COMPLETE="complete",Sx=wi,Yr.EventType=Gi,Gi.OPEN="a",Gi.CLOSE="b",Gi.ERROR="c",Gi.MESSAGE="d",Le.prototype.listen=Le.prototype.K,Ec=Yr,ge.prototype.listenOnce=ge.prototype.L,ge.prototype.getLastError=ge.prototype.Ka,ge.prototype.getLastErrorCode=ge.prototype.Ba,ge.prototype.getStatus=ge.prototype.Z,ge.prototype.getResponseJson=ge.prototype.Oa,ge.prototype.getResponseText=ge.prototype.oa,ge.prototype.send=ge.prototype.ea,ge.prototype.setWithCredentials=ge.prototype.Ha,xx=ge}).apply(typeof bf<"u"?bf:typeof self<"u"?self:typeof window<"u"?window:{});const tT="@firebase/firestore",eT="4.7.15";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u="11.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=new Vp("@firebase/firestore");function $l(){return il.logLevel}function At(n,...t){if(il.logLevel<=fe.DEBUG){const e=t.map(qp);il.debug(`Firestore (${_u}): ${n}`,...e)}}function qr(n,...t){if(il.logLevel<=fe.ERROR){const e=t.map(qp);il.error(`Firestore (${_u}): ${n}`,...e)}}function uu(n,...t){if(il.logLevel<=fe.WARN){const e=t.map(qp);il.warn(`Firestore (${_u}): ${n}`,...e)}}function qp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,Rx(n,i,e)}function Rx(n,t,e){let i=`FIRESTORE (${_u}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw qr(i),new Error(i)}function be(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||Rx(t,a,i)}function Kt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends ao{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class tO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e($n.UNAUTHENTICATED))}shutdown(){}}class eO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class nO{constructor(t){this.t=t,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){be(this.o===void 0,42304);let i=this.i;const a=g=>this.i!==i?(i=this.i,e(g)):Promise.resolve();let l=new Xa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Xa,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const g=l;t.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},d=g=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Xa)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(be(typeof i.accessToken=="string",31837,{l:i}),new Mx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return be(t===null||typeof t=="string",2055,{h:t}),new $n(t)}}class iO{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sO{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new iO(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e($n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rO{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vD(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){be(this.o===void 0,3512);const i=l=>{l.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,At("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>i(l))};const a=l=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new nT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(be(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new nT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=aO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<e&&(i+=t.charAt(a[l]%62))}return i}}function Jt(n,t){return n<t?-1:n>t?1:0}function np(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),a=t.codePointAt(e);if(i!==a){if(i<128&&a<128)return Jt(i,a);{const l=Dx(),c=oO(l.encode(iT(n,e)),l.encode(iT(t,e)));return c!==0?c:Jt(i,a)}}e+=i>65535?2:1}return Jt(n.length,t.length)}function iT(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function oO(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Jt(n[e],t[e]);return Jt(n.length,t.length)}function cu(n,t,e){return n.length===t.length&&n.every((i,a)=>e(i,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=-62135596800,rT=1e6;class bn{static now(){return bn.fromMillis(Date.now())}static fromDate(t){return bn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*rT);return new bn(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Nt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Nt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<sT)throw new Nt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Nt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rT}_compareTo(t){return this.seconds===t.seconds?Jt(this.nanoseconds,t.nanoseconds):Jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-sT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{static fromTimestamp(t){return new Yt(t)}static min(){return new Yt(new bn(0,0))}static max(){return new Yt(new bn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="__name__";class ir{constructor(t,e,i){e===void 0?e=0:e>t.length&&Ft(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Ft(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return ir.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ir?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const l=ir.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return Jt(t.length,e.length)}static compareSegments(t,e){const i=ir.isNumericId(t),a=ir.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?ir.extractNumericId(t).compare(ir.extractNumericId(e)):np(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ka.fromString(t.substring(4,t.length-2))}}class qe extends ir{construct(t,e,i){return new qe(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Nt(bt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(a=>a.length>0))}return new qe(e)}static emptyPath(){return new qe([])}}const lO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends ir{construct(t,e,i){return new Un(t,e,i)}static isValidIdentifier(t){return lO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aT}static keyField(){return new Un([aT])}static fromServerFormat(t){const e=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Nt(bt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new Nt(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Nt(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new Nt(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Un(e)}static emptyPath(){return new Un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.path=t}static fromPath(t){return new zt(qe.fromString(t))}static fromName(t){return new zt(qe.fromString(t).popFirst(5))}static empty(){return new zt(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&qe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return qe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new zt(new qe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=-1;function uO(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Yt.fromTimestamp(i===1e9?new bn(e+1,0):new bn(e,i));return new Ja(a,zt.empty(),t)}function cO(n){return new Ja(n.readTime,n.key,Fc)}class Ja{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ja(Yt.min(),zt.empty(),Fc)}static max(){return new Ja(Yt.max(),zt.empty(),Fc)}}function hO(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=zt.comparator(n.documentKey,t.documentKey),e!==0?e:Jt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(n){if(n.code!==bt.FAILED_PRECONDITION||n.message!==fO)throw n;At("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new pt((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof pt?e:pt.resolve(e)}catch(e){return pt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):pt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):pt.reject(e)}static resolve(t){return new pt((e,i)=>{e(t)})}static reject(t){return new pt((e,i)=>{i(t)})}static waitFor(t){return new pt((e,i)=>{let a=0,l=0,c=!1;t.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&e()},g=>i(g))}),c=!0,l===a&&e()})}static or(t){let e=pt.resolve(!1);for(const i of t)e=e.next(a=>a?pt.resolve(a):i());return e}static forEach(t,e){const i=[];return t.forEach((a,l)=>{i.push(e.call(this,a,l))}),this.waitFor(i)}static mapArray(t,e){return new pt((i,a)=>{const l=t.length,c=new Array(l);let d=0;for(let g=0;g<l;g++){const y=g;e(t[y]).next(T=>{c[y]=T,++d,d===l&&i(c)},T=>a(T))}})}static doWhile(t,e){return new pt((i,a)=>{const l=()=>{t()===!0?e().next(()=>{l()},a):i()};l()})}}function mO(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function vu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}pd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=-1;function _d(n){return n==null}function $f(n){return n===0&&1/n==-1/0}function gO(n){return typeof n=="number"&&Number.isInteger(n)&&!$f(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="";function pO(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=oT(t)),t=_O(n.get(e),t);return oT(t)}function _O(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case Ox:e+="";break;default:e+=l}}return e}function oT(n){return n+Ox+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function al(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Px(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,e){this.comparator=t,this.root=e||jn.EMPTY}insert(t,e){return new Ke(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(t){return new Ke(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tf(this.root,t,this.comparator,!0)}}class Tf{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class jn{constructor(t,e,i,a,l){this.key=t,this.value=e,this.color=i??jn.RED,this.left=a??jn.EMPTY,this.right=l??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,l){return new jn(t??this.key,e??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,i),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return jn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ft(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ft(27949);return t+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft(57766)}get value(){throw Ft(16141)}get color(){throw Ft(16727)}get left(){throw Ft(29726)}get right(){throw Ft(36894)}copy(t,e,i,a,l){return this}insert(t,e,i){return new jn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.comparator=t,this.data=new Ke(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new uT(this.data.getIterator())}getIteratorFrom(t){return new uT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Tn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Tn(this.comparator);return e.data=t,e}}class uT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t){this.fields=t,t.sort(Un.comparator)}static empty(){return new Os([])}unionWith(t){let e=new Tn(Un.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Os(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return cu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Lx("Invalid base64 string: "+l):l}}(t);return new Hn(e)}static fromUint8Array(t){const e=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new Hn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const yO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function to(n){if(be(!!n,39018),typeof n=="string"){let t=0;const e=yO.exec(n);if(be(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:sn(n.seconds),nanos:sn(n.nanos)}}function sn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function eo(n){return typeof n=="string"?Hn.fromBase64String(n):Hn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="server_timestamp",Nx="__type__",Vx="__previous_value__",zx="__local_write_time__";function Gp(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Nx])===null||e===void 0?void 0:e.stringValue)===kx}function yd(n){const t=n.mapValue.fields[Vx];return Gp(t)?yd(t):t}function qc(n){const t=to(n.mapValue.fields[zx].timestampValue);return new bn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(t,e,i,a,l,c,d,g,y,T){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const Jf="(default)";class Zc{constructor(t,e){this.projectId=t,this.database=e||Jf}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(t){return t instanceof Zc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="__type__",bO="__max__",Ef={mapValue:{}},jx="__vector__",td="value";function no(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gp(n)?4:EO(n)?9007199254740991:TO(n)?10:11:Ft(28295,{value:n})}function ur(n,t){if(n===t)return!0;const e=no(n);if(e!==no(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return qc(n).isEqual(qc(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=to(a.timestampValue),d=to(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(a,l){return eo(a.bytesValue).isEqual(eo(l.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(a,l){return sn(a.geoPointValue.latitude)===sn(l.geoPointValue.latitude)&&sn(a.geoPointValue.longitude)===sn(l.geoPointValue.longitude)}(n,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return sn(a.integerValue)===sn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=sn(a.doubleValue),d=sn(l.doubleValue);return c===d?$f(c)===$f(d):isNaN(c)&&isNaN(d)}return!1}(n,t);case 9:return cu(n.arrayValue.values||[],t.arrayValue.values||[],ur);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(lT(c)!==lT(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(d[g]===void 0||!ur(c[g],d[g])))return!1;return!0}(n,t);default:return Ft(52216,{left:n})}}function Gc(n,t){return(n.values||[]).find(e=>ur(e,t))!==void 0}function hu(n,t){if(n===t)return 0;const e=no(n),i=no(t);if(e!==i)return Jt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Jt(n.booleanValue,t.booleanValue);case 2:return function(l,c){const d=sn(l.integerValue||l.doubleValue),g=sn(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,t);case 3:return cT(n.timestampValue,t.timestampValue);case 4:return cT(qc(n),qc(t));case 5:return np(n.stringValue,t.stringValue);case 6:return function(l,c){const d=eo(l),g=eo(c);return d.compareTo(g)}(n.bytesValue,t.bytesValue);case 7:return function(l,c){const d=l.split("/"),g=c.split("/");for(let y=0;y<d.length&&y<g.length;y++){const T=Jt(d[y],g[y]);if(T!==0)return T}return Jt(d.length,g.length)}(n.referenceValue,t.referenceValue);case 8:return function(l,c){const d=Jt(sn(l.latitude),sn(c.latitude));return d!==0?d:Jt(sn(l.longitude),sn(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return hT(n.arrayValue,t.arrayValue);case 10:return function(l,c){var d,g,y,T;const x=l.fields||{},w=c.fields||{},R=(d=x[td])===null||d===void 0?void 0:d.arrayValue,P=(g=w[td])===null||g===void 0?void 0:g.arrayValue,k=Jt(((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0,((T=P==null?void 0:P.values)===null||T===void 0?void 0:T.length)||0);return k!==0?k:hT(R,P)}(n.mapValue,t.mapValue);case 11:return function(l,c){if(l===Ef.mapValue&&c===Ef.mapValue)return 0;if(l===Ef.mapValue)return 1;if(c===Ef.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),y=c.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let x=0;x<g.length&&x<T.length;++x){const w=np(g[x],T[x]);if(w!==0)return w;const R=hu(d[g[x]],y[T[x]]);if(R!==0)return R}return Jt(g.length,T.length)}(n.mapValue,t.mapValue);default:throw Ft(23264,{Pe:e})}}function cT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Jt(n,t);const e=to(n),i=to(t),a=Jt(e.seconds,i.seconds);return a!==0?a:Jt(e.nanos,i.nanos)}function hT(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const l=hu(e[a],i[a]);if(l)return l}return Jt(e.length,i.length)}function fu(n){return ip(n)}function ip(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=to(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return eo(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return zt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",a=!0;for(const l of e.values||[])a?a=!1:i+=",",i+=ip(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${ip(e.fields[c])}`;return a+"}"}(n.mapValue):Ft(61005,{value:n})}function Pf(n){switch(no(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yd(n);return t?16+Pf(t):16;case 5:return 2*n.stringValue.length;case 6:return eo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Pf(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return al(i.fields,(l,c)=>{a+=l.length+Pf(c)}),a}(n.mapValue);default:throw Ft(13486,{value:n})}}function sp(n){return!!n&&"integerValue"in n}function Yp(n){return!!n&&"arrayValue"in n}function fT(n){return!!n&&"nullValue"in n}function dT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lf(n){return!!n&&"mapValue"in n}function TO(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Bx])===null||e===void 0?void 0:e.stringValue)===jx}function Ic(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return al(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Ic(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ic(n.arrayValue.values[e]);return t}return Object.assign({},n)}function EO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===bO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t){this.value=t}static empty(){return new fs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Lf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ic(e)}setAll(t){let e=Un.emptyPath(),i={},a=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const g=this.getFieldsMap(e);this.applyChanges(g,i,a),i={},a=[],e=d.popLast()}c?i[d.lastSegment()]=Ic(c):a.push(d.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,i,a)}delete(t){const e=this.field(t.popLast());Lf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ur(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];Lf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){al(e,(a,l)=>t[a]=l);for(const a of i)delete t[a]}clone(){return new fs(Ic(this.value))}}function Ux(n){const t=[];return al(n.fields,(e,i)=>{const a=new Un([e]);if(Lf(i)){const l=Ux(i.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new Os(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,e,i,a,l,c,d){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new Jn(t,0,Yt.min(),Yt.min(),Yt.min(),fs.empty(),0)}static newFoundDocument(t,e,i,a){return new Jn(t,1,e,Yt.min(),i,a,0)}static newNoDocument(t,e){return new Jn(t,2,e,Yt.min(),Yt.min(),fs.empty(),0)}static newUnknownDocument(t,e){return new Jn(t,3,e,Yt.min(),Yt.min(),fs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Jn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,e){this.position=t,this.inclusive=e}}function mT(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const l=t[a],c=n.position[a];if(l.field.isKeyField()?i=zt.comparator(zt.fromName(c.referenceValue),e.key):i=hu(c,e.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function gT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ur(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t,e="asc"){this.field=t,this.dir=e}}function xO(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{}class yn extends Hx{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new wO(t,e,i):e==="array-contains"?new RO(t,i):e==="in"?new MO(t,i):e==="not-in"?new DO(t,i):e==="array-contains-any"?new IO(t,i):new yn(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new AO(t,i):new CO(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(hu(e,this.value)):e!==null&&no(this.value)===no(e)&&this.matchesComparison(hu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends Hx{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new cr(t,e)}matches(t){return Fx(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Fx(n){return n.op==="and"}function qx(n){return SO(n)&&Fx(n)}function SO(n){for(const t of n.filters)if(t instanceof cr)return!1;return!0}function rp(n){if(n instanceof yn)return n.field.canonicalString()+n.op.toString()+fu(n.value);if(qx(n))return n.filters.map(t=>rp(t)).join(",");{const t=n.filters.map(e=>rp(e)).join(",");return`${n.op}(${t})`}}function Zx(n,t){return n instanceof yn?function(i,a){return a instanceof yn&&i.op===a.op&&i.field.isEqual(a.field)&&ur(i.value,a.value)}(n,t):n instanceof cr?function(i,a){return a instanceof cr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&Zx(c,a.filters[d]),!0):!1}(n,t):void Ft(19439)}function Gx(n){return n instanceof yn?function(e){return`${e.field.canonicalString()} ${e.op} ${fu(e.value)}`}(n):n instanceof cr?function(e){return e.op.toString()+" {"+e.getFilters().map(Gx).join(" ,")+"}"}(n):"Filter"}class wO extends yn{constructor(t,e,i){super(t,e,i),this.key=zt.fromName(i.referenceValue)}matches(t){const e=zt.comparator(t.key,this.key);return this.matchesComparison(e)}}class AO extends yn{constructor(t,e){super(t,"in",e),this.keys=Yx("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class CO extends yn{constructor(t,e){super(t,"not-in",e),this.keys=Yx("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Yx(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>zt.fromName(i.referenceValue))}class RO extends yn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Yp(e)&&Gc(e.arrayValue,this.value)}}class MO extends yn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Gc(this.value.arrayValue,e)}}class DO extends yn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Gc(this.value.arrayValue,e)}}class IO extends yn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Yp(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Gc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t,e=null,i=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function pT(n,t=null,e=[],i=[],a=null,l=null,c=null){return new OO(n,t,e,i,a,l,c)}function Kp(n){const t=Kt(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>rp(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),_d(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>fu(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>fu(i)).join(",")),t.Ie=e}return t.Ie}function Xp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!xO(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Zx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!gT(n.startAt,t.startAt)&&gT(n.endAt,t.endAt)}function ap(n){return zt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(t,e=null,i=[],a=[],l=null,c="F",d=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function PO(n,t,e,i,a,l,c,d){return new vd(n,t,e,i,a,l,c,d)}function Kx(n){return new vd(n)}function _T(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function LO(n){return n.collectionGroup!==null}function Oc(n){const t=Kt(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),e.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Tn(Un.comparator);return c.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new nd(l,i))}),e.has(Un.keyField().canonicalString())||t.Ee.push(new nd(Un.keyField(),i))}return t.Ee}function ar(n){const t=Kt(n);return t.de||(t.de=kO(t,Oc(n))),t.de}function kO(n,t){if(n.limitType==="F")return pT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new nd(a.field,l)});const e=n.endAt?new ed(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ed(n.startAt.position,n.startAt.inclusive):null;return pT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function op(n,t,e){return new vd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function bd(n,t){return Xp(ar(n),ar(t))&&n.limitType===t.limitType}function Xx(n){return`${Kp(ar(n))}|lt:${n.limitType}`}function Jl(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(a=>Gx(a)).join(", ")}]`),_d(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>fu(a)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>fu(a)).join(",")),`Target(${i})`}(ar(n))}; limitType=${n.limitType})`}function Td(n,t){return t.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):zt.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,t)&&function(i,a){for(const l of Oc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,t)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,t)&&function(i,a){return!(i.startAt&&!function(c,d,g){const y=mT(c,d,g);return c.inclusive?y<=0:y<0}(i.startAt,Oc(i),a)||i.endAt&&!function(c,d,g){const y=mT(c,d,g);return c.inclusive?y>=0:y>0}(i.endAt,Oc(i),a))}(n,t)}function NO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Wx(n){return(t,e)=>{let i=!1;for(const a of Oc(n)){const l=VO(a,t,e);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function VO(n,t,e){const i=n.field.isKeyField()?zt.comparator(t.key,e.key):function(l,c,d){const g=c.data.field(l),y=d.data.field(l);return g!==null&&y!==null?hu(g,y):Ft(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ft(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){al(this.inner,(e,i)=>{for(const[a,l]of i)t(a,l)})}isEmpty(){return Px(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new Ke(zt.comparator);function Zr(){return zO}const Qx=new Ke(zt.comparator);function xc(...n){let t=Qx;for(const e of n)t=t.insert(e.key,e);return t}function $x(n){let t=Qx;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Wo(){return Pc()}function Jx(){return Pc()}function Pc(){return new ol(n=>n.toString(),(n,t)=>n.isEqual(t))}const BO=new Ke(zt.comparator),jO=new Tn(zt.comparator);function le(...n){let t=jO;for(const e of n)t=t.add(e);return t}const UO=new Tn(Jt);function HO(){return UO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$f(t)?"-0":t}}function t1(n){return{integerValue:""+n}}function FO(n,t){return gO(t)?t1(t):Wp(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this._=void 0}}function qO(n,t,e){return n instanceof Yc?function(a,l){const c={fields:{[Nx]:{stringValue:kx},[zx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Gp(l)&&(l=yd(l)),l&&(c.fields[Vx]=l),{mapValue:c}}(e,t):n instanceof Kc?n1(n,t):n instanceof Xc?i1(n,t):function(a,l){const c=e1(a,l),d=yT(c)+yT(a.Re);return sp(c)&&sp(a.Re)?t1(d):Wp(a.serializer,d)}(n,t)}function ZO(n,t,e){return n instanceof Kc?n1(n,t):n instanceof Xc?i1(n,t):e}function e1(n,t){return n instanceof id?function(i){return sp(i)||function(l){return!!l&&"doubleValue"in l}(i)}(t)?t:{integerValue:0}:null}class Yc extends Ed{}class Kc extends Ed{constructor(t){super(),this.elements=t}}function n1(n,t){const e=s1(t);for(const i of n.elements)e.some(a=>ur(a,i))||e.push(i);return{arrayValue:{values:e}}}class Xc extends Ed{constructor(t){super(),this.elements=t}}function i1(n,t){let e=s1(t);for(const i of n.elements)e=e.filter(a=>!ur(a,i));return{arrayValue:{values:e}}}class id extends Ed{constructor(t,e){super(),this.serializer=t,this.Re=e}}function yT(n){return sn(n.integerValue||n.doubleValue)}function s1(n){return Yp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(t,e){this.field=t,this.transform=e}}function YO(n,t){return n.field.isEqual(t.field)&&function(i,a){return i instanceof Kc&&a instanceof Kc||i instanceof Xc&&a instanceof Xc?cu(i.elements,a.elements,ur):i instanceof id&&a instanceof id?ur(i.Re,a.Re):i instanceof Yc&&a instanceof Yc}(n.transform,t.transform)}class KO{constructor(t,e){this.version=t,this.transformResults=e}}class or{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new or}static exists(t){return new or(void 0,t)}static updateTime(t){return new or(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class xd{}function r1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Qp(n.key,or.none()):new Jc(n.key,n.data,or.none());{const e=n.data,i=fs.empty();let a=new Tn(Un.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ll(n.key,i,new Os(a.toArray()),or.none())}}function XO(n,t,e){n instanceof Jc?function(a,l,c){const d=a.value.clone(),g=bT(a.fieldTransforms,l,c.transformResults);d.setAll(g),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,t,e):n instanceof ll?function(a,l,c){if(!kf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=bT(a.fieldTransforms,l,c.transformResults),g=l.data;g.setAll(a1(a)),g.setAll(d),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(n,t,e):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function Lc(n,t,e,i){return n instanceof Jc?function(l,c,d,g){if(!kf(l.precondition,c))return d;const y=l.value.clone(),T=TT(l.fieldTransforms,g,c);return y.setAll(T),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,t,e,i):n instanceof ll?function(l,c,d,g){if(!kf(l.precondition,c))return d;const y=TT(l.fieldTransforms,g,c),T=c.data;return T.setAll(a1(l)),T.setAll(y),c.convertToFoundDocument(c.version,T).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(x=>x.field))}(n,t,e,i):function(l,c,d){return kf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,t,e)}function WO(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),l=e1(i.transform,a||null);l!=null&&(e===null&&(e=fs.empty()),e.set(i.field,l))}return e||null}function vT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&cu(i,a,(l,c)=>YO(l,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Jc extends xd{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ll extends xd{constructor(t,e,i,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function a1(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function bT(n,t,e){const i=new Map;be(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let a=0;a<e.length;a++){const l=n[a],c=l.transform,d=t.data.field(l.field);i.set(l.field,ZO(c,d,e[a]))}return i}function TT(n,t,e){const i=new Map;for(const a of n){const l=a.transform,c=e.data.field(a.field);i.set(a.field,qO(l,c,t))}return i}class Qp extends xd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QO extends xd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&XO(l,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Lc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Lc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Jx();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=e.has(a.key)?null:d;const g=r1(c,d);g!==null&&i.set(a.key,g),c.isValidDocument()||c.convertToNoDocument(Yt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),le())}isEqual(t){return this.batchId===t.batchId&&cu(this.mutations,t.mutations,(e,i)=>vT(e,i))&&cu(this.baseMutations,t.baseMutations,(e,i)=>vT(e,i))}}class $p{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){be(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let a=function(){return BO}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new $p(t,e,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,he;function eP(n){switch(n){case bt.OK:return Ft(64938);case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0;default:return Ft(15467,{code:n})}}function o1(n){if(n===void 0)return qr("GRPC error has no .code"),bt.UNKNOWN;switch(n){case hn.OK:return bt.OK;case hn.CANCELLED:return bt.CANCELLED;case hn.UNKNOWN:return bt.UNKNOWN;case hn.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case hn.INTERNAL:return bt.INTERNAL;case hn.UNAVAILABLE:return bt.UNAVAILABLE;case hn.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case hn.NOT_FOUND:return bt.NOT_FOUND;case hn.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case hn.ABORTED:return bt.ABORTED;case hn.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case hn.DATA_LOSS:return bt.DATA_LOSS;default:return Ft(39323,{code:n})}}(he=hn||(hn={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new Ka([4294967295,4294967295],0);function ET(n){const t=Dx().encode(n),e=new Ex;return e.update(t),new Uint8Array(e.digest())}function xT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Ka([e,i],0),new Ka([a,l],0)]}class Jp{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Sc(`Invalid padding: ${e}`);if(i<0)throw new Sc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=Ka.fromNumber(this.pe)}we(t,e,i){let a=t.add(e.multiply(Ka.fromNumber(i)));return a.compare(nP)===1&&(a=new Ka([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=ET(t),[i,a]=xT(e);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);if(!this.Se(c))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Jp(l,a,e);return i.forEach(d=>c.insert(d)),c}insert(t){if(this.pe===0)return;const e=ET(t),[i,a]=xT(e);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);this.be(c)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t,e,i,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,th.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Sd(Yt.min(),a,new Ke(Jt),Zr(),le())}}class th{constructor(t,e,i,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new th(i,e,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t,e,i,a){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=a}}class l1{constructor(t,e){this.targetId=t,this.Ce=e}}class u1{constructor(t,e,i=Hn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class ST{constructor(){this.Fe=0,this.Me=wT(),this.xe=Hn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=le(),e=le(),i=le();return this.Me.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:Ft(38017,{changeType:l})}}),new th(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=wT()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,be(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class iP{constructor(t){this.ze=t,this.je=new Map,this.He=Zr(),this.Je=xf(),this.Ye=xf(),this.Ze=new Ke(Jt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:Ft(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,a)=>{this.it(a)&&e(a)})}ot(t){const e=t.targetId,i=t.Ce.count,a=this._t(e);if(a){const l=a.target;if(ap(l))if(i===0){const c=new zt(l.path);this.tt(e,c,Jn.newNoDocument(c,Yt.min()))}else be(i===1,20013,{expectedCount:i});else{const c=this.ut(e);if(c!==i){const d=this.ct(t),g=d?this.lt(d,t,c):1;if(g!==0){this.st(e);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,y)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=e;let c,d;try{c=eo(i).toUint8Array()}catch(g){if(g instanceof Lx)return uu("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Jp(c,a,l)}catch(g){return uu(g instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.pe===0?null:d}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let a=0;return i.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.tt(e,l,null),a++)}),a}It(t){const e=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&ap(d.target)){const g=new zt(d.target.path);this.Et(g).has(c)||this.dt(c,g)||this.tt(c,g,Jn.newNoDocument(g,t))}l.Le&&(e.set(c,l.qe()),l.Qe())}});let i=le();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(g=>{const y=this._t(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(t));const a=new Sd(t,e,this.Ze,this.He,i);return this.He=Zr(),this.Je=xf(),this.Ye=xf(),this.Ze=new Ke(Jt),a}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const a=this.rt(t);this.dt(t,e)?a.$e(e,1):a.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new ST,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Tn(Jt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Tn(Jt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||At("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new ST),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function xf(){return new Ke(zt.comparator)}function wT(){return new Ke(zt.comparator)}const sP={asc:"ASCENDING",desc:"DESCENDING"},rP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aP={and:"AND",or:"OR"};class oP{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function lp(n,t){return n.useProto3Json||_d(t)?t:{value:t}}function sd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function c1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function lP(n,t){return sd(n,t.toTimestamp())}function lr(n){return be(!!n,49232),Yt.fromTimestamp(function(e){const i=to(e);return new bn(i.seconds,i.nanos)}(n))}function t_(n,t){return up(n,t).canonicalString()}function up(n,t){const e=function(a){return new qe(["projects",a.projectId,"databases",a.database])}(n).child("documents");return t===void 0?e:e.child(t)}function h1(n){const t=qe.fromString(n);return be(p1(t),10190,{key:t.toString()}),t}function cp(n,t){return t_(n.databaseId,t.path)}function Og(n,t){const e=h1(t);if(e.get(1)!==n.databaseId.projectId)throw new Nt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Nt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new zt(d1(e))}function f1(n,t){return t_(n.databaseId,t)}function uP(n){const t=h1(n);return t.length===4?qe.emptyPath():d1(t)}function hp(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function d1(n){return be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function AT(n,t,e){return{name:cp(n,t),fields:e.value.mapValue.fields}}function cP(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ft(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(y,T){return y.useProto3Json?(be(T===void 0||typeof T=="string",58123),Hn.fromBase64String(T||"")):(be(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Hn.fromUint8Array(T||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(y){const T=y.code===void 0?bt.UNKNOWN:o1(y.code);return new Nt(T,y.message||"")}(c);e=new u1(i,a,l,d||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Og(n,i.document.name),l=lr(i.document.updateTime),c=i.document.createTime?lr(i.document.createTime):Yt.min(),d=new fs({mapValue:{fields:i.document.fields}}),g=Jn.newFoundDocument(a,l,c,d),y=i.targetIds||[],T=i.removedTargetIds||[];e=new Nf(y,T,g.key,g)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Og(n,i.document),l=i.readTime?lr(i.readTime):Yt.min(),c=Jn.newNoDocument(a,l),d=i.removedTargetIds||[];e=new Nf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Og(n,i.document),l=i.removedTargetIds||[];e=new Nf([],l,a,null)}else{if(!("filter"in t))return Ft(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new tP(a,l),d=i.targetId;e=new l1(d,c)}}return e}function hP(n,t){let e;if(t instanceof Jc)e={update:AT(n,t.key,t.value)};else if(t instanceof Qp)e={delete:cp(n,t.key)};else if(t instanceof ll)e={update:AT(n,t.key,t.data),updateMask:bP(t.fieldMask)};else{if(!(t instanceof QO))return Ft(16599,{ft:t.type});e={verify:cp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Yc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Kc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Xc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof id)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Ft(20930,{transform:c.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:lP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ft(27497)}(n,t.precondition)),e}function fP(n,t){return n&&n.length>0?(be(t!==void 0,14353),n.map(e=>function(a,l){let c=a.updateTime?lr(a.updateTime):lr(l);return c.isEqual(Yt.min())&&(c=lr(l)),new KO(c,a.transformResults||[])}(e,t))):[]}function dP(n,t){return{documents:[f1(n,t.path)]}}function mP(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=f1(n,a);const l=function(y){if(y.length!==0)return g1(cr.create(y,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(T=>function(w){return{field:tu(w.field),direction:_P(w.dir)}}(T))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=lp(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:e,parent:a}}function gP(n){let t=uP(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){be(i===1,65062);const T=e.from[0];T.allDescendants?a=T.collectionId:t=t.child(T.collectionId)}let l=[];e.where&&(l=function(x){const w=m1(x);return w instanceof cr&&qx(w)?w.getFilters():[w]}(e.where));let c=[];e.orderBy&&(c=function(x){return x.map(w=>function(P){return new nd(eu(P.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(w))}(e.orderBy));let d=null;e.limit&&(d=function(x){let w;return w=typeof x=="object"?x.value:x,_d(w)?null:w}(e.limit));let g=null;e.startAt&&(g=function(x){const w=!!x.before,R=x.values||[];return new ed(R,w)}(e.startAt));let y=null;return e.endAt&&(y=function(x){const w=!x.before,R=x.values||[];return new ed(R,w)}(e.endAt)),PO(t,a,c,l,d,"F",g,y)}function pP(n,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft(28987,{purpose:a})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function m1(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=eu(e.unaryFilter.field);return yn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=eu(e.unaryFilter.field);return yn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=eu(e.unaryFilter.field);return yn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=eu(e.unaryFilter.field);return yn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ft(61313);default:return Ft(60726)}}(n):n.fieldFilter!==void 0?function(e){return yn.create(eu(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ft(58110);default:return Ft(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return cr.create(e.compositeFilter.filters.map(i=>m1(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ft(1026)}}(e.compositeFilter.op))}(n):Ft(30097,{filter:n})}function _P(n){return sP[n]}function yP(n){return rP[n]}function vP(n){return aP[n]}function tu(n){return{fieldPath:n.canonicalString()}}function eu(n){return Un.fromServerFormat(n.fieldPath)}function g1(n){return n instanceof yn?function(e){if(e.op==="=="){if(dT(e.value))return{unaryFilter:{field:tu(e.field),op:"IS_NAN"}};if(fT(e.value))return{unaryFilter:{field:tu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(dT(e.value))return{unaryFilter:{field:tu(e.field),op:"IS_NOT_NAN"}};if(fT(e.value))return{unaryFilter:{field:tu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tu(e.field),op:yP(e.op),value:e.value}}}(n):n instanceof cr?function(e){const i=e.getFilters().map(a=>g1(a));return i.length===1?i[0]:{compositeFilter:{op:vP(e.op),filters:i}}}(n):Ft(54877,{filter:n})}function bP(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function p1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,e,i,a,l=Yt.min(),c=Yt.min(),d=Hn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(t){return new qa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(t){this.wt=t}}function EP(n){const t=gP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?op(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.Cn=new SP}addToCollectionParentIndex(t,e){return this.Cn.add(e),pt.resolve()}getCollectionParents(t,e){return pt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return pt.resolve()}deleteFieldIndex(t,e){return pt.resolve()}deleteAllFieldIndexes(t){return pt.resolve()}createTargetIndexes(t,e){return pt.resolve()}getDocumentsMatchingTarget(t,e){return pt.resolve(null)}getIndexType(t,e){return pt.resolve(0)}getFieldIndexes(t,e){return pt.resolve([])}getNextCollectionGroupToUpdate(t){return pt.resolve(null)}getMinOffset(t,e){return pt.resolve(Ja.min())}getMinOffsetFromCollectionGroup(t,e){return pt.resolve(Ja.min())}updateCollectionGroup(t,e,i){return pt.resolve()}updateIndexEntries(t,e){return pt.resolve()}}class SP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new Tn(qe.comparator),l=!a.has(i);return this.index[e]=a.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new Tn(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_1=41943040;class vi{static withCacheSize(t){return new vi(t,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi.DEFAULT_COLLECTION_PERCENTILE=10,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vi.DEFAULT=new vi(_1,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vi.DISABLED=new vi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new du(0)}static lr(){return new du(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="LruGarbageCollector",wP=1048576;function MT([n,t],[e,i]){const a=Jt(n,e);return a===0?Jt(t,i):a}class AP{constructor(t){this.Er=t,this.buffer=new Tn(MT),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();MT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class CP{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){At(RT,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){vu(e)?At(RT,"Ignoring IndexedDB error during garbage collection: ",e):await yu(e)}await this.mr(3e5)})}}class RP{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return pt.resolve(pd.le);const i=new AP(e);return this.gr.forEachTarget(t,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(t,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.gr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(CT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CT):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let i,a,l,c,d,g,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,c=Date.now(),this.nthSequenceNumber(t,a))).next(x=>(i=x,d=Date.now(),this.removeTargets(t,i,e))).next(x=>(l=x,g=Date.now(),this.removeOrphanedDocuments(t,i))).next(x=>(y=Date.now(),$l()<=fe.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-T}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${x} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:x})))}}function MP(n,t){return new RP(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this.changes=new ol(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Jn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?pt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(i=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(i!==null&&Lc(i.mutation,a,Os.empty(),bn.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,le()).next(()=>i))}getLocalViewOfDocuments(t,e,i=le()){const a=Wo();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,i).next(l=>{let c=xc();return l.forEach((d,g)=>{c=c.insert(d,g.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=Wo();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,le()))}populateOverlays(t,e,i){const a=[];return i.forEach(l=>{e.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,a){let l=Zr();const c=Pc(),d=function(){return Pc()}();return e.forEach((g,y)=>{const T=i.get(y.key);a.has(y.key)&&(T===void 0||T.mutation instanceof ll)?l=l.insert(y.key,y):T!==void 0?(c.set(y.key,T.mutation.getFieldMask()),Lc(T.mutation,y,T.mutation.getFieldMask(),bn.now())):c.set(y.key,Os.empty())}),this.recalculateAndSaveOverlays(t,l).next(g=>(g.forEach((y,T)=>c.set(y,T)),e.forEach((y,T)=>{var x;return d.set(y,new IP(T,(x=c.get(y))!==null&&x!==void 0?x:null))}),d))}recalculateAndSaveOverlays(t,e){const i=Pc();let a=new Ke((c,d)=>c-d),l=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(g=>{const y=e.get(g);if(y===null)return;let T=i.get(g)||Os.empty();T=d.applyToLocalView(y,T),i.set(g,T);const x=(a.get(d.batchId)||le()).add(g);a=a.insert(d.batchId,x)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),y=g.key,T=g.value,x=Jx();T.forEach(w=>{if(!l.has(w)){const R=r1(e.get(w),i.get(w));R!==null&&x.set(w,R),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(t,y,x))}return pt.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,a){return function(c){return zt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):LO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-l.size):pt.resolve(Wo());let d=Fc,g=l;return c.next(y=>pt.forEach(y,(T,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),l.get(T)?pt.resolve():this.remoteDocumentCache.getEntry(t,T).next(w=>{g=g.insert(T,w)}))).next(()=>this.populateOverlays(t,y,l)).next(()=>this.computeViews(t,g,y,le())).next(T=>({batchId:d,changes:$x(T)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new zt(e)).next(i=>{let a=xc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const l=e.collectionGroup;let c=xc();return this.indexManager.getCollectionParents(t,l).next(d=>pt.forEach(d,g=>{const y=function(x,w){return new vd(w,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(e,g.child(l));return this.getDocumentsMatchingCollectionQuery(t,y,i,a).next(T=>{T.forEach((x,w)=>{c=c.insert(x,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,l,a))).next(c=>{l.forEach((g,y)=>{const T=y.getKey();c.get(T)===null&&(c=c.insert(T,Jn.newInvalidDocument(T)))});let d=xc();return c.forEach((g,y)=>{const T=l.get(g);T!==void 0&&Lc(T.mutation,y,Os.empty(),bn.now()),Td(e,y)&&(d=d.insert(g,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return pt.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:lr(a.createTime)}}(e)),pt.resolve()}getNamedQuery(t,e){return pt.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(a){return{name:a.name,query:EP(a.bundledQuery),readTime:lr(a.readTime)}}(e)),pt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.overlays=new Ke(zt.comparator),this.Qr=new Map}getOverlay(t,e){return pt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Wo();return pt.forEach(e,a=>this.getOverlay(t,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((a,l)=>{this.bt(t,e,l)}),pt.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),pt.resolve()}getOverlaysForCollection(t,e,i){const a=Wo(),l=e.length+1,c=new zt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const g=d.getNext().value,y=g.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===l&&g.largestBatchId>i&&a.set(g.getKey(),g)}return pt.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let l=new Ke((y,T)=>y-T);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let T=l.get(y.largestBatchId);T===null&&(T=Wo(),l=l.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const d=Wo(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,T)=>d.set(y,T)),!(d.size()>=a)););return pt.resolve(d)}bt(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new JO(e,i));let l=this.Qr.get(e);l===void 0&&(l=le(),this.Qr.set(e,l)),this.Qr.set(e,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.sessionToken=Hn.EMPTY_BYTE_STRING}getSessionToken(t){return pt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,pt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(){this.$r=new Tn(On.Ur),this.Kr=new Tn(On.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const i=new On(t,e);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.zr(new On(t,e))}jr(t,e){t.forEach(i=>this.removeReference(i,e))}Hr(t){const e=new zt(new qe([])),i=new On(e,t),a=new On(e,t+1),l=[];return this.Kr.forEachInRange([i,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new zt(new qe([])),i=new On(e,t),a=new On(e,t+1);let l=le();return this.Kr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(t){const e=new On(t,0),i=this.$r.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class On{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return zt.comparator(t.key,e.key)||Jt(t.Zr,e.Zr)}static Wr(t,e){return Jt(t.Zr,e.Zr)||zt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new Tn(On.Ur)}checkEmpty(t){return pt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new $O(l,e,i,a);this.mutationQueue.push(c);for(const d of a)this.Xr=this.Xr.add(new On(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return pt.resolve(c)}lookupMutationBatch(t,e){return pt.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.ti(i),l=a<0?0:a;return pt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(this.mutationQueue.length===0?Zp:this.nr-1)}getAllMutationBatches(t){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new On(e,0),a=new On(e,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,a],c=>{const d=this.ei(c.Zr);l.push(d)}),pt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Tn(Jt);return e.forEach(a=>{const l=new On(a,0),c=new On(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{i=i.add(d.Zr)})}),pt.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let l=i;zt.isDocumentKey(l)||(l=l.child(""));const c=new On(new zt(l),0);let d=new Tn(Jt);return this.Xr.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===a&&(d=d.add(g.Zr)),!0)},c),pt.resolve(this.ni(d))}ni(t){const e=[];return t.forEach(i=>{const a=this.ei(i);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){be(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return pt.forEach(e.mutations,a=>{const l=new On(a.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,e){const i=new On(e,0),a=this.Xr.firstAfterOrEqual(i);return pt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,pt.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(t){this.ii=t,this.docs=function(){return new Ke(zt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),l=a?a.size:0,c=this.ii(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return pt.resolve(i?i.document.mutableCopy():Jn.newInvalidDocument(e))}getEntries(t,e){let i=Zr();return e.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Jn.newInvalidDocument(a))}),pt.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let l=Zr();const c=e.path,d=new zt(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||hO(cO(T),i)<=0||(a.has(T.key)||Td(e,T))&&(l=l.insert(T.key,T.mutableCopy()))}return pt.resolve(l)}getAllFromCollectionGroup(t,e,i,a){Ft(9500)}si(t,e){return pt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new zP(this)}getSize(t){return pt.resolve(this.size)}}class zP extends DP{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?e.push(this.Br.addEntry(t,a)):this.Br.removeEntry(i)}),pt.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(t){this.persistence=t,this.oi=new ol(e=>Kp(e),Xp),this.lastRemoteSnapshotVersion=Yt.min(),this.highestTargetId=0,this._i=0,this.ai=new e_,this.targetCount=0,this.ui=du.cr()}forEachTarget(t,e){return this.oi.forEach((i,a)=>e(a)),pt.resolve()}getLastRemoteSnapshotVersion(t){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return pt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this._i&&(this._i=e),pt.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new du(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,pt.resolve()}updateTargetData(t,e){return this.Tr(e),pt.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,pt.resolve()}removeTargets(t,e,i){let a=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=e&&i.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),pt.waitFor(l).next(()=>a)}getTargetCount(t){return pt.resolve(this.targetCount)}getTargetData(t,e){const i=this.oi.get(e)||null;return pt.resolve(i)}addMatchingKeys(t,e,i){return this.ai.Gr(e,i),pt.resolve()}removeMatchingKeys(t,e,i){this.ai.jr(e,i);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),pt.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),pt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ai.Yr(e);return pt.resolve(i)}containsKey(t,e){return pt.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,e){this.ci={},this.overlays={},this.li=new pd(0),this.hi=!1,this.hi=!0,this.Pi=new kP,this.referenceDelegate=t(this),this.Ti=new BP(this),this.indexManager=new xP,this.remoteDocumentCache=function(a){return new VP(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new TP(e),this.Ei=new PP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new LP,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ci[t.toKey()];return i||(i=new NP(e,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,i){At("MemoryPersistence","Starting transaction:",t);const a=new jP(this.li.next());return this.referenceDelegate.di(),i(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(t,e){return pt.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,e)))}}class jP extends dO{constructor(t){super(),this.currentSequenceNumber=t}}class n_{constructor(t){this.persistence=t,this.Vi=new e_,this.mi=null}static fi(t){return new n_(t)}get gi(){if(this.mi)return this.mi;throw Ft(60996)}addReference(t,e,i){return this.Vi.addReference(i,e),this.gi.delete(i.toString()),pt.resolve()}removeReference(t,e,i){return this.Vi.removeReference(i,e),this.gi.add(i.toString()),pt.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),pt.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.gi,i=>{const a=zt.fromPath(i);return this.pi(t,a).next(l=>{l||e.removeEntry(a,Yt.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(i=>{i?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return pt.or([()=>pt.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class rd{constructor(t,e){this.persistence=t,this.yi=new ol(i=>pO(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=MP(this,e)}static fi(t,e){return new rd(t,e)}di(){}Ai(t){return pt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(a=>i+a))}Sr(t){let e=0;return this.yr(t,i=>{e++}).next(()=>e)}yr(t,e){return pt.forEach(this.yi,(i,a)=>this.Dr(t,i,a).next(l=>l?pt.resolve():e(a)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(t,c=>this.Dr(t,c,e).next(d=>{d||(i++,l.removeEntry(c,Yt.min()))})).next(()=>l.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),pt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),pt.resolve()}removeReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),pt.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),pt.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Pf(t.data.value)),e}Dr(t,e,i){return pt.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.yi.get(e);return pt.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.ds=i,this.As=a}static Rs(t,e){let i=le(),a=le();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new i_(t,e.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return gM()?8:mO(fM())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,i,a){const l={result:null};return this.ws(t,e).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Ss(t,e,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new UP;return this.bs(t,e,c).next(d=>{if(l.result=d,this.fs)return this.Ds(t,e,c,d.size)})}).next(()=>l.result)}Ds(t,e,i,a){return i.documentReadCount<this.gs?($l()<=fe.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",Jl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),pt.resolve()):($l()<=fe.DEBUG&&At("QueryEngine","Query:",Jl(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?($l()<=fe.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",Jl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ar(e))):pt.resolve())}ws(t,e){if(_T(e))return pt.resolve(null);let i=ar(e);return this.indexManager.getIndexType(t,i).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=op(e,null,"F"),i=ar(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(l=>{const c=le(...l);return this.ys.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,i).next(g=>{const y=this.vs(e,d);return this.Cs(e,y,c,g.readTime)?this.ws(t,op(e,null,"F")):this.Fs(t,y,e,g)}))})))}Ss(t,e,i,a){return _T(e)||a.isEqual(Yt.min())?pt.resolve(null):this.ys.getDocuments(t,i).next(l=>{const c=this.vs(e,l);return this.Cs(e,c,i,a)?pt.resolve(null):($l()<=fe.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Jl(e)),this.Fs(t,c,e,uO(a,Fc)).next(d=>d))})}vs(t,e){let i=new Tn(Wx(t));return e.forEach((a,l)=>{Td(t,l)&&(i=i.add(l))}),i}Cs(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}bs(t,e,i){return $l()<=fe.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Jl(e)),this.ys.getDocumentsMatchingQuery(t,e,Ja.min(),i)}Fs(t,e,i,a){return this.ys.getDocumentsMatchingQuery(t,i,a).next(l=>(e.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="LocalStore",FP=3e8;class qP{constructor(t,e,i,a){this.persistence=t,this.Ms=e,this.serializer=a,this.xs=new Ke(Jt),this.Os=new ol(l=>Kp(l),Xp),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new OP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function ZP(n,t,e,i){return new qP(n,t,e,i)}async function v1(n,t){const e=Kt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,e.Ls(t),e.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let g=le();for(const y of a){c.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of l){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return e.localDocuments.getDocuments(i,g).next(y=>({ks:y,removedBatchIds:c,addedBatchIds:d}))})})}function GP(n,t){const e=Kt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=t.batch.keys(),l=e.Bs.newChangeBuffer({trackRemovals:!0});return function(d,g,y,T){const x=y.batch,w=x.keys();let R=pt.resolve();return w.forEach(P=>{R=R.next(()=>T.getEntry(g,P)).next(k=>{const V=y.docVersions.get(P);be(V!==null,48541),k.version.compareTo(V)<0&&(x.applyToRemoteDocument(k,y),k.isValidDocument()&&(k.setReadTime(y.commitVersion),T.addEntry(k)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(g,x))}(e,i,t,l).next(()=>l.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let g=le();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(g=g.add(d.batch.mutations[y].key));return g}(t))).next(()=>e.localDocuments.getDocuments(i,a))})}function b1(n){const t=Kt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function YP(n,t){const e=Kt(n),i=t.snapshotVersion;let a=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=e.Bs.newChangeBuffer({trackRemovals:!0});a=e.xs;const d=[];t.targetChanges.forEach((T,x)=>{const w=a.get(x);if(!w)return;d.push(e.Ti.removeMatchingKeys(l,T.removedDocuments,x).next(()=>e.Ti.addMatchingKeys(l,T.addedDocuments,x)));let R=w.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(x)!==null?R=R.withResumeToken(Hn.EMPTY_BYTE_STRING,Yt.min()).withLastLimboFreeSnapshotVersion(Yt.min()):T.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(T.resumeToken,i)),a=a.insert(x,R),function(k,V,K){return k.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=FP?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(w,R,T)&&d.push(e.Ti.updateTargetData(l,R))});let g=Zr(),y=le();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,T))}),d.push(KP(l,c,t.documentUpdates).next(T=>{g=T.qs,y=T.Qs})),!i.isEqual(Yt.min())){const T=e.Ti.getLastRemoteSnapshotVersion(l).next(x=>e.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(T)}return pt.waitFor(d).next(()=>c.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,g,y)).next(()=>g)}).then(l=>(e.xs=a,l))}function KP(n,t,e){let i=le(),a=le();return e.forEach(l=>i=i.add(l)),t.getEntries(n,i).next(l=>{let c=Zr();return e.forEach((d,g)=>{const y=l.get(d);g.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(d)),g.isNoDocument()&&g.version.isEqual(Yt.min())?(t.removeEntry(d,g.readTime),c=c.insert(d,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),c=c.insert(d,g)):At(s_,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",g.version)}),{qs:c,Qs:a}})}function XP(n,t){const e=Kt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Zp),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function WP(n,t){const e=Kt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return e.Ti.getTargetData(i,t).next(l=>l?(a=l,pt.resolve(a)):e.Ti.allocateTargetId(i).next(c=>(a=new qa(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=e.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.xs=e.xs.insert(i.targetId,i),e.Os.set(t,i.targetId)),i})}async function fp(n,t,e){const i=Kt(n),a=i.xs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!vu(c))throw c;At(s_,`Failed to update sequence numbers for target ${t}: ${c}`)}i.xs=i.xs.remove(t),i.Os.delete(a.target)}function DT(n,t,e){const i=Kt(n);let a=Yt.min(),l=le();return i.persistence.runTransaction("Execute query","readwrite",c=>function(g,y,T){const x=Kt(g),w=x.Os.get(T);return w!==void 0?pt.resolve(x.xs.get(w)):x.Ti.getTargetData(y,T)}(i,c,ar(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,d.targetId).next(g=>{l=g})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,t,e?a:Yt.min(),e?l:le())).next(d=>(QP(i,NO(t),d),{documents:d,$s:l})))}function QP(n,t,e){let i=n.Ns.get(t)||Yt.min();e.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(t,i)}class IT{constructor(){this.activeTargetIds=HO()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $P{constructor(){this.xo=new IT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,i){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new IT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="ConnectivityMonitor";class PT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){At(OT,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){At(OT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf=null;function dp(){return Sf===null?Sf=function(){return 268435456+Math.round(2147483648*Math.random())}():Sf++,"0x"+Sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="RestConnection",tL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eL{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===Jf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(t,e,i,a,l){const c=dp(),d=this.jo(t,e.toUriEncodedString());At(Pg,`Sending RPC '${t}' ${c}:`,d,i);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,a,l);const{host:y}=new URL(d),T=Np(y);return this.Jo(t,d,g,i,T).then(x=>(At(Pg,`Received RPC '${t}' ${c}: `,x),x),x=>{throw uu(Pg,`RPC '${t}' ${c} failed with error: `,x,"url: ",d,"request:",i),x})}Yo(t,e,i,a,l,c){return this.zo(t,e,i,a,l)}Ho(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_u}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,l)=>t[l]=a),i&&i.headers.forEach((a,l)=>t[l]=a)}jo(t,e){const i=tL[t];return`${this.Ko}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class iL extends eL{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,a,l){const c=dp();return new Promise((d,g)=>{const y=new xx;y.setWithCredentials(!0),y.listenOnce(Sx.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Of.NO_ERROR:const x=y.getResponseJson();At(Qn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(x)),d(x);break;case Of.TIMEOUT:At(Qn,`RPC '${t}' ${c} timed out`),g(new Nt(bt.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const w=y.getStatus();if(At(Qn,`RPC '${t}' ${c} failed with status:`,w,"response text:",y.getResponseText()),w>0){let R=y.getResponseJson();Array.isArray(R)&&(R=R[0]);const P=R==null?void 0:R.error;if(P&&P.status&&P.message){const k=function(K){const tt=K.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(tt)>=0?tt:bt.UNKNOWN}(P.status);g(new Nt(k,P.message))}else g(new Nt(bt.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new Nt(bt.UNAVAILABLE,"Connection failed."));break;default:Ft(9055,{l_:t,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{At(Qn,`RPC '${t}' ${c} completed.`)}});const T=JSON.stringify(a);At(Qn,`RPC '${t}' ${c} sending request:`,a),y.send(e,"POST",T,i,15)})}T_(t,e,i){const a=dp(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Cx(),d=Ax(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,e,i),g.encodeInitMessageHeaders=!0;const T=l.join("");At(Qn,`Creating RPC '${t}' stream ${a}: ${T}`,g);const x=c.createWebChannel(T,g);let w=!1,R=!1;const P=new nL({Zo:V=>{R?At(Qn,`Not sending because RPC '${t}' stream ${a} is closed:`,V):(w||(At(Qn,`Opening RPC '${t}' stream ${a} transport.`),x.open(),w=!0),At(Qn,`RPC '${t}' stream ${a} sending:`,V),x.send(V))},Xo:()=>x.close()}),k=(V,K,tt)=>{V.listen(K,st=>{try{tt(st)}catch(ut){setTimeout(()=>{throw ut},0)}})};return k(x,Ec.EventType.OPEN,()=>{R||(At(Qn,`RPC '${t}' stream ${a} transport opened.`),P.__())}),k(x,Ec.EventType.CLOSE,()=>{R||(R=!0,At(Qn,`RPC '${t}' stream ${a} transport closed`),P.u_())}),k(x,Ec.EventType.ERROR,V=>{R||(R=!0,uu(Qn,`RPC '${t}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),P.u_(new Nt(bt.UNAVAILABLE,"The operation could not be completed")))}),k(x,Ec.EventType.MESSAGE,V=>{var K;if(!R){const tt=V.data[0];be(!!tt,16349);const st=tt,ut=(st==null?void 0:st.error)||((K=st[0])===null||K===void 0?void 0:K.error);if(ut){At(Qn,`RPC '${t}' stream ${a} received error:`,ut);const nt=ut.status;let ht=function(N){const H=hn[N];if(H!==void 0)return o1(H)}(nt),B=ut.message;ht===void 0&&(ht=bt.INTERNAL,B="Unknown error status: "+nt+" with message "+ut.message),R=!0,P.u_(new Nt(ht,B)),x.close()}else At(Qn,`RPC '${t}' stream ${a} received:`,tt),P.c_(tt)}}),k(d,wx.STAT_EVENT,V=>{V.stat===ep.PROXY?At(Qn,`RPC '${t}' stream ${a} detected buffering proxy`):V.stat===ep.NOPROXY&&At(Qn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{P.a_()},0),P}}function Lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(n){return new oP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(t,e,i=1e3,a=1.5,l=6e4){this.xi=t,this.timerId=e,this.I_=i,this.E_=a,this.d_=l,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const e=Math.floor(this.A_+this.g_()),i=Math.max(0,Date.now()-this.V_),a=Math.max(0,e-i);a>0&&At("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="PersistentStream";class E1{constructor(t,e,i,a,l,c,d,g){this.xi=t,this.y_=i,this.w_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new T1(t,e)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,e){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():e&&e.code===bt.RESOURCE_EXHAUSTED?(qr(e.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):e&&e.code===bt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),e=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.S_===e&&this.K_(i,a)},i=>{t(()=>{const a=new Nt(bt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.W_(a)})})}K_(t,e){const i=this.U_(this.S_);this.stream=this.G_(t,e),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.W_(a))}),this.stream.onMessage(a=>{i(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return At(LT,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return e=>{this.xi.enqueueAndForget(()=>this.S_===t?e():(At(LT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sL extends E1{constructor(t,e,i,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,c),this.serializer=l}G_(t,e){return this.connection.T_("Listen",t,e)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const e=cP(this.serializer,t),i=function(l){if(!("targetChange"in l))return Yt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Yt.min():c.readTime?lr(c.readTime):Yt.min()}(t);return this.listener.j_(e,i)}H_(t){const e={};e.database=hp(this.serializer),e.addTarget=function(l,c){let d;const g=c.target;if(d=ap(g)?{documents:dP(l,g)}:{query:mP(l,g).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=c1(l,c.resumeToken);const y=lp(l,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Yt.min())>0){d.readTime=sd(l,c.snapshotVersion.toTimestamp());const y=lp(l,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,t);const i=pP(this.serializer,t);i&&(e.labels=i),this.L_(e)}J_(t){const e={};e.database=hp(this.serializer),e.removeTarget=t,this.L_(e)}}class rL extends E1{constructor(t,e,i,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,c),this.serializer=l}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,e){return this.connection.T_("Write",t,e)}z_(t){return be(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,be(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){be(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const e=fP(t.writeResults,t.commitTime),i=lr(t.commitTime);return this.listener.ea(i,e)}ta(){const t={};t.database=hp(this.serializer),this.L_(t)}Z_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>hP(this.serializer,i))};this.L_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{}class oL extends aL{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.na=!1}ra(){if(this.na)throw new Nt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,i,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(t,up(e,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Nt(bt.UNKNOWN,l.toString())})}Yo(t,e,i,a,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(t,up(e,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Nt(bt.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class lL{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(qr(e),this.oa=!1):At("OnlineStateTracker",e)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl="RemoteStore";class uL{constructor(t,e,i,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=l,this.Ea.No(c=>{i.enqueueAndForget(async()=>{ul(this)&&(At(sl,"Restarting streams for network reachability change."),await async function(g){const y=Kt(g);y.Ta.add(4),await eh(y),y.da.set("Unknown"),y.Ta.delete(4),await Ad(y)}(this))})}),this.da=new lL(i,a)}}async function Ad(n){if(ul(n))for(const t of n.Ia)await t(!0)}async function eh(n){for(const t of n.Ia)await t(!1)}function x1(n,t){const e=Kt(n);e.Pa.has(t.targetId)||(e.Pa.set(t.targetId,t),l_(e)?o_(e):bu(e).M_()&&a_(e,t))}function r_(n,t){const e=Kt(n),i=bu(e);e.Pa.delete(t),i.M_()&&S1(e,t),e.Pa.size===0&&(i.M_()?i.N_():ul(e)&&e.da.set("Unknown"))}function a_(n,t){if(n.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Yt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}bu(n).H_(t)}function S1(n,t){n.Aa.Ke(t),bu(n).J_(t)}function o_(n){n.Aa=new iP({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Pa.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),bu(n).start(),n.da._a()}function l_(n){return ul(n)&&!bu(n).F_()&&n.Pa.size>0}function ul(n){return Kt(n).Ta.size===0}function w1(n){n.Aa=void 0}async function cL(n){n.da.set("Online")}async function hL(n){n.Pa.forEach((t,e)=>{a_(n,t)})}async function fL(n,t){w1(n),l_(n)?(n.da.ca(t),o_(n)):n.da.set("Unknown")}async function dL(n,t,e){if(n.da.set("Online"),t instanceof u1&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Pa.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Pa.delete(d),a.Aa.removeTarget(d))}(n,t)}catch(i){At(sl,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await ad(n,i)}else if(t instanceof Nf?n.Aa.Xe(t):t instanceof l1?n.Aa.ot(t):n.Aa.nt(t),!e.isEqual(Yt.min()))try{const i=await b1(n.localStore);e.compareTo(i)>=0&&await function(l,c){const d=l.Aa.It(c);return d.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=l.Pa.get(y);T&&l.Pa.set(y,T.withResumeToken(g.resumeToken,c))}}),d.targetMismatches.forEach((g,y)=>{const T=l.Pa.get(g);if(!T)return;l.Pa.set(g,T.withResumeToken(Hn.EMPTY_BYTE_STRING,T.snapshotVersion)),S1(l,g);const x=new qa(T.target,g,y,T.sequenceNumber);a_(l,x)}),l.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(i){At(sl,"Failed to raise snapshot:",i),await ad(n,i)}}async function ad(n,t,e){if(!vu(t))throw t;n.Ta.add(1),await eh(n),n.da.set("Offline"),e||(e=()=>b1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{At(sl,"Retrying IndexedDB access"),await e(),n.Ta.delete(1),await Ad(n)})}function A1(n,t){return t().catch(e=>ad(n,e,t))}async function Cd(n){const t=Kt(n),e=io(t);let i=t.ha.length>0?t.ha[t.ha.length-1].batchId:Zp;for(;mL(t);)try{const a=await XP(t.localStore,i);if(a===null){t.ha.length===0&&e.N_();break}i=a.batchId,gL(t,a)}catch(a){await ad(t,a)}C1(t)&&R1(t)}function mL(n){return ul(n)&&n.ha.length<10}function gL(n,t){n.ha.push(t);const e=io(n);e.M_()&&e.Y_&&e.Z_(t.mutations)}function C1(n){return ul(n)&&!io(n).F_()&&n.ha.length>0}function R1(n){io(n).start()}async function pL(n){io(n).ta()}async function _L(n){const t=io(n);for(const e of n.ha)t.Z_(e.mutations)}async function yL(n,t,e){const i=n.ha.shift(),a=$p.from(i,t,e);await A1(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Cd(n)}async function vL(n,t){t&&io(n).Y_&&await async function(i,a){if(function(c){return eP(c)&&c!==bt.ABORTED}(a.code)){const l=i.ha.shift();io(i).O_(),await A1(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Cd(i)}}(n,t),C1(n)&&R1(n)}async function kT(n,t){const e=Kt(n);e.asyncQueue.verifyOperationInProgress(),At(sl,"RemoteStore received new credentials");const i=ul(e);e.Ta.add(3),await eh(e),i&&e.da.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ta.delete(3),await Ad(e)}async function bL(n,t){const e=Kt(n);t?(e.Ta.delete(2),await Ad(e)):t||(e.Ta.add(2),await eh(e),e.da.set("Unknown"))}function bu(n){return n.Ra||(n.Ra=function(e,i,a){const l=Kt(e);return l.ra(),new sL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:cL.bind(null,n),n_:hL.bind(null,n),i_:fL.bind(null,n),j_:dL.bind(null,n)}),n.Ia.push(async t=>{t?(n.Ra.O_(),l_(n)?o_(n):n.da.set("Unknown")):(await n.Ra.stop(),w1(n))})),n.Ra}function io(n){return n.Va||(n.Va=function(e,i,a){const l=Kt(e);return l.ra(),new rL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:pL.bind(null,n),i_:vL.bind(null,n),X_:_L.bind(null,n),ea:yL.bind(null,n)}),n.Ia.push(async t=>{t?(n.Va.O_(),await Cd(n)):(await n.Va.stop(),n.ha.length>0&&(At(sl,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(t,e,i,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Xa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,l){const c=Date.now()+i,d=new u_(t,e,c,a,l);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Nt(bt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function c_(n,t){if(qr("AsyncQueue",`${t}: ${n}`),vu(n))return new Nt(bt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{static emptySet(t){return new au(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||zt.comparator(e.key,i.key):(e,i)=>zt.comparator(e.key,i.key),this.keyedMap=xc(),this.sortedSet=new Ke(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof au)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new au;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.ma=new Ke(zt.comparator)}track(t){const e=t.doc.key,i=this.ma.get(e);i?t.type!==0&&i.type===3?this.ma=this.ma.insert(e,t):t.type===3&&i.type!==1?this.ma=this.ma.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ma=this.ma.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ma=this.ma.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ma=this.ma.remove(e):t.type===1&&i.type===2?this.ma=this.ma.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ma=this.ma.insert(e,{type:2,doc:t.doc}):Ft(63341,{Vt:t,fa:i}):this.ma=this.ma.insert(e,t)}ga(){const t=[];return this.ma.inorderTraversal((e,i)=>{t.push(i)}),t}}class mu{constructor(t,e,i,a,l,c,d,g,y){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,e,i,a,l){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new mu(t,e,au.emptySet(e),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class EL{constructor(){this.queries=VT(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(e,i){const a=Kt(e),l=a.queries;a.queries=VT(),l.forEach((c,d)=>{for(const g of d.ya)g.onError(i)})})(this,new Nt(bt.ABORTED,"Firestore shutting down"))}}function VT(){return new ol(n=>Xx(n),bd)}async function xL(n,t){const e=Kt(n);let i=3;const a=t.query;let l=e.queries.get(a);l?!l.wa()&&t.Sa()&&(i=2):(l=new TL,i=t.Sa()?0:1);try{switch(i){case 0:l.pa=await e.onListen(a,!0);break;case 1:l.pa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const d=c_(c,`Initialization of query '${Jl(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,l),l.ya.push(t),t.Da(e.onlineState),l.pa&&t.va(l.pa)&&h_(e)}async function SL(n,t){const e=Kt(n),i=t.query;let a=3;const l=e.queries.get(i);if(l){const c=l.ya.indexOf(t);c>=0&&(l.ya.splice(c,1),l.ya.length===0?a=t.Sa()?0:1:!l.wa()&&t.Sa()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function wL(n,t){const e=Kt(n);let i=!1;for(const a of t){const l=a.query,c=e.queries.get(l);if(c){for(const d of c.ya)d.va(a)&&(i=!0);c.pa=a}}i&&h_(e)}function AL(n,t,e){const i=Kt(n),a=i.queries.get(t);if(a)for(const l of a.ya)l.onError(e);i.queries.delete(t)}function h_(n){n.ba.forEach(t=>{t.next()})}var mp,zT;(zT=mp||(mp={})).Ca="default",zT.Cache="cache";class CL{constructor(t,e,i){this.query=t,this.Fa=e,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=i||{}}va(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new mu(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),e=!0):this.Na(t,this.onlineState)&&(this.Ba(t),e=!0),this.xa=t,e}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let e=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),e=!0),e}Na(t,e){if(!t.fromCache||!this.Sa())return!0;const i=e!=="Offline";return(!this.options.La||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const e=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ba(t){t=mu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(t){this.key=t}}class D1{constructor(t){this.key=t}}class RL{constructor(t,e){this.query=t,this.Ga=e,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=le(),this.mutatedKeys=le(),this.Ha=Wx(t),this.Ja=new au(this.Ha)}get Ya(){return this.Ga}Za(t,e){const i=e?e.Xa:new NT,a=e?e.Ja:this.Ja;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,d=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((T,x)=>{const w=a.get(T),R=Td(this.query,x)?x:null,P=!!w&&this.mutatedKeys.has(w.key),k=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let V=!1;w&&R?w.data.isEqual(R.data)?P!==k&&(i.track({type:3,doc:R}),V=!0):this.eu(w,R)||(i.track({type:2,doc:R}),V=!0,(g&&this.Ha(R,g)>0||y&&this.Ha(R,y)<0)&&(d=!0)):!w&&R?(i.track({type:0,doc:R}),V=!0):w&&!R&&(i.track({type:1,doc:w}),V=!0,(g||y)&&(d=!0)),V&&(R?(c=c.add(R),l=k?l.add(T):l.delete(T)):(c=c.delete(T),l=l.delete(T)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const T=this.query.limitType==="F"?c.last():c.first();c=c.delete(T.key),l=l.delete(T.key),i.track({type:1,doc:T})}return{Ja:c,Xa:i,Cs:d,mutatedKeys:l}}eu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const l=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const c=t.Xa.ga();c.sort((T,x)=>function(R,P){const k=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft(20277,{Vt:V})}};return k(R)-k(P)}(T.type,x.type)||this.Ha(T.doc,x.doc)),this.tu(i),a=a!=null&&a;const d=e&&!a?this.nu():[],g=this.ja.size===0&&this.current&&!a?1:0,y=g!==this.za;return this.za=g,c.length!==0||y?{snapshot:new mu(this.query,t.Ja,l,c,t.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new NT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(e=>this.Ga=this.Ga.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ga=this.Ga.delete(e)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=le(),this.Ja.forEach(i=>{this.iu(i.key)&&(this.ja=this.ja.add(i.key))});const e=[];return t.forEach(i=>{this.ja.has(i)||e.push(new D1(i))}),this.ja.forEach(i=>{t.has(i)||e.push(new M1(i))}),e}su(t){this.Ga=t.$s,this.ja=le();const e=this.Za(t.documents);return this.applyChanges(e,!0)}ou(){return mu.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const f_="SyncEngine";class ML{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class DL{constructor(t){this.key=t,this._u=!1}}class IL{constructor(t,e,i,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new ol(d=>Xx(d),bd),this.cu=new Map,this.lu=new Set,this.hu=new Ke(zt.comparator),this.Pu=new Map,this.Tu=new e_,this.Iu={},this.Eu=new Map,this.du=du.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function OL(n,t,e=!0){const i=N1(n);let a;const l=i.uu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.ou()):a=await I1(i,t,e,!0),a}async function PL(n,t){const e=N1(n);await I1(e,t,!0,!1)}async function I1(n,t,e,i){const a=await WP(n.localStore,ar(t)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,e);let d;return i&&(d=await LL(n,t,l,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&x1(n.remoteStore,a),d}async function LL(n,t,e,i,a){n.Ru=(x,w,R)=>async function(k,V,K,tt){let st=V.view.Za(K);st.Cs&&(st=await DT(k.localStore,V.query,!1).then(({documents:B})=>V.view.Za(B,st)));const ut=tt&&tt.targetChanges.get(V.targetId),nt=tt&&tt.targetMismatches.get(V.targetId)!=null,ht=V.view.applyChanges(st,k.isPrimaryClient,ut,nt);return jT(k,V.targetId,ht.ru),ht.snapshot}(n,x,w,R);const l=await DT(n.localStore,t,!0),c=new RL(t,l.$s),d=c.Za(l.documents),g=th.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),y=c.applyChanges(d,n.isPrimaryClient,g);jT(n,e,y.ru);const T=new ML(t,e,c);return n.uu.set(t,T),n.cu.has(e)?n.cu.get(e).push(t):n.cu.set(e,[t]),y.snapshot}async function kL(n,t,e){const i=Kt(n),a=i.uu.get(t),l=i.cu.get(a.targetId);if(l.length>1)return i.cu.set(a.targetId,l.filter(c=>!bd(c,t))),void i.uu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await fp(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),e&&r_(i.remoteStore,a.targetId),gp(i,a.targetId)}).catch(yu)):(gp(i,a.targetId),await fp(i.localStore,a.targetId,!0))}async function NL(n,t){const e=Kt(n),i=e.uu.get(t),a=e.cu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),r_(e.remoteStore,i.targetId))}async function VL(n,t,e){const i=qL(n);try{const a=await function(c,d){const g=Kt(c),y=bn.now(),T=d.reduce((R,P)=>R.add(P.key),le());let x,w;return g.persistence.runTransaction("Locally write mutations","readwrite",R=>{let P=Zr(),k=le();return g.Bs.getEntries(R,T).next(V=>{P=V,P.forEach((K,tt)=>{tt.isValidDocument()||(k=k.add(K))})}).next(()=>g.localDocuments.getOverlayedDocuments(R,P)).next(V=>{x=V;const K=[];for(const tt of d){const st=WO(tt,x.get(tt.key).overlayedDocument);st!=null&&K.push(new ll(tt.key,st,Ux(st.value.mapValue),or.exists(!0)))}return g.mutationQueue.addMutationBatch(R,y,K,d)}).next(V=>{w=V;const K=V.applyToLocalDocumentSet(x,k);return g.documentOverlayCache.saveOverlays(R,V.batchId,K)})}).then(()=>({batchId:w.batchId,changes:$x(x)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,g){let y=c.Iu[c.currentUser.toKey()];y||(y=new Ke(Jt)),y=y.insert(d,g),c.Iu[c.currentUser.toKey()]=y}(i,a.batchId,e),await nh(i,a.changes),await Cd(i.remoteStore)}catch(a){const l=c_(a,"Failed to persist write");e.reject(l)}}async function O1(n,t){const e=Kt(n);try{const i=await YP(e.localStore,t);t.targetChanges.forEach((a,l)=>{const c=e.Pu.get(l);c&&(be(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c._u=!0:a.modifiedDocuments.size>0?be(c._u,14607):a.removedDocuments.size>0&&(be(c._u,42227),c._u=!1))}),await nh(e,i,t)}catch(i){await yu(i)}}function BT(n,t,e){const i=Kt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.uu.forEach((l,c)=>{const d=c.view.Da(t);d.snapshot&&a.push(d.snapshot)}),function(c,d){const g=Kt(c);g.onlineState=d;let y=!1;g.queries.forEach((T,x)=>{for(const w of x.ya)w.Da(d)&&(y=!0)}),y&&h_(g)}(i.eventManager,t),a.length&&i.au.j_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function zL(n,t,e){const i=Kt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Pu.get(t),l=a&&a.key;if(l){let c=new Ke(zt.comparator);c=c.insert(l,Jn.newNoDocument(l,Yt.min()));const d=le().add(l),g=new Sd(Yt.min(),new Map,new Ke(Jt),c,d);await O1(i,g),i.hu=i.hu.remove(l),i.Pu.delete(t),d_(i)}else await fp(i.localStore,t,!1).then(()=>gp(i,t,e)).catch(yu)}async function BL(n,t){const e=Kt(n),i=t.batch.batchId;try{const a=await GP(e.localStore,t);L1(e,i,null),P1(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await nh(e,a)}catch(a){await yu(a)}}async function jL(n,t,e){const i=Kt(n);try{const a=await function(c,d){const g=Kt(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return g.mutationQueue.lookupMutationBatch(y,d).next(x=>(be(x!==null,37113),T=x.keys(),g.mutationQueue.removeMutationBatch(y,x))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>g.localDocuments.getDocuments(y,T))})}(i.localStore,t);L1(i,t,e),P1(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await nh(i,a)}catch(a){await yu(a)}}function P1(n,t){(n.Eu.get(t)||[]).forEach(e=>{e.resolve()}),n.Eu.delete(t)}function L1(n,t,e){const i=Kt(n);let a=i.Iu[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),i.Iu[i.currentUser.toKey()]=a}}function gp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.cu.get(t))n.uu.delete(i),e&&n.au.Vu(i,e);n.cu.delete(t),n.isPrimaryClient&&n.Tu.Hr(t).forEach(i=>{n.Tu.containsKey(i)||k1(n,i)})}function k1(n,t){n.lu.delete(t.path.canonicalString());const e=n.hu.get(t);e!==null&&(r_(n.remoteStore,e),n.hu=n.hu.remove(t),n.Pu.delete(e),d_(n))}function jT(n,t,e){for(const i of e)i instanceof M1?(n.Tu.addReference(i.key,t),UL(n,i)):i instanceof D1?(At(f_,"Document no longer in limbo: "+i.key),n.Tu.removeReference(i.key,t),n.Tu.containsKey(i.key)||k1(n,i.key)):Ft(19791,{mu:i})}function UL(n,t){const e=t.key,i=e.path.canonicalString();n.hu.get(e)||n.lu.has(i)||(At(f_,"New document in limbo: "+e),n.lu.add(i),d_(n))}function d_(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const t=n.lu.values().next().value;n.lu.delete(t);const e=new zt(qe.fromString(t)),i=n.du.next();n.Pu.set(i,new DL(e)),n.hu=n.hu.insert(e,i),x1(n.remoteStore,new qa(ar(Kx(e.path)),i,"TargetPurposeLimboResolution",pd.le))}}async function nh(n,t,e){const i=Kt(n),a=[],l=[],c=[];i.uu.isEmpty()||(i.uu.forEach((d,g)=>{c.push(i.Ru(g,t,e).then(y=>{var T;if((y||e)&&i.isPrimaryClient){const x=y?!y.fromCache:(T=e==null?void 0:e.targetChanges.get(g.targetId))===null||T===void 0?void 0:T.current;i.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){a.push(y);const x=i_.Rs(g.targetId,y);l.push(x)}}))}),await Promise.all(c),i.au.j_(a),await async function(g,y){const T=Kt(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>pt.forEach(y,w=>pt.forEach(w.ds,R=>T.persistence.referenceDelegate.addReference(x,w.targetId,R)).next(()=>pt.forEach(w.As,R=>T.persistence.referenceDelegate.removeReference(x,w.targetId,R)))))}catch(x){if(!vu(x))throw x;At(s_,"Failed to update sequence numbers: "+x)}for(const x of y){const w=x.targetId;if(!x.fromCache){const R=T.xs.get(w),P=R.snapshotVersion,k=R.withLastLimboFreeSnapshotVersion(P);T.xs=T.xs.insert(w,k)}}}(i.localStore,l))}async function HL(n,t){const e=Kt(n);if(!e.currentUser.isEqual(t)){At(f_,"User change. New user:",t.toKey());const i=await v1(e.localStore,t);e.currentUser=t,function(l,c){l.Eu.forEach(d=>{d.forEach(g=>{g.reject(new Nt(bt.CANCELLED,c))})}),l.Eu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await nh(e,i.ks)}}function FL(n,t){const e=Kt(n),i=e.Pu.get(t);if(i&&i._u)return le().add(i.key);{let a=le();const l=e.cu.get(t);if(!l)return a;for(const c of l){const d=e.uu.get(c);a=a.unionWith(d.view.Ya)}return a}}function N1(n){const t=Kt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=O1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=FL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zL.bind(null,t),t.au.j_=wL.bind(null,t.eventManager),t.au.Vu=AL.bind(null,t.eventManager),t}function qL(n){const t=Kt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jL.bind(null,t),t}class od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wd(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,e){return null}bu(t,e){return null}wu(t){return ZP(this.persistence,new HP,t.initialUser,this.serializer)}yu(t){return new y1(n_.fi,this.serializer)}pu(t){return new $P}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}od.provider={build:()=>new od};class ZL extends od{constructor(t){super(),this.cacheSizeBytes=t}Su(t,e){be(this.persistence.referenceDelegate instanceof rd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new CP(i,t.asyncQueue,e)}yu(t){const e=this.cacheSizeBytes!==void 0?vi.withCacheSize(this.cacheSizeBytes):vi.DEFAULT;return new y1(i=>rd.fi(i,e),this.serializer)}}class pp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>BT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=HL.bind(null,this.syncEngine),await bL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new EL}()}createDatastore(t){const e=wd(t.databaseInfo.databaseId),i=function(l){return new iL(l)}(t.databaseInfo);return function(l,c,d,g){return new oL(l,c,d,g)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,a,l,c,d){return new uL(i,a,l,c,d)}(this.localStore,this.datastore,t.asyncQueue,e=>BT(this.syncEngine,e,0),function(){return PT.C()?new PT:new JP}())}createSyncEngine(t,e){return function(a,l,c,d,g,y,T){const x=new IL(a,l,c,d,g,y);return T&&(x.Au=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(a){const l=Kt(a);At(sl,"RemoteStore shutting down."),l.Ta.add(5),await eh(l),l.Ea.shutdown(),l.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):qr("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="FirestoreClient";class YL{constructor(t,e,i,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=$n.UNAUTHENTICATED,this.clientId=Ix.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{At(so,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(At(so,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=c_(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function kg(n,t){n.asyncQueue.verifyOperationInProgress(),At(so,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await v1(t.localStore,a),i=a)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function UT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await KL(n);At(so,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>kT(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>kT(t.remoteStore,a)),n._onlineComponents=t}async function KL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){At(so,"Using user provided OfflineComponentProvider");try{await kg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===bt.FAILED_PRECONDITION||a.code===bt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;uu("Error using user provided cache. Falling back to memory cache: "+e),await kg(n,new od)}}else At(so,"Using default OfflineComponentProvider"),await kg(n,new ZL(void 0));return n._offlineComponents}async function V1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(At(so,"Using user provided OnlineComponentProvider"),await UT(n,n._uninitializedComponentsProvider._online)):(At(so,"Using default OnlineComponentProvider"),await UT(n,new pp))),n._onlineComponents}function XL(n){return V1(n).then(t=>t.syncEngine)}async function WL(n){const t=await V1(n),e=t.eventManager;return e.onListen=OL.bind(null,t.syncEngine),e.onUnlisten=kL.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=PL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=NL.bind(null,t.syncEngine),e}function QL(n,t,e={}){const i=new Xa;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,g,y){const T=new GL({next:w=>{T.Cu(),c.enqueueAndForget(()=>SL(l,x)),w.fromCache&&g.source==="server"?y.reject(new Nt(bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),x=new CL(d,T,{includeMetadataChanges:!0,La:!0});return xL(l,x)}(await WL(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(n,t,e){if(!e)throw new Nt(bt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function $L(n,t,e,i){if(t===!0&&i===!0)throw new Nt(bt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function FT(n){if(!zt.isDocumentKey(n))throw new Nt(bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qT(n){if(zt.isDocumentKey(n))throw new Nt(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function m_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ft(12329,{type:typeof n})}function Wc(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Nt(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=m_(n);throw new Nt(bt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="firestore.googleapis.com",ZT=!0;class GT{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Nt(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=j1,this.ssl=ZT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:ZT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wP)throw new Nt(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$L("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z1((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Nt(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Nt(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Nt(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rd{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Nt(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Nt(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new tO;switch(i.type){case"firstParty":return new sO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Nt(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,qE("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=HT.get(e);i&&(At("ComponentProvider","Removing Datastore"),HT.delete(e),i.terminate())}(this),Promise.resolve()}}function JL(n,t,e,i={}){var a;n=Wc(n,Rd);const l=Np(t),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),g=`${t}:${e}`;c.host!==j1&&c.host!==g&&uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},c),{host:g,ssl:l,emulatorOptions:i});if(!Uc(y,d)&&(n._setSettings(y),l&&(lM(`https://${g}`),qE("Firestore",!0)),i.mockUserToken)){let T,x;if(typeof i.mockUserToken=="string")T=i.mockUserToken,x=$n.MOCK_USER;else{T=uM(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new Nt(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new $n(w)}n._authCredentials=new eO(new Mx(T,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Md(this.firestore,t,this._query)}}class Ps{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ps(this.firestore,t,this._key)}}class Wa extends Md{constructor(t,e,i){super(t,e,Kx(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ps(this.firestore,null,new zt(t))}withConverter(t){return new Wa(this.firestore,t,this._path)}}function YT(n,t,...e){if(n=tl(n),B1("collection","path",t),n instanceof Rd){const i=qe.fromString(t,...e);return qT(i),new Wa(n,null,i)}{if(!(n instanceof Ps||n instanceof Wa))throw new Nt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(qe.fromString(t,...e));return qT(i),new Wa(n.firestore,null,i)}}function U1(n,t,...e){if(n=tl(n),arguments.length===1&&(t=Ix.newId()),B1("doc","path",t),n instanceof Rd){const i=qe.fromString(t,...e);return FT(i),new Ps(n,null,new zt(i))}{if(!(n instanceof Ps||n instanceof Wa))throw new Nt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(qe.fromString(t,...e));return FT(i),new Ps(n.firestore,n instanceof Wa?n.converter:null,new zt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="AsyncQueue";class XT{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new T1(this,"async_queue_retry"),this.ec=()=>{const i=Lg();i&&At(KT,"Visibility state changed to "+i.visibilityState),this.C_.p_()},this.tc=t;const e=Lg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const e=Lg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const e=new Xa;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!vu(t))throw t;At(KT,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const e=this.tc.then(()=>(this.Yu=!0,t().catch(i=>{throw this.Ju=i,this.Yu=!1,qr("INTERNAL UNHANDLED ERROR: ",WT(i)),i}).then(i=>(this.Yu=!1,i))));return this.tc=e,e}enqueueAfterDelay(t,e,i){this.nc(),this.Xu.indexOf(t)>-1&&(e=0);const a=u_.createAndSchedule(this,t,e,i,l=>this.oc(l));return this.Hu.push(a),a}nc(){this.Ju&&Ft(47125,{_c:WT(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const e of this.Hu)if(e.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Hu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const e=this.Hu.indexOf(t);this.Hu.splice(e,1)}}function WT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Dd extends Rd{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new XT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new XT(t),this._firestoreClient=void 0,await t}}}function tk(n,t){const e=typeof n=="object"?n:QE(),i=typeof n=="string"?n:Jf,a=$c(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=aM("firestore");l&&JL(a,...l)}return a}function H1(n){if(n._terminated)throw new Nt(bt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ek(n),n._firestoreClient}function ek(n){var t,e,i;const a=n._freezeSettings(),l=function(d,g,y,T){return new vO(d,g,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,z1(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new YL(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gu(Hn.fromBase64String(t))}catch(e){throw new Nt(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new gu(Hn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Nt(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Nt(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Nt(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Jt(this._lat,t._lat)||Jt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=/^__.*__$/;class ik{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new ll(t,this.data,this.fieldMask,e,this.fieldTransforms):new Jc(t,this.data,e,this.fieldTransforms)}}function F1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft(40011,{hc:n})}}class v_{constructor(t,e,i,a,l,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Pc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new v_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.Tc({path:i,Ec:!1});return a.dc(t),a}Ac(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.Tc({path:i,Ec:!1});return a.Pc(),a}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return ld(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if(F1(this.hc)&&nk.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class sk{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||wd(t)}gc(t,e,i,a=!1){return new v_({hc:t,methodName:e,fc:i,path:Un.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rk(n){const t=n._freezeSettings(),e=wd(n._databaseId);return new sk(n._databaseId,!!t.ignoreUndefinedProperties,e)}function ak(n,t,e,i,a,l={}){const c=n.gc(l.merge||l.mergeFields?2:0,t,e,a);Y1("Data must be an object, but it was:",c,i);const d=Z1(i,c);let g,y;if(l.merge)g=new Os(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const T=[];for(const x of l.mergeFields){const w=ok(t,x,e);if(!c.contains(w))throw new Nt(bt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);uk(T,w)||T.push(w)}g=new Os(T),y=c.fieldTransforms.filter(x=>g.covers(x.field))}else g=null,y=c.fieldTransforms;return new ik(new fs(d),g,y)}class b_ extends p_{_toFieldTransform(t){return new GO(t.path,new Yc)}isEqual(t){return t instanceof b_}}function q1(n,t){if(G1(n=tl(n)))return Y1("Unsupported field value:",t,n),Z1(n,t);if(n instanceof p_)return function(i,a){if(!F1(a.hc))throw a.Vc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let g=q1(d,a.Rc(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}}(n,t)}return function(i,a){if((i=tl(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return FO(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=bn.fromDate(i);return{timestampValue:sd(a.serializer,l)}}if(i instanceof bn){const l=new bn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:sd(a.serializer,l)}}if(i instanceof __)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gu)return{bytesValue:c1(a.serializer,i._byteString)};if(i instanceof Ps){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:t_(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof y_)return function(c,d){return{mapValue:{fields:{[Bx]:{stringValue:jx},[td]:{arrayValue:{values:c.toArray().map(y=>{if(typeof y!="number")throw d.Vc("VectorValues must only contain numeric values.");return Wp(d.serializer,y)})}}}}}}(i,a);throw a.Vc(`Unsupported field value: ${m_(i)}`)}(n,t)}function Z1(n,t){const e={};return Px(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):al(n,(i,a)=>{const l=q1(a,t.Ic(i));l!=null&&(e[i]=l)}),{mapValue:{fields:e}}}function G1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bn||n instanceof __||n instanceof gu||n instanceof Ps||n instanceof p_||n instanceof y_)}function Y1(n,t,e){if(!G1(e)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(e)){const i=m_(e);throw i==="an object"?t.Vc(n+" a custom object"):t.Vc(n+" "+i)}}function ok(n,t,e){if((t=tl(t))instanceof g_)return t._internalPath;if(typeof t=="string")return K1(n,t);throw ld("Field path arguments must be of type string or ",n,!1,void 0,e)}const lk=new RegExp("[~\\*/\\[\\]]");function K1(n,t,e){if(t.search(lk)>=0)throw ld(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new g_(...t.split("."))._internalPath}catch{throw ld(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function ld(n,t,e,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||c)&&(g+=" (found",l&&(g+=` in field ${i}`),c&&(g+=` in document ${a}`),g+=")"),new Nt(bt.INVALID_ARGUMENT,d+n+g)}function uk(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t,e,i,a,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ps(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ck(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(W1("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class ck extends X1{data(){return super.data()}}function W1(n,t){return typeof t=="string"?K1(n,t):t instanceof g_?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Nt(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fk{convertValue(t,e="none"){switch(no(t)){case 0:return null;case 1:return t.booleanValue;case 2:return sn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(eo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ft(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return al(t,(a,l)=>{i[a]=this.convertValue(l,e)}),i}convertVectorValue(t){var e,i,a;const l=(a=(i=(e=t.fields)===null||e===void 0?void 0:e[td].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>sn(c.doubleValue));return new y_(l)}convertGeoPoint(t){return new __(sn(t.latitude),sn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=yd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(qc(t));default:return null}}convertTimestamp(t){const e=to(t);return new bn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=qe.fromString(t);be(p1(i),9688,{name:t});const a=new Zc(i.get(1),i.get(3)),l=new zt(i.popFirst(5));return a.isEqual(e)||qr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(n,t,e){let i;return i=n?n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class mk extends X1{constructor(t,e,i,a,l,c){super(t,e,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(W1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Vf extends mk{data(t={}){return super.data(t)}}class gk{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new wf(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Vf(this._firestore,this._userDataWriter,i.key,i,new wf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Nt(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const g=new Vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new wf(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const g=new Vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new wf(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,T=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),T=c.indexOf(d.doc.key)),{type:pk(d.type),doc:g,oldIndex:y,newIndex:T}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function pk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft(61501,{type:n})}}class _k extends fk{constructor(t){super(),this.firestore=t}convertBytes(t){return new gu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ps(this.firestore,null,e)}}function yk(n){n=Wc(n,Md);const t=Wc(n.firestore,Dd),e=H1(t),i=new _k(t);return hk(n._query),QL(e,n._query).then(a=>new gk(t,i,n,a))}function vk(n){return Q1(Wc(n.firestore,Dd),[new Qp(n._key,or.none())])}function bk(n,t){const e=Wc(n.firestore,Dd),i=U1(n),a=dk(n.converter,t);return Q1(e,[ak(rk(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,or.exists(!1))]).then(()=>i)}function Q1(n,t){return function(i,a){const l=new Xa;return i.asyncQueue.enqueueAndForget(async()=>VL(await XL(i),a,l)),l.promise}(H1(n),t)}function Tk(){return new b_("serverTimestamp")}(function(t,e=!0){(function(a){_u=a})(ED),$a(new Hr("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Dd(new nO(i.getProvider("auth-internal")),new rO(c,i.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Nt(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(y.options.projectId,T)}(c,a),c);return l=Object.assign({useFetchStreams:e},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),rr(tT,eT,t),rr(tT,eT,"esm2017")})();const Ek={apiKey:"AIzaSyC4_0L4czEQ8T3rmgO6HOe5UHqKcZxAAd4",authDomain:"finance-tracker-ec7cd.firebaseapp.com",projectId:"finance-tracker-ec7cd",storageBucket:"finance-tracker-ec7cd.appspot.com",messagingSenderId:"40625146495",appId:"1:40625146495:web:ce29a39b4a954ebbb4cd4a",measurementId:"G-ZW80H0REEZ"},$1=WE(Ek);WI($1);const Ng=tk($1);function xk({isDark:n,onToggleTheme:t,...e}){const[i,a]=De.useState(!1),[l,c]=De.useState(!1),[d,g]=De.useState(""),[y,T]=De.useState({income:[{col1:"",col2:"",col3:""}],bills:[{col1:"",col2:"",col3:""}],expenses:[{col1:"",col2:"",col3:""}],savings:[{col1:"",col2:"",col3:""}]}),[x,w]=De.useState({incomeColumn2:0,billColumn2:0,expensesColumn2:0,savingsColumn2:0,incomeColumn3:0,billColumn3:0,expensesColumn3:0,savingsColumn3:0}),[R,P]=De.useState(""),[k,V]=De.useState(""),[K,tt]=De.useState([]),st=De.useRef(null),ut=De.useRef(null),nt=De.useRef(null),ht=De.useRef([]);De.useEffect(()=>{function Pt(Qt){st.current&&!st.current.contains(Qt.target)&&a(!1),ut.current&&!ut.current.contains(Qt.target)&&c(!1)}return document.addEventListener("mousedown",Pt),()=>{document.removeEventListener("mousedown",Pt)}},[]);const B=(Pt,Qt)=>(y[Pt]||[]).reduce((dn,an)=>{const ui=parseFloat(an[Qt]);return dn+(isNaN(ui)?0:ui)},0),O=()=>{w({incomeColumn2:B("income","col2"),savingsColumn2:B("savings","col2"),billColumn2:B("bills","col2"),expensesColumn2:B("expenses","col2"),incomeColumn3:B("income","col3"),savingsColumn3:B("savings","col3"),billColumn3:B("bills","col3"),expensesColumn3:B("expenses","col3")})},N=x.incomeColumn2,H=x.incomeColumn3,U=x.billColumn2,Z=x.billColumn3,j=x.savingsColumn2,Ut=x.savingsColumn3,Ot=x.expensesColumn2,$=x.expensesColumn3,_t=N+U+j+Ot,dt=H+Z+Ut+$,kt=H-Z-$-Ut,z=H-kt;De.useEffect(()=>{const Pt=setTimeout(()=>{O()},1e3);return()=>clearTimeout(Pt)},[y]),De.useEffect(()=>{const Pt=new window.IntersectionObserver(Qt=>{Qt.forEach(Te=>{Te.isIntersecting?Te.target.classList.remove("fadeOut"):Te.target.classList.add("fadeOut")})},{root:document.querySelector(".cartTableContainer"),threshold:.15});return ht.current.forEach(Qt=>{Qt&&Pt.observe(Qt)}),()=>Pt.disconnect()},[K]);function lt(){a(Pt=>!Pt)}function vt(){c(Pt=>!Pt)}function mt(){g(nt.current.value)}function xt(Pt,Qt,Te,dn){const an=[...y[Pt]];an[Qt][Te]=dn;const ui=Qt===an.length-1;Object.values(an[Qt]).some(Zi=>Zi!=="")&&ui&&an.push({col1:"",col2:"",col3:""}),T(Zi=>({...Zi,[Pt]:an}))}const St=async()=>{try{await bk(YT(Ng,"userinputs"),{allRows:y,grandActualTotal:dt,grandBudgetTotal:_t,incomeBudget:N,incomeActual:H,billsBudget:U,billsActual:Z,savingsBudget:j,savingsActual:Ut,expensesBudget:Ot,expensesActual:$,selectedMonth:d,timestamp:Tk()}),P("Data saved !"),setTimeout(()=>P(""),2e3)}catch(Pt){alert("error in saving data"+Pt.message),setTimeout(()=>P(""),3e3)}},Tt=async()=>{try{const Pt=await yk(YT(Ng,"userinputs")),Qt=[];if(Pt.forEach(Te=>{Qt.push({id:Te.id,...Te.data()})}),tt(Qt),Qt.length>0){const Te=Qt.filter(dn=>dn.timestamp).sort((dn,an)=>{const ui=dn.timestamp.toDate?dn.timestamp.toDate().getTime():new Date(dn.timestamp).getTime();return(an.timestamp.toDate?an.timestamp.toDate().getTime():new Date(an.timestamp).getTime())-ui})[0];T(Te.allRows),g(Te.selectedMonth),V(Te)}return Qt}catch(Pt){alert("error fetching data",+Pt.message)}},_e=()=>{T({income:[{col1:"",col2:"",col3:""}],bills:[{col1:"",col2:"",col3:""}],expenses:[{col1:"",col2:"",col3:""}],savings:[{col1:"",col2:"",col3:""}]}),g("")},ne=async Pt=>{try{if(!Pt)return;await vk(U1(Ng,"userinputs",Pt)),tt(Qt=>Qt.filter(Te=>Te.id!==Pt))}catch(Qt){alert("error deleting data"+Qt.message)}},ti=["January","February","March","April","May","June","July","August","September","October","November","December"],li={outline:"none",border:"none"};return G.jsxs("div",{className:`body ${n?"dark":""}`,children:[G.jsxs("header",{children:[G.jsx("h1",{className:"title",children:"  Money Map"}),G.jsxs("div",{className:"menu",children:[G.jsx("h2",{children:"Menu"}),G.jsx("img",{className:"searchIconSmall",src:"../src/assets/search.png",alt:"search icon",onClick:lt}),G.jsx("img",{className:"cartSmall",src:"../src/assets/shopping.png",alt:"shopping cart icon",onClick:vt}),G.jsx("button",{className:"toggleThemeSmall",onClick:t,children:n?"Dark":"Light"})]}),G.jsx("button",{className:"toggleTheme",onClick:t,children:n?"Dark Mode":"Light Mode"}),G.jsx("img",{className:"searchIcon",src:"../src/assets/search.png",alt:"search icon",onClick:lt}),i&&G.jsxs("div",{className:"searchContainer ",ref:st,children:[G.jsx("img",{className:"searchInputIcon",src:"../src/assets/search.png",alt:"search icon"}),G.jsx("input",{className:"searchInput",type:"search",placeholder:"Search"}),G.jsx("img",{className:"cancelInputIcon",src:"../src/assets/cancel.png",alt:""})]}),G.jsx("img",{className:"cart",src:"../src/assets/shopping.png",alt:"shopping cart icon",onClick:vt}),l&&G.jsxs("div",{className:"cartDisplay ",ref:ut,children:[G.jsxs("div",{className:"cartIconContainer",children:[G.jsx("h1",{children:"History"}),G.jsx("img",{className:"cancelCartIcon",src:"../src/assets/cross2.png",alt:"",onClick:()=>c(!1)}),G.jsx("button",{onClick:Tt,children:"Load Data"})]}),K.length>0&&G.jsx("div",{className:"cartTableContainer",children:K.map((Pt,Qt)=>G.jsxs("table",{className:"summary",ref:Te=>ht.current[Qt]=Te,children:[G.jsxs("thead",{children:[G.jsx("tr",{children:G.jsxs("th",{colSpan:3,children:[Pt.selectedMonth,"  Summary ",new Date().getFullYear()]})}),G.jsxs("tr",{children:[G.jsx("td",{children:"Name"}),G.jsx("td",{children:"Budget"}),G.jsx("td",{children:"Actual"})]})]}),G.jsxs("tbody",{children:[G.jsxs("tr",{children:[G.jsx("td",{children:"Income"}),G.jsx("td",{children:Pt.incomeBudget}),G.jsx("td",{children:Pt.incomeActual})]}),G.jsxs("tr",{children:[G.jsx("td",{children:"Bills"}),G.jsx("td",{children:Pt.billsBudget}),G.jsx("td",{children:Pt.billsActual})]}),G.jsxs("tr",{children:[G.jsx("td",{children:"Expenses"}),G.jsx("td",{children:Pt.expensesBudget}),G.jsx("td",{children:Pt.expensesActual})]}),G.jsxs("tr",{children:[G.jsx("td",{children:"Savings"}),G.jsx("td",{children:Pt.savingsBudget}),G.jsx("td",{children:Pt.savingsActual})]}),G.jsxs("tr",{children:[G.jsx("td",{children:"Sum"}),G.jsx("td",{children:Pt.grandBudgetTotal}),G.jsx("td",{children:Pt.grandActualTotal})]}),G.jsxs("tr",{children:[G.jsx("td",{children:"Time saved:"}),G.jsx("td",{children:Pt.timestamp&&Pt.timestamp.toDate?Pt.timestamp.toDate().toLocaleString():new Date(Pt.timestamp).toLocaleString()})]}),G.jsx("tr",{children:G.jsx("td",{colSpan:3,children:G.jsx("button",{className:"deleteTableButton",onClick:()=>ne(Pt.id),children:"Delete"})})})]})]},Pt.id))})]})]}),G.jsx("hr",{}),G.jsxs("section",{className:"text",children:[G.jsx("h2",{className:`slogan ${n&&"dark"}`,children:"Keep your money on a short leash"}),G.jsx("p",{className:`sloganText ${n&&"dark"}`,children:"Track every coin. Grow every goal"})]}),G.jsxs("main",{children:[G.jsxs("nav",{children:[G.jsx("h2",{className:"month",children:d}),G.jsxs("p",{children:["Budgeted Income ",G.jsx("span",{className:"budgeted",children:G.jsx("b",{children:_t})})]}),G.jsxs("p",{children:["Actual Income",G.jsx("span",{className:"leftToBudget",children:G.jsx("b",{children:dt})})]}),G.jsxs("p",{children:["Income Spent",G.jsx("span",{className:"incomeSpent",children:G.jsx("b",{children:z})})]}),G.jsx("progress",{className:"myProgress",value:"50",max:"100"}),G.jsxs("p",{children:["Savings",G.jsx("span",{className:"incomeSaved",children:G.jsx("b",{children:Ut})})]}),G.jsxs("p",{children:["Income Leftover ",G.jsx("span",{className:"incomeLeftover",children:G.jsx("b",{children:kt})})]})]}),G.jsx(XR,{monthSelect:nt,handleMonthSelect:mt,months:ti,selectedMonth:d,allRows:y,inputStyles:li,handleRowChange:xt,incomeBudget:N,incomeActual:H,billsBudget:U,billsActual:Z,expensesBudget:Ot,expensesActual:$,savingsBudget:j,savingsActual:Ut,grandBudgetTotal:_t,grandActualTotal:dt,incomeLeft:kt,incomeSpent:z,savingsActualNav:Ut}),G.jsx("button",{className:"saveButton",type:"button",onClick:St,children:"Save"}),G.jsx("button",{className:"deleteButton",onClick:_e,type:"button",children:"Delete"}),R&&G.jsxs("div",{className:"savedStatus",children:[G.jsx("h2",{children:"Storage Message"}),G.jsx("p",{children:R})]}),G.jsx(KR,{incomeActual:H,billsActual:Z,expensesActual:$,savingsActual:Ut,incomeBudget:N,billsBudget:U,expensesBudget:Ot,savingsBudget:j,incomeSpent:z,isDark:n})]})]})}function Sk(){const[n,t]=De.useState(!1);function e(){t(i=>!i)}return G.jsx(G.Fragment,{children:G.jsx(xk,{isDark:n,onToggleTheme:e})})}ww.createRoot(document.getElementById("root")).render(G.jsx(De.StrictMode,{children:G.jsx(Sk,{})}));
